function debugLine(a,b,c){!0===a&&(a="true"),!1===a&&(a="false");var d=a;if("object"==typeof a){d="";for(name in a){var e=a[name];d+=" "+name+": "+e}}if(1!=b||c||(d+=" "+Math.random()),1==c){var f=jQuery("#debug_line");f.width(200),f.height()>=500&&f.html("");d=f.html()+"<br> -------------- <br>"+d}jQuery("#debug_line").show().html(d)}function debugSide(a){var b="";for(name in a){var c=a[name];b+=name+" : "+c+"<br>"}jQuery("#debug_side").show().html(b)}function trace(a){"undefined"!=typeof console&&console.log(a)}function UGFunctions(){function e(a,b,c){b.addEventListener?b.addEventListener(a,c,!1):b.attachEvent?b.attachEvent("on"+a,c):b[a]=c}var a=null,c=this,d={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(a,b){if(a.requestFullscreen)a.requestFullscreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else if(a.webkitRequestFullscreen)a.webkitRequestFullscreen();else{if(!a.msRequestFullscreen)return!1;a.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==c.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(a){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,a):document.msExitFullscreen?e("MSFullscreenChange",document,a):document.mozCancelFullScreen?e("mozfullscreenchange",document,a):e("fullscreenchange",document,a)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},this.isFullScreen=function(){var a=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return a=!!a},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==a)return a;var b=["webkit","Moz","ms","O"],c=document.createElement("div");for(var d in b){var e=b[d];if(e+"Transform"in c.style)return e=e.toLowerCase(),a=e,e}return a="",""},this.getImageInsideParentDataByImage=function(a,b,d){var e=a.parent(),f=c.getImageOriginalSize(a);return c.getImageInsideParentData(e,f.width,f.height,b,d)},this.getImageInsideParentData=function(a,b,c,d,e,f,g){if(!e)var e={};var h={};if(void 0===f)var f=a.width();if(void 0===g)var g=a.height();e.padding_left&&(f-=e.padding_left),e.padding_right&&(f-=e.padding_right),e.padding_top&&(g-=e.padding_top),e.padding_bottom&&(g-=e.padding_bottom);var i=null,j="100%",k=null,l=null,m="display:block;margin:0px auto;";if(b>0&&c>0){if("down"==d&&b<f&&c<g)j=c,i=b,l=(f-i)/2,k=(g-j)/2;else if("fill"==d){var n=b/c;j=g,i=j*n,i<f?(i=f,j=i/n,l=0,k=Math.round((j-g)/2*-1)):(k=0,l=Math.round((i-f)/2*-1))}else{var n=b/c;j=g,i=j*n,k=0,l=(f-i)/2,"fitvert"!=d&&i>f&&(i=f,j=i/n,l=0,k=(g-j)/2)}i=Math.floor(i),j=Math.floor(j),k=Math.floor(k),l=Math.floor(l),m="position:absolute;"}return e.padding_top&&(k+=e.padding_top),e.padding_left&&(l+=e.padding_left),h.imageWidth=i,h.imageHeight=j,h.imageTop=k,h.imageLeft=l,h.imageRight=l+i,h.imageBottom=0==k||"100%"==j?null:k+j,h.style=m,h},this.getElementCenterPosition=function(a,b){var d=a.parent(),e=c.getElementSize(a),f=c.getElementSize(d),g=f.width,h=f.height;b&&void 0!==b.padding_top&&(h-=b.padding_top),b&&void 0!==b.padding_bottom&&(h-=b.padding_bottom),b&&void 0!==b.padding_left&&(g-=b.padding_left),b&&void 0!==b.padding_right&&(g-=b.padding_right);var i={};return i.left=Math.round((g-e.width)/2),i.top=Math.round((h-e.height)/2),b&&void 0!==b.padding_top&&(i.top+=b.padding_top),b&&void 0!==b.padding_left&&(i.left+=b.padding_left),i},this.getElementCenterPoint=function(a,b){if(!b)var b=!1;var d=c.getElementSize(a),e={};return e.x=d.width/2,e.y=d.height/2,1==b&&(e.x+=d.left,e.y+=d.top),e.x=Math.round(e.x),e.y=Math.round(e.y),e},this.getMousePosition=function(a,b){var c={pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY};if(a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(c.pageX=a.originalEvent.touches[0].pageX,c.pageY=a.originalEvent.touches[0].pageY,c.clientX=a.originalEvent.touches[0].clientX,c.clientY=a.originalEvent.touches[0].clientY),b){var d=b.offset();c.mouseX=c.pageX-d.left,c.mouseY=c.pageY-d.top}return c},this.getMouseElementPoint=function(a,b){var d={x:a.pageX,y:a.pageY};return c.getElementLocalPoint(d,b)},this.getElementLocalPoint=function(a,b){var c={},d=b.offset();return c.x=Math.round(a.x-d.left),c.y=Math.round(a.y-d.top),c},this.getImageOriginalSize=function(a,b,c){if(void 0!==b&&void 0!==c)return{width:b,height:c};var d=a[0];if(void 0===d)throw new Error("getImageOriginalSize error - Image not found");var e={};if(void 0===d.naturalWidth){if("number"==typeof a.data("naturalWidth")){var e={};return e.width=a.data("naturalWidth"),e.height=a.data("naturalHeight"),e}var f=new Image;return f.src=d.src,f.complete?(e.width=f.width,e.height=f.height,a.data("naturalWidth",e.width),a.data("naturalHeight",e.height),e):{width:0,height:0}}return e.width=d.naturalWidth,e.height=d.naturalHeight,e},this.getimageRatio=function(a){var b=c.getImageOriginalSize(a);return c.getElementSize(a).width/b.width},this.isImageFitParent=function(a){var b=a.parent(),d=c.getElementSize(a),e=c.getElementSize(b);return d.width<=e.width&&d.height<=e.height},this.getElementSize=function(a){if(void 0===a)throw new Error("Can't get size, empty element");var b=a.position();return b.height=a.outerHeight(),b.width=a.outerWidth(),b.left=Math.round(b.left),b.top=Math.round(b.top),b.right=b.left+b.width,b.bottom=b.top+b.height,b},this.isElementBiggerThenParent=function(a){var b=a.parent(),d=c.getElementSize(a),e=c.getElementSize(b);return d.width>e.width||d.height>e.height},this.isPointInsideElement=function(a,b){return 0!=(a.x>=0&&a.x<b.width)&&0!=(a.y>=0&&a.y<b.height)},this.getElementRelativePos=function(a,b,d,e){if(!e)var e=a.parent();if("number"==typeof a)var f={width:a,height:a};else var f=c.getElementSize(a);var g=c.getElementSize(e);switch(b){case"top":case"left":b=0,d&&(b+=d);break;case"center":b=Math.round((g.width-f.width)/2),d&&(b+=d);break;case"right":b=g.width-f.width,d&&(b-=d);break;case"middle":b=Math.round((g.height-f.height)/2),d&&(b+=d);break;case"bottom":b=g.height-f.height,d&&(b-=d)}return b},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(a,b,d,e,f,g,h){if(!d)var d=1.2;if(!f)var f="fit";var n,o,r,s,i=d,j=a.parent(),k=c.getElementSize(a),l=c.getImageOriginalSize(a),m=!1,p=0,q=0,t=0,u=0;if(e){var v=c.getMouseElementPoint(e,a);m=c.isPointInsideElement(v,k),t=v.x,u=v.y}else m=!1;if(0==m){var w=c.getElementCenterPoint(a);t=w.x,u=w.y}if(1==b)n=k.height*i,o=k.width*i,0!=t&&(p=-(t*i-t)),0!=u&&(q=-(u*i-u));else{n=k.height/i,o=k.width/i;if(o<c.getImageInsideParentData(j,l.width,l.height,f,h).imageWidth)return c.scaleImageFitParent(a,l.width,l.height,f,h),!0;1==m&&(0!=t&&(p=-(t/i-t)),0!=u&&(q=-(u/i-u)))}if(g){var y=1;if(0!=l.width&&(y=o/l.width),y>g)return!1}if(c.setElementSize(a,o,n),0==b&&0==m){var z=c.getElementCenterPosition(a);r=z.left,s=z.top}else r=k.left+p,s=k.top+q;return c.placeElement(a,r,s),!0},this.placeElement=function(a,b,d,e,f,g){if(0==jQuery.isNumeric(b)||0==jQuery.isNumeric(d)){if(!g)var g=a.parent();var h=c.getElementSize(a),i=c.getElementSize(g)}if(0==jQuery.isNumeric(b))switch(b){case"left":b=0,e&&(b+=e);break;case"center":b=Math.round((i.width-h.width)/2),e&&(b+=e);break;case"right":b=i.width-h.width,e&&(b-=e)}if(0==jQuery.isNumeric(d))switch(d){case"top":d=0,f&&(d+=f);break;case"middle":case"center":d=Math.round((i.height-h.height)/2),f&&(d+=f);break;case"bottom":d=i.height-h.height,f&&(d-=f)}var j={position:"absolute",margin:"0px"};null!==b&&(j.left=b),null!==d&&(j.top=d),a.css(j)},this.placeElementInParentCenter=function(a){c.placeElement(a,"center","middle")},this.setElementSizeAndPosition=function(a,b,c,d,e){var f={width:d+"px",height:e+"px",left:b+"px",top:c+"px",position:"absolute",margin:"0px"};a.css(f)},this.setElementSize=function(a,b,c){var d={width:b+"px"};null!==c&&void 0!==c&&(d.height=c+"px"),a.css(d)},this.cloneElementSizeAndPos=function(a,b,d,e,f){var g=a.position();if(void 0==g)throw new Error("Can't get size, empty element");!0===d?(g.height=a.outerHeight(),g.width=a.outerWidth()):(g.height=a.height(),g.width=a.width()),g.left=Math.round(g.left),g.top=Math.round(g.top),e&&(g.left+=e),f&&(g.top+=f),c.setElementSizeAndPosition(b,g.left,g.top,g.width,g.height)},this.placeImageInsideParent=function(a,b,d,e,f,g){var h=c.getImageInsideParentData(b,d,e,f,g),i="<img";return null!==h.imageWidth&&(i+=" width = '"+h.imageWidth+"'",h.style+="width:"+h.imageWidth+";"),null!=h.imageHeight&&("100%"==h.imageHeight?(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+";"):(i+=" height = '"+h.imageHeight+"'",h.style+="height:"+h.imageHeight+"px;")),null!==h.imageTop&&(h.style+="top:"+h.imageTop+"px;"),null!==h.imageLeft&&(h.style+="left:"+h.imageLeft+"px;"),a=a.replace('"','"'),i+=" style='"+h.style+"'",i+=' src="'+a+'"',i+=">",b.html(i),b.children("img")},this.scaleImageCoverParent=function(a,b,d){if("number"==typeof b)var e=b,f=d;else var e=b.outerWidth(),f=b.outerHeight();var g=c.getImageOriginalSize(a),h=g.width,i=g.height,j=h/i,k=f,l=k*j,m=0,n=0;l<e?(l=e,k=l/j,n=0,m=Math.round((k-f)/2*-1)):(m=0,n=Math.round((l-e)/2*-1)),l=Math.round(l),k=Math.round(k),a.css({width:l+"px",height:k+"px",left:n+"px",top:m+"px"})},this.scaleImageFitParent=function(a,b,d,e,f){var g=a.parent(),h=c.getImageInsideParentData(g,b,d,e,f),i=!1,j={};return null!==h.imageWidth&&(i=!0,a.removeAttr("width"),j.width=h.imageWidth+"px"),null!=h.imageHeight&&(i=!0,a.removeAttr("height"),j.height=h.imageHeight+"px"),null!==h.imageTop&&(i=!0,j.top=h.imageTop+"px"),null!==h.imageLeft&&(i=!0,j.left=h.imageLeft+"px"),1==i&&(j.position="absolute",j.margin="0px 0px",a.css(j)),h},this.scaleImageByHeight=function(a,b,d,e){var f=c.getImageOriginalSize(a,d,e),g=f.width/f.height,h=Math.round(b*g);b=Math.round(b),c.setElementSize(a,h,b)},this.scaleImageByWidth=function(a,b,d,e){var f=c.getImageOriginalSize(a,d,e),g=f.width/f.height,h=Math.round(b/g);b=Math.round(b),c.setElementSize(a,b,h)},this.scaleImageExactSizeInParent=function(a,b,d,e,f,g){var h=a.parent(),i=c.getElementSize(h);i.width<e&&(e=i.width),i.height<f&&(f=i.height);var j=c.getImageInsideParentData(null,b,d,g,null,e,f),k=e,l=f,m=j.imageLeft,n=j.imageLeft,o=j.imageTop,p=j.imageTop,q=Math.round((i.width-e)/2),r=Math.round((i.height-f)/2),s=j.imageWidth+m+n,t=e-s;0!=t&&(n+=t);var u=j.imageHeight+o+p,t=f-u;0!=t&&(p+=t),a.removeAttr("width"),a.removeAttr("height");var v={position:"absolute",margin:"0px 0px"};v.width=k+"px",v.height=l+"px",v.left=q+"px",v.top=r+"px",v["padding-left"]=m+"px",v["padding-top"]=o+"px",v["padding-right"]=n+"px",v["padding-bottom"]=p+"px",a.css(v);var w={};return w.imageWidth=k,w.imageHeight=l,w},this.showElement=function(a,b,c){a.show().fadeTo(0,1),b&&b.show().fadeTo(0,1),c&&c.show().fadeTo(0,1)},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(a,b){if(!b)var b="ug-button-disabled";0==c.isButtonDisabled(a,b)&&a.addClass(b)},this.convertCustomPrefixOptions=function(a,b,c){if(!b)return a;var d={};return jQuery.each(a,function(a,e){if(0===a.indexOf(b+"_"+c+"_")){var f=a.replace(b+"_"+c+"_",c+"_");d[f]=e}else d[a]=e}),d},this.enableButton=function(a,b){if(!b)var b="ug-button-disabled";1==c.isButtonDisabled(a,b)&&a.removeClass(b)},this.isButtonDisabled=function(a,b){if(!b)var b="ug-button-disabled";return!!a.hasClass(b)},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(a,b,c,d,e,f){if(!f)var f=!1;return e=a+(e-c)/(d-c)*(b-a),1==f&&(e<a&&(e=a),e>b&&(e=b)),e},this.getNormalizedValue=function(a,b,c,d,e){return e=a+(e-a)/(b-a)*(d-c)},this.getDistance=function(a,b,c,d){return Math.round(Math.sqrt(Math.abs((c-a)*(c-a)+(d-b)*(d-b))))},this.getMiddlePoint=function(a,b,c,d){var e={};return e.x=a+Math.round((c-a)/2),e.y=b+Math.round((d-b)/2),e},this.getNumItemsInSpace=function(a,b,c){return Math.floor((a+c)/(b+c))},this.getNumItemsInSpaceRound=function(a,b,c){return Math.round((a+c)/(b+c))},this.getSpaceByNumItems=function(a,b,c){return a*b+(a-1)*c},this.getItemSizeInSpace=function(a,b,c){return Math.floor((a-(b-1)*c)/b)},this.getColX=function(a,b,c){return a*(b+c)},this.getColByIndex=function(a,b){return b%a},this.getColRowByIndex=function(a,b){var c=Math.floor(a/b);return{col:Math.floor(a%b),row:c}},this.getIndexByRowCol=function(a,b,c){return a<0?-1:b<0?-1:a*c+b},this.getPrevRowSameColIndex=function(a,b){var d=c.getColRowByIndex(a,b);return c.getIndexByRowCol(d.row-1,d.col,b)},this.getNextRowSameColIndex=function(a,b){var d=c.getColRowByIndex(a,b);return c.getIndexByRowCol(d.row+1,d.col,b)},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(a,b){jQuery.data(document.body,a,b)},this.getGlobalData=function(a){return jQuery.data(document.body,a)},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(a){if(0==c.isTouchDevice())return null;var b=c.getStoredEventData(a);if(null===b.scrollDir&&(Math.abs(b.diffMouseX)>15?b.scrollDir="hor":Math.abs(b.diffMouseY)>15&&Math.abs(b.diffMouseY)>Math.abs(b.diffMouseX)&&(b.scrollDir="vert",b.scrollStartY=b.lastMouseClientY,b.scrollOrigin=jQuery(document).scrollTop(),d.dataCache[a].scrollStartY=b.lastMouseClientY,d.dataCache[a].scrollOrigin=b.scrollOrigin),d.dataCache[a].scrollDir=b.scrollDir),"vert"!==b.scrollDir)return b.scrollDir;var h=(jQuery(document).scrollTop(),b.scrollOrigin-(b.lastMouseClientY-b.scrollStartY));return h>=0&&jQuery(document).scrollTop(h),b.scrollDir},this.wasVerticalScroll=function(a){return"vert"===c.getStoredEventData(a).scrollDir},this.storeEventData=function(a,b,e){var f=c.getMousePosition(a),g=jQuery.now(),h={startTime:g,lastTime:g,startMouseX:f.pageX,startMouseY:f.pageY,lastMouseX:f.pageX,lastMouseY:f.pageY,startMouseClientY:f.clientY,lastMouseClientY:f.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};e&&(h=jQuery.extend(h,e)),d.dataCache[b]=h},this.updateStoredEventData=function(a,b,e){if(!d.dataCache[b])throw new Error("updateEventData error: must have stored cache object");var f=d.dataCache[b],g=c.getMousePosition(a);f.lastTime=jQuery.now(),void 0!==g.pageX&&(f.lastMouseX=g.pageX,f.lastMouseY=g.pageY,f.lastMouseClientY=g.clientY),e&&(f=jQuery.extend(f,e)),d.dataCache[b]=f},this.getStoredEventData=function(a,b){if(!d.dataCache[a])throw new Error("updateEventData error: must have stored cache object");var c=d.dataCache[a];return c.diffMouseX=c.lastMouseX-c.startMouseX,c.diffMouseY=c.lastMouseY-c.startMouseY,c.diffMouseClientY=c.lastMouseClientY-c.startMouseClientY,c.diffTime=c.lastTime-c.startTime,!0===b?(c.startMousePos=c.lastMouseY,c.lastMousePos=c.lastMouseY,c.diffMousePos=c.diffMouseY):(c.startMousePos=c.lastMouseX,c.lastMousePos=c.lastMouseX,c.diffMousePos=c.diffMouseX),c},this.isApproveStoredEventClick=function(a,b){if(!d.dataCache[a])return!0;var e=c.getStoredEventData(a,b),f=Math.abs(e.diffMousePos);return!(e.diffTime>400)&&!(f>30)},this.clearStoredEventData=function(a){d.dataCache[a]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){return"function"==typeof jQuery('<canvas width="500" height="500" > </canvas>')[0].getContext},this.isScrollbarExists=function(){return window.innerWidth>document.documentElement.clientWidth},this.isTouchDevice=function(){if(-1!==d.isTouchDevice)return d.isTouchDevice;try{document.createEvent("TouchEvent"),d.isTouchDevice=!0}catch(a){d.isTouchDevice=!1}return d.isTouchDevice},this.isRgbaSupported=function(){if(-1!==d.isRgbaSupported)return d.isRgbaSupported;var a=document.getElementsByTagName("script")[0],b=a.style.color;try{a.style.color="rgba(1,5,13,0.44)"}catch(a){}var c=a.style.color!=b;return a.style.color=b,d.isRgbaSupported=c,c},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(a){for(var b=jQuery.fn.jquery.split("."),c=a.split("."),d=0,e=b.length;d<e;d++){var f=parseInt(b[d]),g=parseInt(c[d]);if(void 0===c[d])return!0;if(g>f)return!1;if(f>g)return!0}return!0},this.getCssSizeParam=function(a){return jQuery.isNumeric(a)?a+"px":a},this.convertHexToRGB=function(a,c){var d=a.replace("#","");return d===a?a:(r=parseInt(d.substring(0,2),16),g=parseInt(d.substring(2,4),16),b=parseInt(d.substring(4,6),16),result="rgba("+r+","+g+","+b+","+c+")",result)},this.timestampToString=function(a){var b=new Date(a),c=b.getDate()+"/"+b.getMonth();return c+=" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds()+":"+b.getMilliseconds()},this.getArrTouches=function(a){var b=[];return a.originalEvent&&a.originalEvent.touches&&a.originalEvent.touches.length>0&&(b=a.originalEvent.touches),b},this.getArrTouchPositions=function(a){for(var b=[],c=0;c<a.length;c++){var d={pageX:a[c].pageX,pageY:a[c].pageY};b.push(d)}return b},this.startTimeDebug=function(){d.starTime=jQuery.now()},this.showTimeDebug=function(){debugLine({"Time Passed":jQuery.now()-d.starTime},!0)},this.initProgressIndicator=function(a,b,d){switch("bar"!=a&&0==c.isCanvasExists()&&(a="bar"),a){case"bar":var e=new UGProgressBar;e.putHidden(d,b);break;default:case"pie":var e=new UGProgressPie;e.putHidden(d,b);break;case"pie2":b.type_fill=!0;var e=new UGProgressPie;e.putHidden(d,b)}return e},this.setButtonMobileReady=function(a){a.on("touchstart",function(a){jQuery(this).addClass("ug-nohover")}),a.on("mousedown touchend",function(a){return a.stopPropagation(),a.stopImmediatePropagation(),!1})},this.registerTheme=function(a){d.arrThemes.push(a)},this.getArrThemes=function(){return d.arrThemes},this.isThemeRegistered=function(a){return-1!==jQuery.inArray(a,d.arrThemes)},this.getFirstRegisteredTheme=function(){return 0==d.arrThemes.length?"":d.arrThemes[0]},this.isTimePassed=function(a,b){if(!b)var b=100;var c=jQuery.now();0==d.timeCache.hasOwnProperty(a)?lastTime=0:lastTime=d.timeCache[a];var e=c-lastTime;return d.timeCache[a]=c,!(e<=b)},this.whenContiniousEventOver=function(a,b,c){if(!c)var c=300;1==d.timeCache.hasOwnProperty(a)&&null!=d.timeCache[a]&&(clearTimeout(d.timeCache[a]),d.timeCache[a]=null),d.timeCache[a]=setTimeout(b,c)},this.validateClickTouchstartEvent=function(a){var b=!0,c=jQuery.now()-d.lastEventTime;return"click"==a&&"touchstart"==d.lastEventType&&c<1e3&&(b=!1),d.lastEventTime=jQuery.now(),d.lastEventType=a,b},this.addClassOnHover=function(a,b){if(!b)var b="ug-button-hover";a.hover(function(){jQuery(this).addClass(b)},function(){jQuery(this).removeClass(b)})},this.destroyButton=function(a){a.off("mouseenter"),a.off("mouseleave"),a.off("click"),a.off("touchstart"),a.off("touchend"),a.off("mousedown")},this.setButtonOnClick=function(a,b){c.setButtonMobileReady(a),a.on("click touchstart",function(a){if(objThis=jQuery(this),a.stopPropagation(),a.stopImmediatePropagation(),0==c.validateClickTouchstartEvent(a.type))return!0;b(objThis,a)})},this.loadJs=function(a,b){!0===b&&(a=location.protocol+"//"+a);var c=document.createElement("script");c.src=a;var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)},this.loadCss=function(a,b){!0===b&&(a=location.protocol+"//"+a);var c=document.createElement("link");c.setAttribute("rel","stylesheet"),c.setAttribute("type","text/css"),c.setAttribute("href",a),document.getElementsByTagName("head")[0].appendChild(c)},this.addEvent=function(a,b,c){void 0!==a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},this.checkImagesLoaded=function(a,b,c){function g(a,d){e++,"function"==typeof c&&setTimeout(function(){c(a,d)}),e==f&&"function"==typeof b&&setTimeout(function(){b()})}var e=0,f=a.length;if(0==f&&b)return b(),!1;setTimeout(function(){for(var b=0;b<f;b++){var c=a[b];if(void 0!==c.naturalWidth&&0!==c.naturalWidth)g(a[b],!1);else{var d=jQuery("<img/>");d.data("index",b),d.on("load",function(){var b=jQuery(this).data("index");g(a[b],!1)}),d.on("error",function(){var b=jQuery(this).data("index");g(a[b],!0)}),d.attr("src",c.src)}}})},this.waitForWidth=function(a,b){var c=a.width();if(0!=c)return b(),!1;d.handle=setInterval(function(){0!=(c=a.width())&&(clearInterval(d.handle),b())},300)},this.arrayShuffle=function(a){if("object"!=typeof a)return a;for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a},this.getObjectLength=function(a){var b=0;for(var c in a)b++;return b},this.normalizePercent=function(a){return a<0&&(a=0),a>1&&(a=1),a},this.stripTags=function(a){return a.replace(/(<([^>]+)>)/gi,"")},this.htmlentitles=function(a){return jQuery("<div/>").text(a).html()},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function q(a,b,c,d){var e={width:a+"px",height:b+"px"},f={width:a-n.thumbInnerReduce+"px",height:b-n.thumbInnerReduce+"px"},g=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";c?(!0!==d&&c.css(e),c.children(g).css(f)):(i.children(".ug-thumb-wrapper").css(e),i.find(g).css(f))}function r(a,b,d,e){if(!e)var e=!1;c.isFakeFullscreen()&&(e=!0);var f=a.children(".ug-thumb-border-overlay"),g={};g["border-width"]=b+"px",0!=b&&(g["border-color"]=d),e&&!0===e?(f.css(g),0==b?f.hide():f.show()):(0==b?f.stop().fadeOut(m.thumb_transition_duration):f.show().stop().fadeIn(m.thumb_transition_duration),x(f,g))}function s(a,b,c){var d=a.children(".ug-thumb-overlay"),e=m.thumb_transition_duration;c&&!0===c&&(e=0),b?d.stop(!0).fadeTo(e,n.colorOverlayOpacity):d.stop(!0).fadeTo(e,0)}function t(a,b,c){var d=a.children("img.ug-thumb-image"),e=a.children("img.ug-thumb-image-overlay"),f=m.thumb_transition_duration;c&&!0===c&&(f=0),b?e.stop(!0).fadeTo(f,1):(d.fadeTo(0,1),e.stop(!0).fadeTo(f,0))}function u(c,d){if(n.isEffectBorder&&r(c,m.thumb_selected_border_width,m.thumb_selected_border_color,d),n.isEffectOverlay){s(c,1==m.thumb_overlay_reverse,d)}n.isEffectImage&&t(c,!1,d),b.trigger(a.events.SETSELECTEDSTYLE,c)}function v(c){var d=a.getItemByThumb(c);if(d.isLoaded=!0,d.isThumbImageLoaded=!1,1==n.customThumbs)return b.trigger(a.events.IMAGELOADERROR,c),!0;c.children(".ug-thumb-loader").hide(),c.children(".ug-thumb-error").show()}function w(){if(m.thumb_round_corners_radius<=0)return!1;var a={"border-radius":m.thumb_round_corners_radius+"px"};i.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(a)}function x(a,b){a.stop(!0).animate(b,{duration:m.thumb_transition_duration,easing:m.thumb_transition_easing,queue:!1})}function y(b){1==D(b)?u(b,!0,"redraw"):a.setThumbNormalStyle(b,!0,"redraw")}function z(c,d,e){if(1==m.thumb_fixed_size)j.scaleImageCoverParent(d,c);else{"height"==m.thumb_resize_by?j.scaleImageByHeight(d,m.thumb_height):j.scaleImageByWidth(d,m.thumb_width);var f=j.getElementSize(d);j.placeElement(d,0,0),q(f.width,f.height,c)}c.children(".ug-thumb-loader").hide(),d.show(),0==m.thumb_image_overlay_effect?d.fadeTo(0,1):(1==m.thumb_image_overlay_effect&&A(d),d.fadeTo(0,0),y(c)),b.trigger(a.events.AFTERPLACEIMAGE,c)}function A(a){var b=a.siblings(".ug-thumb-image-overlay");if(0==b.length)return!1;var c=j.getElementSize(a),d={width:c.width+"px",height:c.height+"px",left:c.left+"px",top:c.top+"px"};b.css(d),0==n.customThumbs&&b.fadeTo(0,1)}function C(){var a="",b=m.thumb_image_overlay_type.split(",");for(var c in b){switch(b[c]){case"bw":a+=" ug-bw-effect";break;case"blur":a+=" ug-blur-effect";break;case"sepia":a+=" ug-sepia-effect"}}return a}function D(a){return!!a.hasClass("ug-thumb-selected")}function F(b,c){c=jQuery(c);var e=(a.getItemByThumb(c),j.getElementSize(c));q(e.width,e.height,c,!0),y(c)}function G(b){if(1==n.touchEnabled)return objThumbs.off("mouseenter").off("mouseleave"),!0;0==D(b)&&a.setThumbOverStyle(b)}function H(b){if(1==n.touchEnabled)return!0;0==D(b)&&a.setThumbNormalStyle(b,!1)}function I(c,d){if(!d)var d=!1;var e=jQuery(c),f=e.parents(".ug-thumb-wrapper");return 0!=f.parent().length&&(objItem=a.getItemByThumb(f),(1!=objItem.isLoaded||!1!==d)&&(a.triggerImageLoadedEvent(f,e),void(1==n.customThumbs?b.trigger(a.events.PLACEIMAGE,[f,e]):z(f,e,objItem))))}function J(b,c,d){objItem=a.getItemByThumb(c),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var e=j.getImageOriginalSize(d);objItem.thumbWidth=e.width,objItem.thumbHeight=e.height,objItem.thumbRatioByWidth=e.width/e.height,objItem.thumbRatioByHeight=e.height/e.width}var d,e,f,g,i,a=this,b=jQuery(a),c=new UniteGalleryMain,j=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var m={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},n={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},o={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(a,b){e=a.getObjects(),c=a,d=jQuery(a),f=e.g_objWrapper,g=e.g_arrItems,m=jQuery.extend(m,b),n.isEffectBorder=m.thumb_border_effect,n.isEffectOverlay=m.thumb_color_overlay_effect,n.isEffectImage=m.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(a){i=a;var b=c.getNumItems();if(1==n.isEffectImage)var d=C();for(var e=0;e<b;e++){var f=g[e],h="";0==n.customThumbs&&(h=" ug-thumb-generated");var j=f.index+1,k="style='z-index:"+j+";'",l="<div class='ug-thumb-wrapper"+h+"' "+k+"></div>";if(1==m.thumb_wrapper_as_link){var o=f.link;""==f.link&&(o="javascript:void(0)");var p="";1==m.thumb_link_newpage&&f.link&&(p=" target='_blank'");var l="<a href='"+o+"'"+p+" class='ug-thumb-wrapper"+h+"'></a>"}var q=jQuery(l),r=f.objThumbImage;if(0==n.customThumbs){if(1==m.thumb_show_loader&&r){var s="ug-thumb-loader-dark";"bright"==m.thumb_loader_type&&(s="ug-thumb-loader-bright"),q.append("<div class='ug-thumb-loader "+s+"'></div>"),q.append("<div class='ug-thumb-error' style='display:none'></div>")}if(r){if(r.addClass("ug-thumb-image"),1==m.thumb_image_overlay_effect){var t=r.clone().appendTo(q);t.addClass("ug-thumb-image-overlay "+d).removeClass("ug-thumb-image"),t.fadeTo(0,0),f.objImageOverlay=t}q.append(r)}}n.isEffectBorder&&q.append("<div class='ug-thumb-border-overlay'></div>"),n.isEffectOverlay&&q.append("<div class='ug-thumb-overlay'></div>"),i.append(q),n.customThumbs&&n.funcSetCustomThumbHtml(q,f),g[e].objThumbWrapper=q}},this.setThumbNormalStyle=function(c,d,e){if(1==n.customThumbs&&c.removeClass("ug-thumb-over"),n.isEffectBorder&&r(c,m.thumb_border_width,m.thumb_border_color,d),n.isEffectOverlay){s(c,1!=m.thumb_overlay_reverse,d)}n.isEffectImage&&t(c,!0,d),b.trigger(a.events.SETNORMALSTYLE,c)},this.setThumbOverStyle=function(c){if(1==n.customThumbs&&c.addClass("ug-thumb-over"),n.isEffectBorder&&r(c,m.thumb_over_border_width,m.thumb_over_border_color),n.isEffectOverlay){s(c,1==m.thumb_overlay_reverse)}1==n.isEffectImage&&t(c,!1),b.trigger(a.events.SETOVERSTYLE,c)},this.setHtmlProperties=function(){if(0==n.customThumbs){1==m.thumb_fixed_size&&q(m.thumb_width,m.thumb_height),w()}if(i.children(".ug-thumb-wrapper").each(function(){y(jQuery(this))}),n.isEffectOverlay&&m.thumb_overlay_color){var b={};if(j.isRgbaSupported()){var c=j.convertHexToRGB(m.thumb_overlay_color,m.thumb_overlay_opacity);b["background-color"]=c}else b["background-color"]=m.thumb_overlay_color,n.colorOverlayOpacity=m.thumb_overlay_opacity;i.find(".ug-thumb-wrapper .ug-thumb-overlay").css(b)}},this.setThumbSelected=function(a){if(1==n.customThumbs&&a.removeClass("ug-thumb-over"),1==D(a))return!0;a.addClass("ug-thumb-selected"),u(a)},this.setThumbUnselected=function(b){b.removeClass("ug-thumb-selected"),a.setThumbNormalStyle(b,!1,"set unselected")},this.setOptions=function(a){m=jQuery.extend(m,a)},this.setThumbInnerReduce=function(a){n.thumbInnerReduce=a},this.setCustomThumbs=function(a,b,c){if(n.customThumbs=!0,"function"!=typeof a)throw new Error("The argument should be function");n.funcSetCustomThumbHtml=a,-1==jQuery.inArray("overlay",b)&&(n.isEffectOverlay=!1),-1==jQuery.inArray("border",b)&&(n.isEffectBorder=!1),n.isEffectImage=!1,c&&!1===c.allow_onresize&&(n.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return m},this.getNumThumbs=function(){return g.length},this.getThumbImage=function(a){return a.find(".ug-thumb-image")},this.getThumbByIndex=function(b){var c=a.getThumbs();if(b>=c.length||b<0)throw new Error("Wrong thumb index");return jQuery(c[b])},this.getThumbs=function(){return i.children(".ug-thumb-wrapper")},this.getItemByThumb=function(a){var b=a.data("index");return void 0===b&&(b=a.index()),g[b]},this.isThumbLoaded=function(b){return a.getItemByThumb(b).isLoaded},this.getGlobalThumbSize=function(){return{width:m.thumb_width,height:m.thumb_height}},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var c=i.find(".ug-thumb-wrapper");c.on("touchstart",function(){n.touchEnabled=!0,c.off("mouseenter").off("mouseleave")}),1==n.allowOnResize&&f.on(o.eventSizeChange,F),c.hover(function(a){G(jQuery(this))},function(a){H(jQuery(this))}),b.on(a.events.THUMB_IMAGE_LOADED,J)},this.destroy=function(){var c=i.find(".ug-thumb-wrapper");c.off("touchstart"),f.off(o.eventSizeChange),c.off("mouseenter"),c.off("mouseleave"),b.off(a.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var a=i.find(".ug-thumb-image");j.checkImagesLoaded(a,null,function(a,b){if(0==b)I(a,!0);else{v(jQuery(a).parent())}})},this.triggerImageLoadedEvent=function(c,d){b.trigger(a.events.THUMB_IMAGE_LOADED,[c,d])},this.hideThumbs=function(){i.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function t(g,h){d=g.getObjects(),b=g,b.attachThumbsPanel("strip",a),c=jQuery(g),e=d.g_objWrapper,f=d.g_arrItems,o=jQuery.extend(o,h),m=o.strip_vertical_type,1==m&&(o=jQuery.extend(o,r),o=jQuery.extend(o,h),h.thumb_resize_by="width"),n.init(g,h),u()}function u(){var a=n.getOptions();p.isNotFixedThumbs=!1===a.thumb_fixed_size,m=o.strip_vertical_type}function v(){n.setHtmlProperties(),x(),A(),z(),0==p.isRunOnce&&(1==o.strip_control_touch&&(k=new UGTouchThumbsControl,k.init(a)),1==o.strip_control_avia&&(j=new UGAviaControl,j.init(a)),H(),n.loadThumbsImages(),N()),p.isRunOnce=!0}function w(a){q.stripSize=a,q.stripActiveSize=0==m?q.stripSize-o.strip_padding_left-o.strip_padding_right:q.stripSize-o.strip_padding_top-o.strip_padding_bottom,q.stripActiveSize<0&&(q.stripActiveSize=0)}function x(){var a=h.children(".ug-thumb-wrapper"),b=jQuery(a[0]),c=b.outerWidth(),d=b.outerHeight(),e=n.getOptions();0==m?(q.thumbSize=c,1==e.thumb_fixed_size?q.thumbSecondSize=d:q.thumbSecondSize=e.thumb_height,w(g.width()),q.stripInnerSize=h.width()):(q.thumbSize=d,1==e.thumb_fixed_size?q.thumbSecondSize=c:q.thumbSecondSize=e.thumb_width,w(g.height()),q.stripInnerSize=h.height())}function y(b){0==m?h.width(b):h.height(b),q.stripInnerSize=b,H(),jQuery(a).trigger(a.events.INNER_SIZE_CHANGE)}function z(){var a=h.children(".ug-thumb-wrapper"),b=0,c=0;for(0==m&&(c=o.strip_padding_top),i=0;i<a.length;i++){var d=jQuery(a[i]);if(1==p.isNotFixedThumbs){if(objItem=n.getItemByThumb(d),0==objItem.isLoaded)continue;d.show()}l.placeElement(d,b,c),0==m?b+=d.outerWidth()+o.strip_space_between_thumbs:c+=d.outerHeight()+o.strip_space_between_thumbs}if(0==m)var e=b-o.strip_space_between_thumbs;else var e=c-o.strip_space_between_thumbs;y(e)}function A(){if(0==m){var a=q.thumbSecondSize,b={};b.height=a+"px";var c={};c.height=a+"px"}else{var d=q.thumbSecondSize,b={};b.width=d+"px";var c={};c.width=d+"px"}g.css(b),h.css(c)}function B(b){var c=a.getInnerStripPos(),d=c+b;d=a.fixInnerStripLimits(d),a.positionInnerStrip(d,!0)}function C(b){var c=R(b),d=-1*c.min;d=a.fixInnerStripLimits(d),a.positionInnerStrip(d,!0)}function D(b){var c=R(b),d=-1*c.max+q.stripSize;d=a.fixInnerStripLimits(d),a.positionInnerStrip(d,!0)}function E(a){if(0==P())return!1;var b=Q(),c=R(a);if(c.min<b.minPosThumbs){var d=a.prev();C(d.length?d:a)}else if(c.max>b.maxPosThumbs){var e=a.next();D(e.length?e:a)}}function F(){var a=b.getSelectedItem();if(null==a)return!0;var c=a.objThumbWrapper;c&&E(c)}function G(){if(0==P())return!1;var b=a.getInnerStripPos(),c=a.fixInnerStripLimits(b);b!=c&&a.positionInnerStrip(c,!0)}function H(){1==P()?(j&&j.enable(),k&&k.enable()):(j&&j.disable(),k&&k.disable())}function I(){if(P())return!1;0==m?l.placeElement(h,o.strip_thumbs_align,0):l.placeElement(h,0,o.strip_thumbs_align)}function K(c){if(a.isTouchMotionActive()){if(1==k.isSignificantPassed())return!0}var e=n.getItemByThumb(c);b.selectItem(e)}function L(){clearTimeout(p.handle),p.handle=setTimeout(function(){z()},50)}function M(){var a=b.getSelectedItem();n.setThumbSelected(a.objThumbWrapper),E(a.objThumbWrapper)}function N(){n.initEvents(),g.find(".ug-thumb-wrapper").on("click touchend",function(a){K(jQuery(this))}),c.on(b.events.ITEM_CHANGE,M),p.isNotFixedThumbs&&jQuery(n).on(n.events.AFTERPLACEIMAGE,L)}function P(){return q.stripInnerSize>q.stripActiveSize}function Q(){var b={},c=a.getInnerStripPos();return b.minPosThumbs=-1*c+1,b.maxPosThumbs=-1*c+q.stripSize-1,b}function R(a){var b={},c=a.position();return 0==m?(b.min=c.left,b.max=c.left+q.thumbSize):(b.min=c.top,b.max=c.top+q.thumbSize),b}var c,d,e,f,g,h,j,k,a=this,b=new UniteGalleryMain,l=new UGFunctions,m=!1,n=new UGThumbsGeneral,l=new UGFunctions,o={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},p={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},q={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove",INNER_SIZE_CHANGE:"size_change"};var r={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(a){if(!a){var a=e;null!=o.parent_container&&(a=o.parent_container)}a.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),g=a.children(".ug-thumbs-strip"),h=g.children(".ug-thumbs-strip-inner"),n.setHtmlThumbs(h),1==p.isNotFixedThumbs&&n.hideThumbs()},this.destroy=function(){var a=g.find(".ug-thumb-wrapper");a.off("click"),a.off("touchend"),c.off(b.events.ITEM_CHANGE),jQuery(n).off(n.events.AFTERPLACEIMAGE),k&&k.destroy(),j&&j.destroy(),n.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(a,b){t(a,b)},this.run=function(){v()},this.positionInnerStrip=function(b,c){if(void 0===c)var c=!1;if(0==m)var d={left:b+"px"};else var d={top:b+"px"};0==c?(h.css(d),a.triggerStripMoveEvent()):(a.triggerStripMoveEvent(),h.stop(!0).animate(d,{duration:o.strip_scroll_to_thumb_duration,easing:o.strip_scroll_to_thumb_easing,queue:!1,progress:function(){a.triggerStripMoveEvent()},always:function(){a.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(a).trigger(a.events.STRIP_MOVE)},this.isTouchMotionActive=function(){return!!k&&k.isTouchActive()},this.isItemThumbVisible=function(b){var c=b.objThumbWrapper,d=c.position(),e=-1*a.getInnerStripPos();if(0==m)var f=e+q.stripSize,g=d.left,h=d.left+c.width();else var f=e+q.stripSize,g=d.top,h=d.top+c.height();var i=!1;return h>=e&&g<=f&&(i=!0),i},this.getInnerStripPos=function(){return 0==m?h.position().left:h.position().top},this.getInnerStripLimits=function(){var a={};return a.maxPos=0==m?o.strip_padding_left:o.strip_padding_top,a.minPos=-(q.stripInnerSize-q.stripActiveSize),a},this.fixInnerStripLimits=function(b){var d=a.getInnerStripLimits();return b>d.maxPos&&(b=d.maxPos),b<d.minPos&&(b=d.minPos),b},this.scrollForeward=function(){B(-q.stripSize)},this.scrollBack=function(){B(q.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(a){o=jQuery.extend(o,a),n.setOptions(a),u()},this.setSizeVertical=function(a){if(0==m)throw new Error("setSizeVertical error, the strip size is not vertical");var b=q.thumbSecondSize,c={};c.width=b+"px",c.height=a+"px",g.css(c),w(a);var d={};d.width=b+"px",d.left="0px",d.top="0px",h.css(d),p.is_placed=!0,H()},this.setSizeHorizontal=function(a){if(1==m)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var b=q.thumbSecondSize+o.strip_padding_top+o.strip_padding_bottom,c={};c.width=a+"px",c.height=b+"px",g.css(c),w(a);var d=o.strip_padding_left,e={};e.height=b+"px",e.left=d+"px",e.top="0px",h.css(e),p.is_placed=!0,H()},this.setPosition=function(a,b,c,d){l.placeElement(g,a,b,c,d)},this.resize=function(a){0==m?(g.width(a),q.stripActiveSize=a-o.strip_padding_left-o.strip_padding_right):(g.height(a),q.stripActiveSize=a-o.strip_padding_top-o.strip_padding_bottom),w(a),H(),G(),I(),F()},this.setThumbUnselected=function(a){n.setThumbUnselected(a)},this.setCustomThumbs=function(a){n.setCustomThumbs(a)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var a=n.getOptions(),d=jQuery.extend(o,a);return{g_gallery:b,g_objGallery:c,g_objWrapper:e,g_arrItems:f,g_objStrip:g,g_objStripInner:h,g_aviaControl:j,g_touchThumbsControl:k,isVertical:m,g_options:d,g_thumbs:n}},this.getObjThumbs=function(){return n},this.getSelectedThumb=function(){var a=b.getSelectedItemIndex();return-1==a?null:n.getThumbByIndex(a)},this.getSizeAndPosition=function(){return l.getElementSize(g)},this.getHeight=function(){return g.outerHeight()},this.getWidth=function(){return g.outerWidth()},this.getSizes=function(){return q},this.isVertical=function(){return m},this.isPlaced=function(){return p.is_placed},this.isMoveEnabled=function(){return P()}}function UGTouchThumbsControl(){function l(){var a=jQuery.now(),b={};return b.passedTime=k.lastTime-k.startTime,b.lastActiveTime=a-k.buttonReleaseTime,b.passedDistance=k.lastPos-k.startPos,b.passedDistanceAbs=Math.abs(b.passedDistance),b}function m(){j.thumb_touch_slowFactor=i.normalizeSetting(5e-5,.01,1,100,g.strip_thumb_touch_sensetivity,!0)}function n(a){return 0==h?i.getMousePosition(a).pageX:i.getMousePosition(a).pageY}function o(b){var c=k.mousePos-b,d=k.innerPos-c,e=a.getInnerStripLimits();if(d>e.maxPos){var f=d-e.maxPos;d=e.maxPos+f/3}if(d<e.minPos){var f=e.minPos-d;d=e.minPos-f/3}a.positionInnerStrip(d)}function p(b){var c=a.getInnerStripPos();k.mousePos=b,k.innerPos=c,k.lastPortionPos=c,k.lastDeltaTime=0,k.lastDeltaPos=0,k.startTime=jQuery.now(),k.startPos=k.innerPos,k.lastTime=k.startTime,k.lastPos=k.startPos,k.speed=0}function q(){var a=jQuery.now();a-k.lastTime>=j.touch_portion_time&&(k.lastDeltaTime=a-k.lastTime,k.lastDeltaTime>j.touch_portion_time&&(k.lastDeltaTime=j.touch_portion_time),k.lastDeltaPos=k.lastPos-k.lastPortionPos,k.lastPortionPos=k.lastPos,k.lastTime=a)}function r(){var b=j.thumb_touch_slowFactor,c=j.minDeltaTime,d=j.minPath,e=a.getInnerStripPos(),g=jQuery.now(),i=g-k.lastTime,l=e-k.lastPortionPos;i<c&&k.lastDeltaTime>0&&(i=k.lastDeltaTime,l=k.lastDeltaPos+l),i<c&&(i=c);var m=l>0?1:-1,n=0;i>0&&(n=l/i);var o=n*n/(2*b)*m;Math.abs(o)<=d&&(o=0);var p=a.getInnerStripPos(),q=p+o,r=a.fixInnerStripLimits(q),t=a.getInnerStripLimits(),u=j.limitsBreakAddition,v=!1,w=r;if(q>t.maxPos&&(v=!0,r=u,q<u&&(r=q)),q<t.minPos){v=!0;var x=t.minPos-u;r=x,q>x&&(r=q)}var y=r-p,z=Math.abs(Math.round(n/b));if(0!=o&&(z=z*y/o),p!=r){var A={left:r+"px"};1==h&&(A={top:r+"px"}),f.animate(A,{duration:z,easing:j.animationEasing,queue:!0,progress:s})}if(1==v){var B=j.returnAnimateSpeed,C={left:w+"px"};1==h&&(C={top:w+"px"}),f.animate(C,{duration:B,easing:j.returnAnimationEasing,queue:!0,progress:s})}}function s(){k.lastPos=a.getInnerStripPos(),a.triggerStripMoveEvent()}function t(){if(1==k.loop_active)return!0;k.loop_active=!0,k.handle=setInterval(q,10)}function u(a){if(0==k.loop_active)return!0;if(a){r(n(a))}k.loop_active=!1,k.handle=clearInterval(k.handle)}function v(a){return 0==k.isControlEnabled||(k.buttonReleaseTime=jQuery.now(),0==k.touch_active?(u(a),!0):(a.preventDefault(),k.touch_active=!1,u(a),void e.removeClass("ug-dragging")))}function w(a){if(0==k.isControlEnabled)return!0;a.preventDefault(),k.touch_active=!0;var b=n(a);f.stop(!0),p(b),t(),e.addClass("ug-dragging")}function x(b){if(0==k.isControlEnabled)return!0;if(0==k.touch_active)return!0;if(b.preventDefault(),0==b.buttons)return k.touch_active=!1,u(b),!0;var c=n(b);k.lastPos=a.getInnerStripPos(),o(c),q()}function y(){e.bind("mousedown touchstart",w),jQuery(window).add("body").bind("mouseup touchend",v),jQuery("body").bind("mousemove touchmove",x)}var a,b,c,d,e,f,g,h,i=new UGFunctions,j={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},k={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){k.isControlEnabled=!0},this.disable=function(){k.isControlEnabled=!1},this.init=function(i){a=i,d=i.getObjects(),b=d.g_gallery,c=d.g_objGallery,e=d.g_objStrip,f=d.g_objStripInner,g=d.g_options,h=d.isVertical,m(),y()},this.isSignificantPassed=function(){var a=l();return a.passedTime>300||a.passedDistanceAbs>30},this.isTouchActive=function(){return 1==k.touch_active||(1==f.is(":animated")||l().lastActiveTime<50)},this.destroy=function(){e.unbind("mousedown"),e.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function k(b,d){switch(a.orientation){case"right":case"left":var e={left:b+"px"};break;case"top":case"bottom":var e={top:b+"px"}}c.stop(!0).animate(e,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){d&&d()}})}function l(b){switch(a.orientation){case"right":case"left":j.placeElement(c,b,null);break;case"top":case"bottom":j.placeElement(c,null,b)}}function m(){e.trigger(b.events.FINISH_MOVE)}var a,b,c,d,e,h,i,f=new UniteGalleryMain,g=this,j=new UGFunctions;this.init=function(c,g,h,j,k){a=g,b=h,f=c,d=j,e=k,i=jQuery(f)},this.setHtml=function(e){if(c=e,"strip"==a.panelType)var g=d.strippanel_enable_handle;else var g=d.gridpanel_enable_handle;if(1==g&&(h=new UGPanelHandle,h.init(b,c,d,a.panelType,f),h.setHtml()),!0===a.isDisabledAtStart){c.append("<div class='ug-overlay-disabled'></div>"),setTimeout(function(){c.children(".ug-overlay-disabled").hide()},a.disabledAtStartTimeout)}},this.placeElements=function(){h&&h.placeHandle()},this.initEvents=function(){h&&(h.initEvents(),i.on(f.events.SLIDER_ACTION_START,function(){h.hideHandle()}),i.on(f.events.SLIDER_ACTION_END,function(){h.showHandle()}))},this.destroy=function(){h&&(h.destroy(),i.off(f.events.SLIDER_ACTION_START),i.off(f.events.SLIDER_ACTION_END))},this.openPanel=function(d){if(!d)var d=!1;return!c.is(":animated")&&(0!=a.isClosed&&(a.isClosed=!1,e.trigger(b.events.OPEN_PANEL),void(!1===d?k(a.originalPos,m):(l(a.originalPos),m()))))},this.closePanel=function(d){if(!d)var d=!1;if(c.is(":animated"))return!1;if(1==a.isClosed)return!1;var f=g.getClosedPanelDest();a.isClosed=!0,e.trigger(b.events.CLOSE_PANEL),!1===d?k(f,m):(l(f),m())},this.setClosedState=function(c){a.originalPos=c,e.trigger(b.events.CLOSE_PANEL),a.isClosed=!0},this.setOpenedState=function(c){e.trigger(b.events.OPEN_PANEL),a.isClosed=!1},this.getClosedPanelDest=function(){var d,b=j.getElementSize(c);switch(a.orientation){case"left":a.originalPos=b.left,d=-a.panelWidth;break;case"right":a.originalPos=b.left;var e=f.getSize();d=e.width;break;case"top":a.originalPos=b.top,d=-a.panelHeight;break;case"bottom":a.originalPos=b.top;var e=f.getSize();d=e.height}return d},this.isPanelClosed=function(){return a.isClosed},this.setDisabledAtStart=function(b){if(b<=0)return!1;a.isDisabledAtStart=!0,a.disabledAtStartTimeout=b}}function UGPanelHandle(){function h(){d.removeClass("ug-button-hover")}function i(){d.addClass("ug-button-closed")}function j(){d.removeClass("ug-button-closed")}function k(a){if(a.stopPropagation(),a.stopImmediatePropagation(),0==f.validateClickTouchstartEvent(a.type))return!0;c.isPanelClosed()?c.openPanel():c.closePanel()}function l(){switch(c.getOrientation()){case"right":case"left":"top"!=g.panel_handle_align&&"bottom"!=g.panel_handle_align&&(g.panel_handle_align="top");break;case"bottom":"left"!=g.panel_handle_align&&"right"!=g.panel_handle_align&&(g.panel_handle_align="left");break;case"top":"left"!=g.panel_handle_align&&"right"!=g.panel_handle_align&&(g.panel_handle_align="right")}}var b,c,d,f=new UGFunctions,g={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(a,d,e,f,h){switch(c=a,b=d,f){case"grid":g.panel_handle_align=e.gridpanel_handle_align,g.panel_handle_offset=e.gridpanel_handle_offset,g.panel_handle_skin=e.gridpanel_handle_skin;break;case"strip":g.panel_handle_align=e.strippanel_handle_align,g.panel_handle_offset=e.strippanel_handle_offset,g.panel_handle_skin=e.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+f)}var i=h.getOptions(),j=i.gallery_skin;""==g.panel_handle_skin&&(g.panel_handle_skin=j)},this.setHtml=function(){var a=c.getOrientation(),e="ug-panel-handle-tip";switch(a){case"right":e+=" ug-handle-tip-left";break;case"left":e+=" ug-handle-tip-right";break;case"bottom":e+=" ug-handle-tip-top";break;case"top":e+=" ug-handle-tip-bottom"}b.append("<div class='"+e+" ug-skin-"+g.panel_handle_skin+"'></div>"),d=b.children(".ug-panel-handle-tip")},this.initEvents=function(){f.addClassOnHover(d),d.bind("click touchstart",k),jQuery(c).on(c.events.OPEN_PANEL,function(){h(),j()}),jQuery(c).on(c.events.CLOSE_PANEL,function(){h(),i()})},this.destroy=function(){f.destroyButton(d),jQuery(c).off(c.events.OPEN_PANEL),jQuery(c).off(c.events.CLOSE_PANEL)},this.placeHandle=function(){var a=f.getElementSize(d);l();var b=c.getOrientation();switch(b){case"left":f.placeElement(d,"right",g.panel_handle_align,-a.width);break;case"right":f.placeElement(d,-a.width,g.panel_handle_align,0,g.panel_handle_offset);break;case"top":f.placeElement(d,g.panel_handle_align,"bottom",g.panel_handle_offset,-a.height);break;case"bottom":f.placeElement(d,g.panel_handle_align,"top",g.panel_handle_offset,-a.height);break;default:throw new Error("Wrong panel orientation: "+b)}},this.hideHandle=function(){1==d.is(":visible")&&d.hide()},this.showHandle=function(){0==d.is(":visible")&&d.show()}}function UGStripPanel(){function p(f,g){c=f,d=jQuery(c),l=jQuery.extend(l,g);var j=!1;1==l.strippanel_vertical_type&&(l=jQuery.extend(l,m),j=!0),0==l.strippanel_enable_buttons&&(l=jQuery.extend(l,n),j=!0),1==j&&(l=jQuery.extend(l,g));var k=c.getOptions(),p=k.gallery_skin;""==l.strippanel_buttons_skin&&(l.strippanel_buttons_skin=p),e=c.getElement(),i.init(c,o,a,l,b),h=new UGThumbsStrip,h.init(c,l)}function q(){if(0==l.strippanel_vertical_type){if(0==o.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==o.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==o.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function r(){if(1==o.isFirstRun&&0==q())return!1;h.run(),w(),z(),G(),o.isFirstRun=!1,D()}function s(a){if(!a)var a=e;if(a.append("<div class='ug-strip-panel'></div>"),f=a.children(".ug-strip-panel"),1==l.strippanel_enable_buttons){var b="ug-strip-arrow-left",c="ug-strip-arrow-right";1==l.strippanel_vertical_type&&(b="ug-strip-arrow-up",c="ug-strip-arrow-down"),f.append("<div class='ug-strip-arrow "+b+" ug-skin-"+l.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),f.append("<div class='ug-strip-arrow "+c+" ug-skin-"+l.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}i.setHtml(f),h.setHtml(f),1==l.strippanel_enable_buttons&&(k=f.children("."+b),j=f.children("."+c)),t()}function t(){""!=l.strippanel_background_color&&f.css("background-color",l.strippanel_background_color)}function u(){var a=h.getHeight(),b=o.panelWidth;if(j){k.height(a),j.height(a);var c=k.children(".ug-strip-arrow-tip");g.placeElement(c,"center","middle");var d=j.children(".ug-strip-arrow-tip");g.placeElement(d,"center","middle")}var e=a+l.strippanel_padding_top+l.strippanel_padding_bottom;f.width(b),f.height(e),o.panelHeight=e;var i=b-l.strippanel_padding_left-l.strippanel_padding_right;if(j){i=i-2*j.outerWidth()-2*l.strippanel_padding_buttons}h.resize(i)}function v(){var a=h.getWidth(),b=o.panelHeight;if(j){k.width(a),j.width(a);var c=k.children(".ug-strip-arrow-tip");g.placeElement(c,"center","middle");var d=j.children(".ug-strip-arrow-tip");g.placeElement(d,"center","middle")}var e=a+l.strippanel_padding_left+l.strippanel_padding_right;f.width(e),f.height(b),o.panelWidth=e;var i=b-l.strippanel_padding_top-l.strippanel_padding_bottom;if(j){i=i-2*j.outerHeight()-2*l.strippanel_padding_buttons}h.resize(i)}function w(){0==l.strippanel_vertical_type?u():v()}function x(){j&&(g.placeElement(k,"left","top",l.strippanel_padding_left,l.strippanel_padding_top),g.placeElement(j,"right","top",l.strippanel_padding_right,l.strippanel_padding_top));var a=l.strippanel_padding_left;j&&(a+=j.outerWidth()+l.strippanel_padding_buttons),h.setPosition(a,l.strippanel_padding_top)}function y(){j&&(g.placeElement(k,"left","top",l.strippanel_padding_left,l.strippanel_padding_top),g.placeElement(j,"left","bottom",l.strippanel_padding_left,l.strippanel_padding_bottom));var a=l.strippanel_padding_top;j&&(a+=j.outerHeight()+l.strippanel_padding_buttons),h.setPosition(l.strippanel_padding_left,a)}function z(){0==l.strippanel_vertical_type?x():y(),i.placeElements()}function B(a){if(g.isButtonDisabled(a))return!0;"advance_item"==l.strippanel_buttons_role?c.nextItem():h.scrollForeward()}function C(a){if(g.isButtonDisabled(a))return!0;"advance_item"==l.strippanel_buttons_role?c.prevItem():h.scrollBack()}function D(){if(!j)return!0;if(0==h.isMoveEnabled())return g.disableButton(k),g.disableButton(j),!0;var a=h.getInnerStripLimits(),b=h.getInnerStripPos();b>=a.maxPos?g.disableButton(k):g.enableButton(k),b<=a.minPos?g.disableButton(j):g.enableButton(j)}function E(){D()}function F(){c.isLastItem()?g.disableButton(j):g.enableButton(j),c.isFirstItem()?g.disableButton(k):g.enableButton(k)}function G(){if(1==o.isEventsInited)return!1;if(o.isEventsInited=!0,j)if(g.addClassOnHover(j,"ug-button-hover"),g.addClassOnHover(k,"ug-button-hover"),g.setButtonOnClick(k,C),g.setButtonOnClick(j,B),"advance_item"!=l.strippanel_buttons_role)jQuery(h).on(h.events.STRIP_MOVE,E),jQuery(h).on(h.events.INNER_SIZE_CHANGE,D),d.on(c.events.SIZE_CHANGE,D);else{var a=c.getOptions();0==a.gallery_carousel&&jQuery(c).on(c.events.ITEM_CHANGE,F)}i.initEvents()}var d,e,f,j,k,a=this,b=jQuery(this),c=new UniteGalleryMain,g=new UGFunctions,h=new UGThumbsStrip,i=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var l={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},m={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},n={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},o={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){j&&(g.destroyButton(j),g.destroyButton(k),jQuery(h).off(h.events.STRIP_MOVE),jQuery(c).off(c.events.ITEM_CHANGE),jQuery(c).off(c.events.SIZE_CHANGE)),i.destroy(),h.destroy()},this.getOrientation=function(){return o.orientation},this.setOrientation=function(a){o.orientation=a},this.init=function(a,b){p(a,b)},this.run=function(){r()},this.setHtml=function(a){s(a)},this.getElement=function(){return f},this.getSize=function(){return g.getElementSize(f)},this.setWidth=function(a){o.panelWidth=a},this.setHeight=function(a){o.panelHeight=a},this.resize=function(b){a.setWidth(b),w(),z()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return i.isPanelClosed()},this.getClosedPanelDest=function(){return i.getClosedPanelDest()},this.openPanel=function(a){i.openPanel(a)},this.closePanel=function(a){i.closePanel(a)},this.setOpenedState=function(a){i.setOpenedState(a)},this.setClosedState=function(a){i.setClosedState(a)},this.setCustomThumbs=function(a){h.setCustomThumbs(a)},this.setDisabledAtStart=function(a){i.setDisabledAtStart(a)}}function UGGridPanel(){function p(d,f){c=d,q(),f&&f.vertical_scroll&&(l.gridpanel_vertical_scroll=f.vertical_scroll),l=jQuery.extend(l,f),1==o.isHorType?(l=jQuery.extend(l,n),l=jQuery.extend(l,f)):1==l.gridpanel_vertical_scroll&&(l=jQuery.extend(l,m),l=jQuery.extend(l,f),l.grid_panes_direction="bottom");var g=c.getOptions(),j=g.gallery_skin;""==l.gridpanel_arrows_skin&&(l.gridpanel_arrows_skin=j);var k=d.getObjects();e=k.g_objWrapper,i.init(c,o,a,l,b),h=new UGThumbsGrid,h.init(c,l)}function q(){if(null==o.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function r(){q(),u(),h.run(),y(),z(),O(),D()}function s(){e.append("<div class='ug-grid-panel'></div>"),f=e.children(".ug-grid-panel"),o.isHorType?(f.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),f.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),k=f.children(".grid-arrow-left-hortype"),j=f.children(".grid-arrow-right-hortype")):0==l.gridpanel_vertical_scroll?(f.append("<div class='grid-arrow grid-arrow-left ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),f.append("<div class='grid-arrow grid-arrow-right ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),k=f.children(".grid-arrow-left"),j=f.children(".grid-arrow-right")):(f.append("<div class='grid-arrow grid-arrow-up ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),f.append("<div class='grid-arrow grid-arrow-down ug-skin-"+l.gridpanel_arrows_skin+"'></div>"),k=f.children(".grid-arrow-up"),j=f.children(".grid-arrow-down")),i.setHtml(f),k.fadeTo(0,0),j.fadeTo(0,0),h.setHtml(f),t()}function t(){""!=l.gridpanel_background_color&&f.css("background-color",l.gridpanel_background_color)}function u(){"center"==l.gridpanel_grid_align&&(l.gridpanel_grid_align="middle")}function w(){var a=l.gridpanel_padding_border_top+l.gridpanel_padding_border_bottom,b=o.panelHeight-a;if(0==l.gridpanel_arrows_always_on){if(1==h.getNumPanesEstimationByHeight(b))return b}var d=g.getElementSize(j),e=d.height,a=e+l.gridpanel_arrows_padding_vert;return 1==l.gridpanel_vertical_scroll&&(a*=2),a+=l.gridpanel_padding_border_top+l.gridpanel_padding_border_bottom,b=o.panelHeight-a}function x(){var a=l.gridpanel_padding_border_left+l.gridpanel_padding_border_right,b=o.panelWidth-a;if(0==l.gridpanel_arrows_always_on){if(1==h.getNumPanesEstimationByWidth(b))return b}return a+=2*(g.getElementSize(j).width+l.gridpanel_arrows_padding_hor),b=o.panelWidth-a}function y(){var a=!1;if(1==l.gridpanel_arrows_always_on)a=!0;else{h.getNumPanes()>1&&(a=!0)}1==a?(j.show().fadeTo(0,1),k.show().fadeTo(0,1),o.arrowsVisible=!0):(j.hide(),k.hide(),o.arrowsVisible=!1)}function z(){var a=h.getSize();1==o.isHorType?o.panelHeight=a.height+l.gridpanel_padding_border_top+l.gridpanel_padding_border_bottom:o.panelWidth=a.width+l.gridpanel_padding_border_left+l.gridpanel_padding_border_right,g.setElementSize(f,o.panelWidth,o.panelHeight)}function D(){if(1==o.isEventsInited)return!1;o.isEventsInited=!0,k&&(g.addClassOnHover(k),h.attachPrevPaneButton(k)),j&&(g.addClassOnHover(j),h.attachNextPaneButton(j)),i.initEvents()}function F(){return l.gridpanel_padding_border_left}function G(){var a=l.gridpanel_grid_align,b=0;switch(a){case"top":b=l.gridpanel_padding_border_top;break;case"bottom":b=l.gridpanel_padding_border_bottom}var c=F(),d=h.getElement();g.placeElement(d,c,a,0,b)}function H(){var a,b,c,d,e=g.getElementSize(k),f=h.getSize();switch(l.gridpanel_grid_align){default:case"top":a=l.gridpanel_padding_border_top+e.height+l.gridpanel_arrows_padding_vert;break;case"middle":a="middle";break;case"bottom":a=o.panelHeight-f.height-e.height-l.gridpanel_padding_border_bottom-l.gridpanel_arrows_padding_vert}var i=F(),m=h.getElement();g.placeElement(m,i,a);var f=h.getSize();switch(l.gridpanel_arrows_align_vert){default:case"center":case"middle":b=(f.top-e.height)/2,c=f.bottom+(o.panelHeight-f.bottom-e.height)/2,d=0;break;case"grid":b=f.top-e.height-l.gridpanel_arrows_padding_vert_vert,c=f.bottom+l.gridpanel_arrows_padding_vert,d=0;break;case"border":case"borders":b=l.gridpanel_padding_border_top,c="bottom",d=l.gridpanel_padding_border_bottom}g.placeElement(k,"center",b),g.placeElement(j,"center",c,0,d)}function I(){1==o.arrowsVisible?H():G()}function J(){var a,b,c,d,e=g.getElementSize(k),f=h.getSize(),i=l.gridpanel_padding_border_top;switch(l.gridpanel_grid_align){case"middle":switch(l.gridpanel_arrows_align_vert){default:var m=f.height+l.gridpanel_arrows_padding_vert+e.height;i=(o.panelHeight-m)/2;break;case"border":case"borders":i=(o.panelHeight-e.height-l.gridpanel_padding_border_bottom-f.height)/2}break;case"bottom":var m=f.height+e.height+l.gridpanel_arrows_padding_vert;i=o.panelHeight-m-l.gridpanel_padding_border_bottom}var p=h.getElement(),q=F();g.placeElement(p,q,i);var f=h.getSize();switch(l.gridpanel_arrows_align_vert){default:case"center":case"middle":a=f.bottom+(o.panelHeight-f.bottom-e.height)/2,c=0;break;case"grid":a=f.bottom+l.gridpanel_arrows_padding_vert,c=0;break;case"border":case"borders":a="bottom",c=l.gridpanel_padding_border_bottom}b=-e.width/2-l.gridpanel_space_between_arrows/2,g.placeElement(k,"center",a,b,c);var d=Math.abs(b);g.placeElement(j,"center",a,d,c)}function K(){1==o.arrowsVisible?J():G()}function L(){var a,b,c,d,e=g.getElementSize(k),f=h.getSize();switch(l.gridpanel_grid_align){default:case"left":a=l.gridpanel_padding_border_left+l.gridpanel_arrows_padding_hor+e.width;break;case"middle":case"center":a="center";break;case"right":a=o.panelWidth-f.width-e.width-l.gridpanel_padding_border_right-l.gridpanel_arrows_padding_hor}var i=h.getElement();switch(g.placeElement(i,a,l.gridpanel_padding_border_top),f=h.getSize(),l.gridpanel_arrows_align_vert){default:case"center":case"middle":d=(f.height-e.height)/2+f.top;break;case"top":d=l.gridpanel_padding_border_top+l.gridpanel_arrows_padding_vert;break;case"bottom":d=o.panelHeight-l.gridpanel_padding_border_bottom-l.gridpanel_arrows_padding_vert-e.height}switch(l.gridpanel_arrows_align_hor){default:case"borders":b=l.gridpanel_padding_border_left,c=o.panelWidth-l.gridpanel_padding_border_right-e.width;break;case"grid":b=f.left-l.gridpanel_arrows_padding_hor-e.width,c=f.right+l.gridpanel_arrows_padding_hor;break;case"center":b=(f.left-e.width)/2,c=f.right+(o.panelWidth-f.right-e.width)/2}g.placeElement(k,b,d),g.placeElement(j,c,d)}function M(){var a,b=h.getSize();switch(l.gridpanel_grid_align){default:case"left":a=l.gridpanel_padding_border_left;break;case"middle":case"center":a="center";break;case"right":a=o.panelWidth-b.width-l.gridpanel_padding_border_right}var c=h.getElement();g.placeElement(c,a,l.gridpanel_padding_border_top)}function N(){1==o.arrowsVisible?L():M()}function O(){0==o.isHorType?1==l.gridpanel_vertical_scroll?I():K():N(),i.placeElements()}var e,f,j,k,a=this,b=jQuery(this),c=new UniteGalleryMain,g=new UGFunctions,h=new UGThumbsGrid,i=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var l={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},m={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},n={gridpanel_grid_align:"center"},o={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){k&&g.destroyButton(k),j&&g.destroyButton(j),i.destroy(),h.destroy()},this.getOrientation=function(){return o.orientation},this.setOrientation=function(a){switch(o.orientation=a,a){case"right":case"left":o.isHorType=!1;break;case"top":case"bottom":o.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+a)}},this.setHeight=function(a){if(1==o.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+o.orientation+"). Please use setWidth");o.panelHeight=a;var b=w();h.setMaxHeight(b)},this.setWidth=function(a){if(0==o.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+o.orientation+"). Please use setHeight");o.panelWidth=a;var b=x();h.setMaxWidth(b)},this.init=function(a,b){p(a,b)},this.setHtml=function(){s()},this.run=function(){r()},this.getElement=function(){return f},this.getSize=function(){return g.getElementSize(f)},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return i.isPanelClosed()},this.getClosedPanelDest=function(){return i.getClosedPanelDest()},this.openPanel=function(a){i.openPanel(a)},this.closePanel=function(a){i.closePanel(a)},this.setOpenedState=function(a){i.setOpenedState(a)},this.setClosedState=function(a){i.setClosedState(a)},this.setDisabledAtStart=function(a){i.setDisabledAtStart(a)}}function UGThumbsGrid(){function q(b,g,i){if(e=b.getObjects(),c=b,c.attachThumbsPanel("grid",a),d=jQuery(b),f=e.g_objWrapper,h=e.g_arrItems,!0===i&&(o.isTilesMode=!0),o.numThumbs=h.length,A(g),1==o.isTilesMode){m.setFixedMode(),m.setApproveClickFunction(V),m.init(b,n);var j=m.getOptions();o.tileMaxHeight=j.tile_height,o.tileMaxWidth=j.tile_width,l=m.getObjThumbs()}else g.thumb_fixed_size=!0,l.init(b,g)}function r(a){var b=f;a&&(b=a),b.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),j=b.children(".ug-thumbs-grid"),k=j.children(".ug-thumbs-grid-inner"),1==o.isTilesMode?m.setHtml(k):l.setHtmlThumbs(k)}function s(){if(0==o.isHorizontal){if(0==o.gridHeight)throw new Error("You must set height before run.")}else if(0==o.gridWidth)throw new Error("You must set width before run.")}function t(){var d=c.getSelectedItem();if(s(),1==o.isFirstTimeRun)ba(),1==o.isTilesMode?(v(),y(),m.run()):(l.setHtmlProperties(),y(),l.loadThumbsImages());else if(1==o.isTilesMode){var e=v();1==e&&(y(),m.run())}if(E(),1==o.isFirstTimeRun&&o.isTilesMode){var g=l.getThumbs();g.each(function(a,b){f.trigger(o.eventSizeChange,jQuery(b))}),g.fadeTo(0,1)}null!=d&&z(d.index),b.trigger(a.events.PANE_CHANGE,o.currentPane),o.isFirstTimeRun=!1}function u(){if(1==o.isTilesMode)var a=m.getGlobalTileSize();else var a=l.getGlobalThumbSize();return a}function v(){if(0==o.isTilesMode)throw new Error("Dynamic size can be set only in tiles mode");var a=!1,b=c.isMobileMode(),d=o.spaceBetweenCols;1==b?(o.spaceBetweenCols=n.grid_space_between_mobile,o.spaceBetweenRows=n.grid_space_between_mobile):(o.spaceBetweenCols=n.grid_space_between_cols,o.spaceBetweenRows=n.grid_space_between_rows),o.spaceBetweenCols!=d&&(a=!0);var e=u(),f=e.width,h=o.tileMaxWidth;return g.getNumItemsInSpace(o.gridWidth,o.tileMaxWidth,o.spaceBetweenCols)<n.grid_min_cols&&(h=g.getItemSizeInSpace(o.gridWidth,n.grid_min_cols,o.spaceBetweenCols)),m.setTileSizeOptions(h),h!=f&&(a=!0),a}function w(){var a=u(),b=a.height,c=o.gridWidth,d=n.grid_num_rows*b+(n.grid_num_rows-1)*o.spaceBetweenRows+2*n.grid_padding;o.gridHeight=d,g.setElementSize(j,c,d),g.setElementSize(k,c,d),o.innerWidth=c,o.innerHeight=d}function x(){var a=u(),b=a.width,c=n.grid_num_cols*b+(n.grid_num_cols-1)*o.spaceBetweenCols+2*n.grid_padding,d=o.gridHeight;o.gridWidth=c,g.setElementSize(j,c,d),g.setElementSize(k,c,d),o.innerWidth=c,o.innerHeight=d}function y(){0==o.isHorizontal?x():w()}function z(b){var c=R(b);if(-1==c)return!1;a.gotoPane(c,"scroll")}function A(a){n=jQuery.extend(n,a),l.setOptions(a),o.isNavigationVertical="top"==n.grid_panes_direction||"bottom"==n.grid_panes_direction,o.spaceBetweenCols=n.grid_space_between_cols,o.spaceBetweenRows=n.grid_space_between_rows}function B(){var a=k.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,h=0;o.innerWidth=0,o.numPanes=1,o.arrPanes=[],o.numThumbsInPane=0,o.arrPanes.push(e);var l=a.length;for(i=0;i<l;i++){var m=jQuery(a[i]);g.placeElement(m,b,c);var p=m.outerWidth(),q=m.outerHeight();b>f&&(f=b);var r=c+q;r>h&&(h=r);var s=f+p;s>o.innerWidth&&(o.innerWidth=s),b+=p+o.spaceBetweenCols,d++,d>=n.grid_num_cols&&(c+=q+o.spaceBetweenRows,b=e,d=0),1==o.numPanes&&o.numThumbsInPane++,c+q>o.gridHeight&&(c=0,e=o.innerWidth+o.spaceBetweenCols,b=e,d=0,1==o.isMaxHeight&&1==o.numPanes&&(o.gridHeight=h,j.height(o.gridHeight)),i<l-1&&(o.numPanes++,o.arrPanes.push(e)))}k.width(o.innerWidth),1==o.isMaxHeight&&1==o.numPanes&&(o.gridHeight=h,j.height(h))}function C(){var a=k.children(".ug-thumb-wrapper"),b=0,c=0,d=0,e=0,f=0,h=0;o.innerWidth=0,o.numPanes=1,o.arrPanes=[],o.numThumbsInPane=0,o.arrPanes.push(f);var l=a.length;for(i=0;i<l;i++){var m=jQuery(a[i]);g.placeElement(m,b,c);var p=m.outerWidth(),q=m.outerHeight();b+=p+o.spaceBetweenCols;var r=c+q;r>d&&(d=r),e++,e>=n.grid_num_cols&&(c+=q+o.spaceBetweenRows,b=f,e=0),1==o.numPanes&&o.numThumbsInPane++,r=c+q;var s=h+o.gridHeight;r>s&&(1==o.isMaxHeight&&1==o.numPanes&&(o.gridHeight=d,j.height(o.gridHeight),s=o.gridHeight),c=s+o.spaceBetweenRows,h=c,f=0,b=f,e=0,i<l-1&&(o.numPanes++,o.arrPanes.push(c)))}k.height(d),o.innerHeight=d,1==o.isMaxHeight&&1==o.numPanes&&(o.gridHeight=d,j.height(d))}function D(){var a=k.children(".ug-thumb-wrapper"),b=n.grid_padding,c=n.grid_padding,d=c,e=b,f=0,h=0,l=0,m=0,p=0;o.innerWidth=0,o.numPanes=1,o.arrPanes=[],o.numThumbsInPane=0,o.arrPanes.push(b-n.grid_padding);var q=a.length;for(i=0;i<q;i++){var r=jQuery(a[i]),s=r.outerWidth(),t=r.outerHeight();e-b+s>o.gridWidth&&(p++,d=0,p>=n.grid_num_rows?(p=0,b=e,d=c,l=0,1==o.numPanes&&(o.gridWidth=f+n.grid_padding,j.width(o.gridWidth),o.gridHeight=m+n.grid_padding,j.height(o.gridHeight)),o.numPanes++,o.arrPanes.push(b-n.grid_padding)):(e=b,d=l+o.spaceBetweenRows)),g.placeElement(r,e,d);var u=e+s;u>f&&(f=u);var v=d+t;v>l&&(l=v),v>m&&(m=v),v>h&&(h=v);var u=f+s;u>o.innerWidth&&(o.innerWidth=u),e+=s+o.spaceBetweenCols,1==o.numPanes&&o.numThumbsInPane++}o.innerWidth=f+n.grid_padding,o.innerHeight=m+n.grid_padding,k.width(o.innerWidth),k.height(o.innerHeight),1==o.numPanes&&(o.gridWidth=f+n.grid_padding,o.gridHeight=m+n.grid_padding,j.width(o.gridWidth),j.height(o.gridHeight))}function E(){0==o.isHorizontal?o.isNavigationVertical?C():B():D()}function F(a){if(a<0||a>=o.numThumbs)throw new Error("Thumb not exists: "+a);return!0}function G(a){if(a>=o.numPanes||a<0)throw new Error("Pane "+index+" doesn't exists.");return!0}function I(a){var b=O(a);if(0==b)return!1;k.css(b)}function J(a){var b=O(a);if(0==b)return!1;k.stop(!0).animate(b,{duration:n.grid_transition_duration,easing:n.grid_transition_easing,queue:!1})}function K(){J(-o.arrPanes[o.currentPane])}function N(){return 1==o.isNavigationVertical?o.gridHeight:o.gridWidth}function O(a){var b={};return 1==o.isNavigationVertical?b.top=a+"px":b.left=a+"px",b}function Q(){var a=g.getElementSize(k);return 1==o.isNavigationVertical?a.top:a.left}function R(a){return 0==F(a)?-1:Math.floor(a/o.numThumbsInPane)}function T(){if(1==o.numPanes)return!1;var a=g.getStoredEventData(o.storedEventID),b=a.diffTime,c=Q(),d=Math.abs(c-a.startInnerPos);return d>30||d>5&&b>300}function U(){var a=g.getStoredEventData(o.storedEventID),b=Q();diffPos=Math.abs(a.startInnerPos-b);var c=N(),d=Math.round(3*c/8);return diffPos>=d||a.diffTime<300&&diffPos>25}function V(){return 1==o.numPanes||g.isApproveStoredEventClick(o.storedEventID,o.isNavigationVertical)}function X(a){if(1==T())return!0;var b=jQuery(this),d=l.getItemByThumb(b);c.selectItem(d)}function Y(a){if(1==o.numPanes)return!0;if(1==o.touchActive)return!0;0==o.isTilesMode&&a.preventDefault(),o.touchActive=!0;var b={startInnerPos:Q()};g.storeEventData(a,o.storedEventID,b)}function Z(){return 0!=n.grid_vertical_scroll_ondrag&&(1!=o.isNavigationVertical&&"vert"===g.handleScrollTop(o.storedEventID))}function $(a){if(0==o.touchActive)return!0;a.preventDefault(),g.updateStoredEventData(a,o.storedEventID);var b=g.getStoredEventData(o.storedEventID,o.isNavigationVertical);if(Z())return!0;var d=b.diffMousePos,e=b.startInnerPos+d,f=d>0?"prev":"next",h=o.arrPanes[o.numPanes-1];0==n.grid_carousel&&e>0&&"prev"==f&&(e/=3),0==n.grid_carousel&&e<-h&&"next"==f&&(e=b.startInnerPos+d/3),I(e)}function _(b){if(0==o.touchActive)return!0;g.updateStoredEventData(b,o.storedEventID);var c=g.getStoredEventData(o.storedEventID,o.isNavigationVertical);if(o.touchActive=!1,0==U())return K(),!0;"next"==(Q()-c.startInnerPos>0?"prev":"next")?0==n.grid_carousel&&a.isLastPane()?K():a.nextPane():0==n.grid_carousel&&a.isFirstPane()?K():a.prevPane()}function aa(){var a=c.getSelectedItem();l.setThumbSelected(a.objThumbWrapper),z(a.index)}function ba(){if(0==o.isTilesMode){l.initEvents();j.find(".ug-thumb-wrapper").on("click touchend",X),d.on(c.events.ITEM_CHANGE,aa)}else m.initEvents();j.bind("mousedown touchstart",Y),jQuery("body").bind("mousemove touchmove",$),jQuery(window).add("body").bind("mouseup touchend",_)}var d,e,f,h,j,k,a=this,b=jQuery(this),c=new UniteGalleryMain,g=new UGFunctions,l=new UGThumbsGeneral,m=new UGTileDesign,n={grid_panes_direction:"left",grid_num_cols:2,grid_min_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_space_between_mobile:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var o={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid",tileMaxWidth:null,tileMaxHeight:null,spaceBetweenCols:null,spaceBetweenRows:null};this.destroy=function(){if(0==o.isTilesMode){var e=j.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),d.on(c.events.ITEM_CHANGE),l.destroy()}else m.destroy();j.unbind("mousedown"),j.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),b.off(a.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(a){l.setThumbUnselected(a)},this.isItemThumbVisible=function(a){return R(a.index)==o.currentPane},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(a){if(1==o.isTilesMode)var b=n.tile_height;else var c=l.getOptions(),b=c.thumb_height;var d=l.getNumThumbs(),e=Math.ceil(d/n.grid_num_cols),f=e*b+(e-1)*o.spaceBetweenRows;return Math.ceil(f/a)},this.getNumPanesEstimationByWidth=function(a){if(o.isTilesMode)var b=n.tile_width;else var c=l.getOptions(),b=c.thumb_width;var d=l.getNumThumbs(),e=Math.ceil(d/n.grid_num_rows),f=e*b+(e-1)*o.spaceBetweenCols;return Math.ceil(f/a)},this.getHeightEstimationByWidth=function(a){if(0==o.isTilesMode)throw new Error("This function works only with tiles mode");var b=l.getNumThumbs(),c=g.getNumItemsInSpace(a,n.tile_width,o.spaceBetweenCols),d=Math.ceil(b/c);d>n.grid_num_rows&&(d=n.grid_num_rows);var e=g.getSpaceByNumItems(d,n.tile_height,o.spaceBetweenRows);return e+=2*n.grid_padding},this.getElement=function(){return j},this.getSize=function(){return g.getElementSize(j)},this.getNumPanes=function(){return o.numPanes},this.isFirstPane=function(){return 0==o.currentPane},this.isLastPane=function(){return o.currentPane==o.numPanes-1},this.getPaneInfo=function(){return{pane:o.currentPane,total:o.numPanes}},this.getPane=function(){return o.currentPane},this.setWidth=function(a){o.gridWidth=a,o.isHorizontal=!0},this.setMaxWidth=function(a){o.gridWidth=a,o.isMaxWidth=!0,o.isHorizontal=!0},this.setHeight=function(a){o.gridHeight=a,o.isHorizontal=!1},this.setMaxHeight=function(a){o.gridHeight=a,o.isMaxHeight=!0,o.isHorizontal=!1},this.gotoPane=function(c,d){if(0==G(c))return!1;if(c==o.currentPane)return!1;var e=-o.arrPanes[c];o.currentPane=c,J(e),b.trigger(a.events.PANE_CHANGE,c)},this.nextPane=function(){var b=o.currentPane+1;if(b>=o.numPanes){if(0==n.grid_carousel)return!0;b=0}a.gotoPane(b,"next")},this.prevPane=function(){var b=o.currentPane-1;if(b<0&&(b=o.numPanes-1,0==n.grid_carousel))return!1;a.gotoPane(b,"prev")},this.attachNextPaneButton=function(c){if(g.setButtonOnClick(c,a.nextPane),1==n.grid_carousel)return!0;a.isLastPane()&&c.addClass("ug-button-disabled"),b.on(a.events.PANE_CHANGE,function(){a.isLastPane()?c.addClass("ug-button-disabled"):c.removeClass("ug-button-disabled")})},this.attachPrevPaneButton=function(c){if(g.setButtonOnClick(c,a.prevPane),1==n.grid_carousel)return!0;a.isFirstPane()&&c.addClass("ug-button-disabled"),b.on(a.events.PANE_CHANGE,function(){a.isFirstPane()?c.addClass("ug-button-disabled"):c.removeClass("ug-button-disabled")})},this.attachBullets=function(b){b.setActive(o.currentPane),jQuery(b).on(b.events.BULLET_CLICK,function(c,d){a.gotoPane(d,"theme"),b.setActive(d)}),jQuery(a).on(a.events.PANE_CHANGE,function(a,c){b.setActive(c)})},this.getObjTileDesign=function(){return m},this.init=function(a,b,c){q(a,b,c)},this.run=function(){t()},this.setHtml=function(a){r(a)}}function UGTiles(){function r(a,b){g_objects=a.getObjects(),c=a,d=jQuery(a),e=g_objects.g_objWrapper,h=g_objects.g_arrItems,n=jQuery.extend(n,b),s(),i.init(a,n),j=i.getObjThumbs()}function s(){n.tiles_min_columns<1&&(n.tiles_min_columns=1),0!=n.tiles_max_columns&&n.tiles_max_columns<n.tiles_min_columns&&(n.tiles_max_columns=n.tiles_min_columns)}function t(a){if(!a)var a=e;f=a;var b=n.tiles_type;a.addClass("ug-tiletype-"+b),i.setHtml(a),a.children(".ug-thumb-wrapper").hide()}function u(){if(f.addClass("ug-tiles-rest-mode"),o.isTransInited=!0,1==n.tiles_enable_transition){f.addClass("ug-tiles-transit");var a=i.getOptions();1==a.tile_enable_image_effect&&0==a.tile_image_effect_reverse&&f.addClass("ug-tiles-transit-overlays"),o.isTransActive=!0}}function v(){return g.getElementSize(f).width}function w(){return 0!=o.isTransInited&&(f.addClass("ug-tiles-transition-active"),f.removeClass("ug-tiles-rest-mode"),0!=o.isTransActive&&void i.disableEvents())}function x(){if(0==o.isTransInited)return!1;f.removeClass("ug-tiles-transition-active"),f.addClass("ug-tiles-rest-mode")}function y(){1==o.isTransActive?(setTimeout(function(){i.enableEvents(),i.triggerSizeChangeEventAllTiles(),x()},800),o.handle&&clearTimeout(o.handle),o.handle=setTimeout(function(){x(),i.triggerSizeChangeEventAllTiles(),o.handle=null},2e3)):(i.triggerSizeChangeEventAllTiles(),x())}function A(){k.colWidth=(k.availWidth-k.colGap*(k.numCols-1))/k.numCols,k.colWidth=Math.floor(k.colWidth),k.totalWidth=g.getSpaceByNumItems(k.numCols,k.colWidth,k.colGap)}function B(){if(k.colWidth=n.tiles_col_width,k.minCols=n.tiles_min_columns,k.maxCols=n.tiles_max_columns,0==c.isMobileMode()?k.colGap=n.tiles_space_between_cols:k.colGap=n.tiles_space_between_cols_mobile,k.galleryWidth=v(),k.availWidth=k.galleryWidth,1==n.tiles_include_padding&&(k.availWidth=k.galleryWidth-2*k.colGap),1==n.tiles_exact_width)k.numCols=g.getNumItemsInSpace(k.availWidth,k.colWidth,k.colGap),k.maxCols>0&&k.numCols>k.maxCols&&(k.numCols=k.maxCols),k.numCols<k.minCols?(k.numCols=k.minCols,A()):k.totalWidth=k.numCols*(k.colWidth+k.colGap)-k.colGap;else{var a=g.getNumItemsInSpaceRound(k.availWidth,k.colWidth,k.colGap);a<k.minCols?a=k.minCols:0!=k.maxCols&&a>k.maxCols&&(a=k.maxCols),k.numCols=a,A()}switch(n.tiles_align){case"center":default:k.addX=Math.round((k.galleryWidth-k.totalWidth)/2);break;case"left":k.addX=0;break;case"right":k.addX=k.galleryWidth-k.totalWidth}for(k.maxColHeight=0,k.arrPosx=[],col=0;col<k.numCols;col++){var b=g.getColX(col,k.colWidth,k.colGap);k.arrPosx[col]=b+k.addX}k.colHeights=[0]}function C(){var a=0,b=999999999;for(col=0;col<k.numCols;col++){if(void 0==k.colHeights[col]||0==k.colHeights[col])return col;k.colHeights[col]<b&&(a=col,b=k.colHeights[col])}return a}function D(a,b,c,d){if(null===d||void 0===d)var d=C();var e=0;void 0!==k.colHeights[d]&&(e=k.colHeights[d]);var h=i.getTileHeightByWidth(k.colWidth,a);if(null===h){if(1==n.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");h=g.getElementSize(a).height}var l=k.arrPosx[d];g.placeElement(a,l,e);var m=e+h;k.colHeights[d]=m+k.colGap,k.maxColHeight<m&&(k.maxColHeight=m),1==b&&a.show().fadeTo(0,1),1==c&&f.height(k.maxColHeight)}function E(a){a||(a=!1),B();var b=j.getThumbs();w(),i.resizeAllTiles(k.colWidth,i.resizemode.VISIBLE_ELEMENTS);for(var c=0;c<b.length;c++){var d=jQuery(b[c]),e=void 0;1==n.tiles_keep_order&&(e=g.getColByIndex(k.numCols,c)),D(d,a,!1,e)}y();var h=f.height();1==o.isTransActive&&h>k.maxColHeight?setTimeout(function(){f.height(k.maxColHeight)},700):f.height(k.maxColHeight)}function F(a){var b=a.index();if(!0===c.getItem(b).ordered_placed)return!1;var e=g.getPrevRowSameColIndex(b,k.numCols);return e<0||!0===c.getItem(e).ordered_placed}function G(a,b){if(!0!==b){if(0==F(a))return!1}var e=a.index(),f=g.getColByIndex(k.numCols,e),h=c.getItem(e);i.resizeTile(a,k.colWidth),D(a,!0,!0,f),h.ordered_placed=!0;var l=c.getNumItems(),m=g.getNextRowSameColIndex(e,k.numCols);if(m>=l)return!1;var n=j.getThumbByIndex(m),o=c.getItem(m);j.isThumbLoaded(n);j.isThumbLoaded(n)&&!o.ordered_placed&&G(n,!0)}function H(a,b){if(1==b)return!1;a=jQuery(a);var c=jQuery(a).parent();j.triggerImageLoadedEvent(c,a),1==n.tiles_keep_order?G(c):(i.resizeTile(c,k.colWidth),D(c,!0,!0))}function I(){var c=j.getThumbs();B();var d=Math.abs(k.galleryWidth-k.totalWidth);if(1==n.tiles_set_initial_height&&0==g.isScrollbarExists()&&d<25){var h=(c.length,Math.ceil(c.length/k.numCols)),i=h*n.tiles_col_width*.75;f.height(i),B()}c.fadeTo(0,0);var l=jQuery(f).find("img.ug-thumb-image");if(1==o.isFixedMode)b.trigger(a.events.TILES_FIRST_PLACED),E(!0),g.checkImagesLoaded(l,function(){u()});else{var m=k.numCols,p=k.galleryWidth,q=!1;g.checkImagesLoaded(l,function(){B(),m==k.numCols&&p==k.galleryWidth||E(!1),u()},function(c,d){0==q&&b.trigger(a.events.TILES_FIRST_PLACED),q=!0,H(c,d)})}}function K(){var a=v(),b=j.getThumbs(),c=n.tiles_justified_row_height,d=[],e=0,f=n.tiles_justified_space_between,g=b.length;jQuery.each(b,function(a,b){b=jQuery(b);var f=j.getItemByThumb(b),g=f.thumbWidth;f.thumbHeight!==c&&(g=Math.floor(f.thumbRatioByWidth*c)),d[a]=g,e+=g});var h=Math.ceil(e/a);h>g&&(h=g);var i=e/h,k=[],l=0,m=[],p=[],q=0,r=0;jQuery.each(b,function(a,b){var c=d[a];q+c/2>(r+1)*i&&(m[k.length]=l,k.push(p),p=[],l=0,r++),q+=c,l+=c,p.push(b)}),m[k.length]=l,k.push(p);var s=[],t=[],u=0;return jQuery.each(k,function(b,e){var h=(e.length,m[b]),i=(e.length-1)*f,j=(a-i)/h,k=Math.round(c*j);u+=k,b>0&&(u+=f),t.push(k);var l=k/c,n=[],o=i;jQuery.each(e,function(a,b){var c=jQuery(b),e=c.index(),f=d[e],g=Math.round(f*l);n[a]=g,o+=g});var p=o-a;jQuery.each(n,function(a,b){if(0==p)return!1;p<0?(n[a]=b+1,p++):(n[a]=b-1,p--),a==n.length-1&&0!=p&&(n[a]-=p)}),s[b]=n}),{arrRows:k,arrRowWidths:s,arrRowHeights:t,gap:f,totalHeight:u}}function L(a){if(!a)var a=!1;var b=v(),c=K();f.height(c.totalHeight),v()!=b&&(c=K()),w();var e=0,h=0;jQuery.each(c.arrRows,function(b,d){var f=c.arrRowWidths[b],j=c.arrRowHeights[b],k=0;jQuery.each(d,function(b,d){var l=jQuery(d),m=j,n=f[b];i.resizeTile(l,n,m,i.resizemode.VISIBLE_ELEMENTS),g.placeElement(l,k,e),k+=n,k>h&&(h=k),k+=c.gap,1==a&&jQuery(d).show()}),e+=j+c.gap}),y()}function M(){var c=jQuery(e).find("img.ug-thumb-image"),d=j.getThumbs();d.fadeTo(0,0),g.checkImagesLoaded(c,function(){setTimeout(function(){L(!0),d.fadeTo(0,1),b.trigger(a.events.TILES_FIRST_PLACED),u()})},function(a,b){a=jQuery(a);var c=jQuery(a).parent();j.triggerImageLoadedEvent(c,a)})}function O(){var d=jQuery(e).find("img.ug-thumb-image");j.getThumbs().fadeTo(0,0),g.checkImagesLoaded(d,function(){1==c.isMobileMode()?E(!0):Q(!0),b.trigger(a.events.TILES_FIRST_PLACED),u()},function(a,b){a=jQuery(a);var c=jQuery(a).parent();j.triggerImageLoadedEvent(c,a)})}function P(){var a=v();switch(p.galleryWidth=a,l={},p.colWidth=n.tiles_nested_col_width,p.optimalTileWidth=n.tiles_nested_optimal_tile_width,p.currentGap=n.tiles_space_between_cols,1==c.isMobileMode()&&(p.currentGap=n.tiles_space_between_cols_mobile),null==p.colWidth?p.colWidth=Math.floor(p.optimalTileWidth/p.nestedOptimalCols):p.optimalTileWidth>p.colWidth?p.nestedOptimalCols=Math.ceil(p.optimalTileWidth/p.colWidth):p.nestedOptimalCols=1,p.maxColumns=g.getNumItemsInSpace(a,p.colWidth,p.currentGap),p.colWidth=g.getItemSizeInSpace(a,p.maxColumns,p.currentGap),p.gridY=0,m=[],trace(p),j.getThumbs().each(function(){var a=jQuery(this),b=R(a);m.push(b)}),p.optimalTileWidth>p.colWidth?p.nestedOptimalCols=Math.ceil(p.optimalTileWidth/p.colWidth):p.nestedOptimalCols=1,p.totalWidth=p.maxColumns*(p.colWidth+p.currentGap)-p.currentGap,n.tiles_align){case"center":default:p.addX=Math.round((p.galleryWidth-p.totalWidth)/2);break;case"left":p.addX=0;break;case"right":p.addX=p.galleryWidth-p.totalWidth}p.maxGridY=0}function Q(a){var b=v();P(),U();var c=p.maxGridY*(p.colWidth+p.currentGap)-p.currentGap;f.height(c),v()!=b&&(P(),U()),0==n.tiles_nested_debug&&la(a)}function R(a){var b,c,d={},e=p.colWidth,f=p.currentGap,g=i.getTileImageSize(a),h=a.index(),j=Math.ceil(S(h)*(1*p.nestedOptimalCols/3)+2*p.nestedOptimalCols/3),k=g.width,l=g.height,m=k/l;return k>l?(b=j,0==(c=Math.round(b/m))&&(c=1)):(c=j,0==(b=Math.round(c*m))&&(b=1)),d.dimWidth=b,d.dimHeight=c,d.width=b*e+f*(b-1),d.height=c*e+f*(c-1),d.imgWidth=k,d.imgHeight=l,d.left=0,d.top=0,d}function S(a){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(a))))}function T(a,b){if(0==b){for(var c=p.currentItem;c<m.length;c++)V(c,!0);p.currentItem=m.length-1}else V(p.currentItem,!0);for(var c=0;c<=p.currentItem;c++)ma(c,!0);p.currentItem++}function U(a){if(1==n.tiles_nested_debug)return void 0===a&&(a=!0),T(!0,a),!1;for(var b=0;b<m.length;b++)V(b,!0)}function V(a,b){if(!b)var b=!1;p.maxColHeight=0;for(var c=g.getObjectLength(l),d=p.gridY;d<=c+1;d++){for(var e=0;e<p.maxColumns;e++)if(0==ga(p.gridY)||0==ja(p.gridY,e)){var f=fa(e);return void W(a,f,e)}p.gridY++}}function W(a,b,c){var d=jQuery.extend(!0,{},m[a]),e=d.dimWidth,f=b-d.dimWidth,g=p.nestedOptimalCols;if(b<=d.dimWidth||f<=.33*g||b<=g)ba(a,b);else if(f<=g)g>=4?1==ea(Math.floor(b/2),c)?ba(a,Math.floor(b/2)+1):ba(a,Math.floor(b/2)):ba(objImage,b);else if(1==ea(e,c))switch(e>=g){case!0:ba(a,e-1);break;case!1:ba(a,e+1)}d=jQuery.extend(!0,{},m[a]);var i=_(a,d.dimWidth,c);if(p.columnsValueToEnableHeightResize<=i[0]&&p.maxColumns>=2*p.nestedOptimalCols){var j=aa(c,d),k=ca(a,j.newHeight,!0);m[a].dimHeight=k.dimHeight;var l=$(i,k.dimWidth,c),n=X(l),o=!1;n>=2&&(o=!0),j.newHeight>=d.dimHeight&&(d=ca(a,j.newHeight,!0));var q=Y(j.idToResize,j.newHeight,d.dimHeight);d.top=p.gridY,d.left=c,q.push({tileID:a,sizes:d});return da(q)<da(l)||1==o?void Z(q):void Z(l)}d.left=c,d.top=p.gridY,m[a]=d,ha(a,d,c,p.gridY),p.maxGridY=d.top+d.dimHeight}function X(a){for(var b=0,c=0,d=0;d<a.length-1;d++){var e=a[d].sizes,f=-1,g=-1;ga(e.top+e.dimHeight)&&p.maxColumns>e.left+e.dimWidth&&(f=l[e.top+e.dimHeight-1][e.left+e.dimWidth],g=l[e.top+e.dimHeight][e.left+e.dimWidth]),f!=g&&b++}for(var d=0;d<a.length-1;d++){var e=a[d].sizes,f=-1,g=-1;ga(e.top+e.dimHeight)&&e.left-1>=0&&(f=l[e.top+e.dimHeight-1][e.left-1],g=l[e.top+e.dimHeight][e.left-1]),f!=g&&c++}return Math.max(c,b)}function Y(a,b,c){var d=m[a],e=d.dimHeight,g=(d.dimWidth,d.left),h=d.top,k=(parseInt(h/(p.colWidth+p.currentGap)),parseInt(g/(p.colWidth+p.currentGap)),e-b+c),l=ca(a,k,!0),n=[];return n.push({tileID:a,sizes:l}),n}function Z(a){for(var b=0;b<a.length;b++){var c=a[b].sizes,d=a[b].tileID;m[d]=jQuery.extend(!0,{},c),ha(d,c,c.left,c.top)}}function $(a,b){for(var c=0,d=0,e=[],f=0,g=0,h=0;h<a[1].length;h++){var i=a[1][h],j=m[a[1][h]];if(d+=j.dimHeight,0!=h)c+=j.dimHeight,e.push([i,j.dimHeight]);else{var k=ba(i,b,!0);c+=k.dimHeight,e.push([a[1][h],k.dimHeight])}}f=j.left,g=j.top;for(var l=d,n=[],h=e.length-1;h>=0;h--){var o,i=e[h][0];0!=h?(o=Math.max(Math.round(1*d/3),Math.floor(e[h][1]*(d/c))),l-=o,k=ca(i,o,!0),k.left=f,k.top=g,n.push({tileID:i,sizes:k}),g+=k.dimHeight):(o=l,k=ca(i,o,!0),k.left=f,k.top=g,n.push({tileID:i,sizes:k}))}return n}function _(a,b,c){var d=p.gridY-1,e=0,f=0,g=1,h=[],i=[];if(h.push(a),d>=0){for(f=0;d>=0;){if(e=l[d][c],void 0!==l[d][c-1]&&l[d][c-1]==l[d][c]||void 0!==l[d][c+b]&&l[d][c+b-1]==l[d][c+b]||l[d][c]!=l[d][c+b-1])return i.push(g),i.push(h),i;f!=e&&(g++,h.push(e)),d--,f=e}return i.push(g),i.push(h),i}return[0,[]]}function aa(a,b){var c=0,d=0,e=b.dimWidth,f=b.dimHeight,g=0,h=0,i=jQuery.map(l,function(a,b){return[a]});if(void 0===i[p.gridY]||void 0===i[p.gridY][a-1])d=0;else for(var j=0;;){if(void 0===l[p.gridY+j]||-1==l[p.gridY+j][a-1])break;g=l[p.gridY+j][a-2],j++,d++}if(void 0===i[p.gridY]||void 0===i[p.gridY][a+e])c=0;else for(j=0;;){if(void 0===l[p.gridY+j]||-1==l[p.gridY+j][a+e])break;h=l[p.gridY+j][a+e+1],j++,c++}var k=0,m=0;return Math.abs(f-d)<Math.abs(f-c)&&0!=d?(k=d,m=g):0!=c?(k=c,m=h):k=f,{newHeight:k,idToResize:m}}function ba(a,b,c){c||(c=!1);var d=p.colWidth,e=p.currentGap,f=m[a],g=f.imgWidth,h=f.imgHeight,i=g/h;if(dimWidth=b,dimHeight=Math.round(dimWidth/i),1==c){var j=jQuery.extend(!0,{},f);return j.dimWidth=dimWidth,j.dimHeight=dimHeight,j.width=dimWidth*d+e*(dimWidth-1),j.height=dimHeight*d+e*(dimHeight-1),j}f.dimWidth=dimWidth,f.dimHeight=dimHeight,f.width=dimWidth*d+e*(dimWidth-1),f.height=dimHeight*d+e*(dimHeight-1)}function ca(a,b,c){c||(c=!1);var d=m[a],e=d.dimWidth,f=p.colWidth,g=p.currentGap;if(1==c){var h=jQuery.extend(!0,{},d);return h.dimHeight=b,h.width=e*f+g*(e-1),h.height=b*f+g*(b-1),h}d.dimHeight=b,d.width=e*f+g*(e-1),d.height=b*f+g*(b-1)}function da(a){for(var b=0,c=0,d=0;d<a.length;d++){var e=m[a[d].tileID];if(0==e.dimHeight||0==e.height)return;resizeVal=e.dimWidth/e.dimHeight/(e.imgWidth/e.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),b+=resizeVal,c++}return b/c}function ea(a,b){var c=p.gridY-1;return!(c<=0||0==ga(c))&&l[c][b+a-1]!=l[c][b+a]}function fa(a){var b=a,c=0;if(1==ga(p.gridY))for(;0==ja(p.gridY,b);)c++,b++;else c=p.maxColumns;return c}function ga(a){return void 0!==l[a]}function ha(a,b,c,d){for(var e=0;e<b.dimHeight;e++)for(var f=0;f<b.dimWidth;f++)0==ga(d+e)&&ia(d+e),ka(d+e,c+f,a)}function ia(a){l[a]=new Object;for(var b=0;b<p.maxColumns;b++)l[a][b]=-1}function ja(a,b){return-1!=l[a][b]}function ka(a,b,c){l[a][b]=c}function la(a){if(!a)var a=!1;w();for(var b=0;b<m.length;b++)ma(b,a);f.height(p.maxColHeight),y()}function ma(a,b){var c=j.getThumbByIndex(a),d=m[a],e=d.top*(p.colWidth+p.currentGap),f=p.addX+d.left*(p.colWidth+p.currentGap);i.resizeTile(c,d.width,d.height,i.resizemode.VISIBLE_ELEMENTS),g.placeElement(c,f,e),e+d.height>p.maxColHeight&&(p.maxColHeight=e+d.height),1==b&&c.fadeTo(0,1)}function oa(){if(1==o.isFirstTimeRun)return!0;switch(n.tiles_type){case"columns":E(!1);break;case"justified":L(!1);break;case"nested":1==c.isMobileMode()?E(!1):Q(!1)}}function pa(){d.on(c.events.SIZE_CHANGE,oa),i.initEvents()}function qa(){switch(e.children(".ug-tile").show(),1==o.isFirstTimeRun&&pa(),i.run(),n.tiles_type){default:case"columns":I();break;case"justified":M();break;case"nested":O()}o.isFirstTimeRun=!1}var d,e,f,h,l,m,a=this,b=jQuery(this),c=new UniteGalleryMain,g=new UGFunctions,i=new UGTileDesign,j=new UGThumbsGeneral,k={},n={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed"};var o={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1},p={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){d.off(c.events.SIZE_CHANGE),i.destroy()},this.setFixedSizeMode=function(){o.isFixedMode=!0,i.setFixedMode()},this.init=function(a,b){r(a,b)},this.setHtml=function(a){t(a)},this.getObjTileDesign=function(){return i},this.run=function(){qa()}}function UGTileDesign(){function m(b,e){c=b,d=jQuery(b);var f=c.getObjects();g=f.g_objWrapper,i=c.getArrItems(),j=jQuery.extend(j,k),j=jQuery.extend(j,e),n(),h.init(b,j);var m={allow_onresize:!1},o=["overlay"];l.funcCustomTileHtml&&(o=[]),h.setCustomThumbs(p,o,m);var q=h.getOptions();j=jQuery.extend(j,q),l.ratioByWidth=j.tile_width/j.tile_height,l.ratioByHeight=j.tile_height/j.tile_width,j.tile_size_by==a.sizeby.GLOBAL_RATIO&&l.isTextpanelOutside&&(l.hasImageContainer=!0)}function n(){if(1==j.tile_enable_overlay?(j.thumb_overlay_opacity=j.tile_overlay_opacity,j.thumb_overlay_color=j.tile_overlay_color):0==j.tile_enable_icons?j.thumb_color_overlay_effect=!1:j.thumb_overlay_opacity=0,j.tile_as_link&&(j.thumb_wrapper_as_link=!0,j.thumb_link_newpage=j.tile_link_newpage),1==j.tile_enable_outline&&0==j.tile_enable_border&&(j.tile_enable_outline=!1),l.tileInnerReduce=0,j.tile_enable_border&&(l.tileInnerReduce=2*j.tile_border_width,h.setThumbInnerReduce(l.tileInnerReduce)),l.isSaparateIcons=!e.isRgbaSupported(),1==j.tile_enable_textpanel){switch(j.tile_textpanel_position){case"top":j.tile_textpanel_align="top";case"bottom":l.isTextpanelOutside=!0,j.tile_textpanel_always_on=!0,j.tile_textpanel_offset=0;break;case"inside_top":j.tile_textpanel_align="top";break;case"middle":j.tile_textpanel_align="middle",j.tile_textpanel_appear_type="fade"}0==j.tile_textpanel_always_on&&(l.isSaparateIcons=!0)}0!=j.tile_textpanel_offset&&(j.tile_textpanel_appear_type="fade",j.tile_textpanel_margin=j.tile_textpanel_offset),"title_and_desc"==j.tile_textpanel_source&&(j.tile_textpanel_enable_description=!0,j.tile_textpanel_desc_style_as_title=!0)}function o(){var a=c.isMobileMode();switch(l.isTextPanelHidden=!1,1==a&&0==j.tile_textpanel_always_on&&(l.isTextPanelHidden=!0),l.isVideoplayIconAlwaysOn=j.tile_videoplay_icon_always_on,j.tile_videoplay_icon_always_on){case"always":l.isVideoplayIconAlwaysOn=!0;break;case"never":l.isVideoplayIconAlwaysOn=!1;break;case"mobile_only":l.isVideoplayIconAlwaysOn=1==a;break;case"desktop_only":l.isVideoplayIconAlwaysOn=0==a}}function p(b,d){if(b.addClass("ug-tile"),l.funcCustomTileHtml)return l.funcCustomTileHtml(b,d),!1;var f="";1==l.hasImageContainer&&(f+="<div class='ug-image-container ug-trans-enabled'>");var g="ug-thumb-image";0!=j.tile_enable_image_effect&&1!=j.tile_image_effect_reverse||(g+=" ug-trans-enabled");var h=e.stripTags(d.title);h=e.htmlentitles(h),f+="<img src='"+d.urlThumb+"' alt='"+h+"' class='"+g+"'>",1==l.hasImageContainer&&(f+="</div>"),b.append(f),j.tile_size_by==a.sizeby.GLOBAL_RATIO&&b.fadeTo(0,0);var i={};if(1==j.tile_enable_background&&(i["background-color"]=j.tile_background_color),1==j.tile_enable_border&&(i["border-width"]=j.tile_border_width+"px",i["border-style"]="solid",i["border-color"]=j.tile_border_color,j.tile_border_radius&&(i["border-radius"]=j.tile_border_radius+"px")),1==j.tile_enable_outline&&(i.outline="1px solid "+j.tile_outline_color),1==j.tile_enable_shadow){var k=j.tile_shadow_h+"px ";k+=j.tile_shadow_v+"px ",k+=j.tile_shadow_blur+"px ",k+=j.tile_shadow_spread+"px ",k+=j.tile_shadow_color,i["box-shadow"]=k}b.css(i);var m="";if(j.tile_enable_icons){if(0==j.tile_as_link&&1==j.tile_enable_action){var n="ug-button-play ug-icon-zoom";"image"!=d.type&&(n="ug-button-play ug-icon-play"),m+="<div class='ug-tile-icon "+n+"' style='display:none'></div>"}if(d.link&&1==j.tile_show_link_icon||1==j.tile_as_link)if(0==j.tile_as_link){var o="";1==j.tile_link_newpage&&(o=" target='_blank'"),m+="<a href='"+d.link+"'"+o+" class='ug-tile-icon ug-icon-link'></a>"}else m+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var p=l.isSaparateIcons;if(0==p&&"image"!=d.type&&1==l.isVideoplayIconAlwaysOn&&(p=!0),p)var q=b;else var q=b.children(".ug-thumb-overlay");q.append(m);var r=q.children("."+n);0==r.length?r=null:r.hide();var s=q.children(".ug-icon-link");0==s.length?s=null:s.hide(),s||1!=j.tile_enable_action||b.addClass("ug-tile-clickable")}else 1==j.tile_enable_action&&b.addClass("ug-tile-clickable");if(1==j.tile_enable_image_effect){var t="";0==j.tile_image_effect_reverse&&(t=" ug-trans-enabled");var u="<div class='ug-tile-image-overlay"+t+"' >",v=" ug-"+j.tile_image_effect_type+"-effect";u+="<img src='"+d.urlThumb+"' alt='"+d.title+"' class='"+v+t+"'>",u+="</div>",b.append(u),1==j.tile_image_effect_reverse&&b.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==j.tile_enable_textpanel){var w=new UGTextPanel;w.init(c,j,"tile");var y="";1!=j.tile_textpanel_always_on&&1!=l.isTextpanelOutside||(y="ug-trans-enabled"),w.appendHTML(b,y);var z=d.title,A="";switch(j.tile_textpanel_source){case"desc":case"description":z=d.description;break;case"desc_title":""!=d.description&&(z=d.description);break;case"title_and_desc":z=d.title,A=d.description}if(w.setTextPlain(z,A),0==j.tile_textpanel_always_on&&w.getElement().fadeTo(0,0),b.data("objTextPanel",w),1==j.tile_textpanel_always_on){x(b).css("z-index",2)}if(1==l.isTextpanelOutside){b.append("<div class='ug-tile-cloneswrapper'></div>");var D=b.children(".ug-tile-cloneswrapper"),E=new UGTextPanel;E.init(c,j,"tile"),E.appendHTML(D),E.setTextPlain(z,A),b.data("objTextPanelClone",E)}}null!==d.addHtml&&b.append(d.addHtml)}function r(a){return a.children(".ug-tile-image-overlay")}function s(a){return a.children(".ug-thumb-overlay")}function t(a){return 0==l.hasImageContainer?null:a.children(".ug-image-container")}function u(a){return a.find(".ug-tile-image-overlay img")}function v(a){return a.data("objTextPanel")}function w(a){return a.data("objTextPanelClone")}function x(a){return a.children(".ug-textpanel")}function y(a){var b=a.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==b.length)throw new Error("text panel cloned element not found");return b}function z(a){if(1==l.isTextpanelOutside)var b=y(a);else var b=x(a);return b?e.getElementSize(b).height:0}function A(a){var b=a.find(".ug-icon-link");return 0==b.length?null:b}function B(b){var c=l.ratioByHeight;switch(j.tile_size_by){default:c=l.ratioByHeight;break;case a.sizeby.IMAGE_RATIO:if(!b)throw new Error("tile should be given for tile ratio");var d=a.getItemByTile(b);if(void 0!==d.thumbRatioByHeight){if(0==d.thumbRatioByHeight)throw trace(d),new Error("the item ratio not inited yet");c=d.thumbRatioByHeight}break;case a.sizeby.CUSTOM:return null}return c}function C(a){var b=a.find(".ug-button-play");return 0==b.length?null:b}function D(a){return!!a.hasClass("ug-thumb-over")}function E(a){return a.hasClass("ug-tile-clickable")}function F(a){return 1==j.tile_enable_icons&&1==l.isVideoplayIconAlwaysOn&&"image"!=a.type}function H(b,c,d,f){var g=r(b),h=a.getTileImage(b),i=u(b);c-=l.tileInnerReduce,d-=l.tileInnerReduce;var k=null;if(1==l.isTextpanelOutside){var m=z(b);if(d-=m,"top"==j.tile_textpanel_position&&(k=m),1==l.hasImageContainer){var n=t(b);e.setElementSize(n,c,d),null!==k&&e.placeElement(n,0,k)}}if(0==j.tile_enable_image_effect)e.scaleImageCoverParent(h,c,d),0==l.hasImageContainer&&null!==k&&e.placeElement(h,0,k);else{var o="nothing";!0===f&&0==l.isTextpanelOutside&&(o=1==j.tile_image_effect_reverse?"effect":"image"),"effect"!=o&&(e.setElementSize(g,c,d),null!==k&&e.placeElement(g,0,k),e.scaleImageCoverParent(i,c,d)),"image"!=o&&(1==l.hasImageContainer?e.scaleImageCoverParent(h,c,d):"effect"==o?(e.scaleImageCoverParent(h,c,d),null!==k&&e.placeElement(h,0,k)):e.cloneElementSizeAndPos(i,h,!1,null,k))}}function I(b,c,d,e){var f=null;if(d&&(f=d-l.tileInnerReduce),e&&(e-=l.tileInnerReduce),"clone"==c){w(b).refresh(!0,!0,f);return a.getItemByTile(b).textPanelCloneSizeSet=!0,!1}var i=v(b);if(!i)return!1;var k=null;if(1==l.isTextpanelOutside&&(k=z(b)),i.refresh(!1,!0,f,k),1==j.tile_textpanel_always_on||"fade"==j.tile_textpanel_appear_type)if(1==l.isTextpanelOutside&&e&&"bottom"==j.tile_textpanel_position){var n=e-k;i.positionPanel(n)}else i.positionPanel()}function J(b){var d=(a.getItemByTile(b),C(b)),f=A(b),g=e.getElementSize(b);H(b,g.width,g.height),1==j.tile_enable_textpanel&&I(b,"regular",g.width,g.height);var h=g.width-l.tileInnerReduce,i=g.height-l.tileInnerReduce,k=0;if(1==l.isTextpanelOutside){var m=z(b);i-=m,"top"==j.tile_textpanel_position&&(k=m)}var n=s(b);if(e.setElementSizeAndPosition(n,0,k,h,i),d||f){var o=0;if(1==j.tile_enable_textpanel&&0==l.isTextPanelHidden&&0==l.isTextpanelOutside){var p=x(b),q=e.getElementSize(p);q.height>0&&(o=Math.floor(q.height/2*-1))}}if(d&&f){var r=e.getElementSize(d),t=e.getElementSize(f),u=j.tile_space_between_icons,v=r.width+u+t.width,w=Math.floor((g.width-v)/2);w<u&&(u=Math.floor((g.width-r.width-t.width)/3),v=r.width+u+t.width,w=Math.floor((g.width-v)/2)),e.placeElement(d,w,"middle",0,o),e.placeElement(f,w+r.width+u,"middle",0,o)}else d&&e.placeElement(d,"center","middle",0,o),f&&e.placeElement(f,"center","middle",0,o);d&&d.show(),f&&f.show()}function K(b,c){var e=(a.getItemByTile(b),r(b)),f=j.thumb_transition_duration;if(0==j.tile_image_effect_reverse){var g=a.getTileImage(b);c?(g.fadeTo(0,1),e.stop(!0).fadeTo(f,0)):e.stop(!0).fadeTo(f,1)}else c?e.stop(!0).fadeTo(f,1):e.stop(!0).fadeTo(f,0)}function L(a,b){var c=j.thumb_transition_duration,d=x(a);if(!d)return!0;if("slide"==j.tile_textpanel_appear_type){var f=e.getElementSize(d);if(0==f.width)return!1;var g=-f.height,i={},k={},l="bottom";"inside_top"==j.tile_textpanel_position&&(l="top"),i[l]=g+"px",k[l]=0+"px",1==b?(d.fadeTo(0,1),0==d.is(":animated")&&d.css(i),k.opacity=1,d.stop(!0).animate(k,c)):d.stop(!0).animate(i,c)}else 1==b?d.stop(!0).fadeTo(c,1):d.stop(!0).fadeTo(c,0)}function M(a,b,c){var d=j.thumb_transition_duration;c&&!0===c&&(d=0);var e=C(a),f=A(a),g=b?1:0;e&&e.stop(!0).fadeTo(d,g),f&&f.stop(!0).fadeTo(d,g)}function N(b,c){if(c=jQuery(c),j.tile_enable_image_effect&&K(c,!0),1==j.tile_enable_textpanel&&0==j.tile_textpanel_always_on&&0==l.isTextPanelHidden&&L(c,!0),l.isSaparateIcons&&1==j.tile_enable_icons){var d=1==j.thumb_overlay_reverse;0==F(a.getItemByTile(c))&&M(c,d,!1)}}function O(b,c){if(c=jQuery(c),j.tile_enable_image_effect&&K(c,!1),1==j.tile_enable_textpanel&&0==j.tile_textpanel_always_on&&L(c,!1),1==l.isSaparateIcons&&1==j.tile_enable_icons){var d=1!=j.thumb_overlay_reverse;0==F(a.getItemByTile(c))?M(c,d,!1):M(c,!0,!0)}}function P(a){h.getThumbs().not(a).each(function(a,b){h.setThumbNormalStyle(jQuery(b))})}function R(a,b,c){if(b=jQuery(b),1==j.tile_visible_before_image&&!0!==b.data("image_placed")&&!0!==c)return!0;J(b),h.setThumbNormalStyle(b)}function S(a,b,c){J(b),c.fadeTo(0,1),b.data("image_placed",!0)}function T(c){if(1==E(c))return b.trigger(a.events.TILE_CLICK,c),!0;0==D(c)&&(P(c),h.setThumbOverStyle(c))}function U(c){var d=jQuery(this),e=d.prop("tagName").toLowerCase(),f=!0;if(l.funcParentApproveClick&&0==l.funcParentApproveClick()&&(f=!1),"a"==e)0==f&&c.preventDefault();else if(0==D(d))1==f&&T(d);else{if(0==E(d))return!0;1==f&&b.trigger(a.events.TILE_CLICK,d)}}function V(c){c.stopPropagation();var d=jQuery(this).parents(".ug-tile"),e=!0;return l.funcParentApproveClick&&0==l.funcParentApproveClick()&&(e=!1),0==D(d)?(T(d),!0):1==e?(b.trigger(a.events.TILE_CLICK,d),!1):void 0}function W(a){var b=jQuery(this).parents(".ug-tile");l.funcParentApproveClick&&0==l.funcParentApproveClick()&&a.preventDefault(),0==D(b)&&0==j.tile_as_link&&(a.preventDefault(),T(b))}var d,f,g,i,a=this,b=jQuery(this),c=new UniteGalleryMain,e=new UGFunctions,h=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var j={tile_width:250,tile_height:200,tile_size_by:a.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:"never",tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},k={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},l={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1,isVideoplayIconAlwaysOn:!1,isTextPanelHidden:!1};this.loadTileImage=function(b){var c=a.getTileImage(b);e.checkImagesLoaded(c,null,function(a,c){S(null,b,jQuery(a))})},this.setHtml=function(a){f=a,o(),h.setHtmlThumbs(a)},this.initEvents=function(){h.initEvents(),jQuery(h).on(h.events.SETOVERSTYLE,N),jQuery(h).on(h.events.SETNORMALSTYLE,O),jQuery(h).on(h.events.PLACEIMAGE,S),g.on(l.eventSizeChange,R),f.delegate(".ug-tile .ug-button-play","click",V),f.delegate(".ug-tile","click",U),f.delegate(".ug-tile .ug-icon-link","click",W)},this.destroy=function(){if(jQuery(h).off(h.events.SETOVERSTYLE),jQuery(h).off(h.events.SETNORMALSTYLE),jQuery(h).off(h.events.PLACEIMAGE),g.off(l.eventSizeChange),1==j.tile_enable_textpanel){var a=h.getThumbs();jQuery.each(a,function(a,b){var c=v(jQuery(b));c&&c.destroy()})}h.destroy()},this.init=function(a,b,c){m(a,b,c)},this.setFixedMode=function(){j.tile_size_by=a.sizeby.GLOBAL_RATIO,j.tile_visible_before_image=!0},this.setApproveClickFunction=function(a){l.funcParentApproveClick=a},this.resizeTile=function(b,c,d,f){if(1==l.isTextpanelOutside&&I(b,"clone",c),c){if(!d)var d=a.getTileHeightByWidth(c,b)}else var c=j.tile_width,d=j.tile_height;switch(e.setElementSize(b,c,d),f){default:case a.resizemode.FULL:a.triggerSizeChangeEvent(b,!0);break;case a.resizemode.WRAPPER_ONLY:return!0;case a.resizemode.VISIBLE_ELEMENTS:if(l.funcCustomTileHtml)return a.triggerSizeChangeEvent(b,!0),!0;H(b,c,d,!0),1==j.tile_enable_textpanel&&1==j.tile_textpanel_always_on&&c&&I(b,"regular",c,d)}},this.resizeAllTiles=function(b,c){o();var d=null;j.tile_size_by==a.sizeby.GLOBAL_RATIO&&(d=a.getTileHeightByWidth(b)),h.getThumbs().each(function(e,f){a.resizeTile(jQuery(f),b,d,c)})},this.triggerSizeChangeEvent=function(a,b){if(!a)return!1;if(!b)var b=!1;g.trigger(l.eventSizeChange,[a,b])},this.triggerSizeChangeEventAllTiles=function(b){h.getThumbs().each(function(){var c=jQuery(this);a.triggerSizeChangeEvent(c,b)})},this.disableEvents=function(){h.getThumbs().css("pointer-events","none")},this.enableEvents=function(){h.getThumbs().css("pointer-events","auto")},this.setOptions=function(a){j=jQuery.extend(j,a),h.setOptions(a)},this.setTileSizeOptions=function(b){if(j.tile_size_by!==a.sizeby.GLOBAL_RATIO)throw new Error("setNewTileOptions works with global ration only");j.tile_width=b,j.tile_height=Math.floor(b*l.ratioByHeight)},this.setCustomFunctions=function(a,b){l.funcCustomTileHtml=a,l.funcCustomPositionElements=b},this.run=function(){var b=h.getThumbs();j.tile_size_by==a.sizeby.GLOBAL_RATIO&&a.resizeAllTiles(j.tile_width,a.resizemode.WRAPPER_ONLY),1==j.tile_enable_image_effect&&0==j.tile_image_effect_reverse&&b.children(".ug-thumb-image").fadeTo(0,0),h.setHtmlProperties(),1==j.tile_visible_before_image&&(b.children(".ug-thumb-image").fadeTo(0,0),h.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return h},this.getOptions=function(){return j},this.getTileImage=function(a){return a.find("img.ug-thumb-image")},this.getItemByTile=function(a){return h.getItemByThumb(a)},this.getTileHeightByWidth=function(b,c){var d=B(c);if(null===d)return null;var e=Math.floor((b-l.tileInnerReduce)*d)+l.tileInnerReduce;return c&&1==l.isTextpanelOutside&&j.tile_size_by==a.sizeby.IMAGE_RATIO&&(e+=z(c)),e},this.getTileImageSize=function(b){var c=a.getItemByTile(b);if(!c.thumbWidth||!c.thumbHeight)throw new Error("Can't get image size - image not inited.");return{width:c.thumbWidth,height:c.thumbHeight}},this.getGlobalTileSize=function(){if(j.tile_size_by!=a.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");return{width:j.tile_width,height:j.tile_height}}}function UGAviaControl(){function i(a){return 0==g?a.pageX:a.pageY}function j(b){jQuery("body").on("touchstart",function(a){if(0==h.isControlEnabled)return!0;h.touchEnabled=!0}),jQuery("body").mousemove(function(b){if(0==h.isControlEnabled)return!0;if(1==h.touchEnabled)return jQuery("body").off("mousemove"),!0;h.isMouseInsideStrip=d.ismouseover();var c=a.isTouchMotionActive();if(1==h.isMouseInsideStrip&&0==c){q(i(b))}else o()})}function k(a){var b=f.strip_padding_top,g=(f.strip_padding_bottom,d.height()),h=e.height();if(g>h)return null;var i=d.offset(),j=i.top,k=a-j-b;if(k<0)return null;var l=f.thumb_height,m=g-f.thumb_height,n=m-l;k<l&&(k=l),k>m&&(k=m);var o=(k-l)/n,p=(h-g)*o;return p=-1*Math.round(p)+b}function l(a){var b=f.strip_padding_left,c=f.strip_padding_right,g=d.width()-b-c,h=e.width();if(g>h)return null;var i=d.offset(),j=i.left,k=a-j-b,l=f.thumb_width,m=g-f.thumb_width,n=m-l;k<l&&(k=l),k>m&&(k=m);var o=(k-l)/n,p=(h-g)*o;return p=-1*Math.round(p)+b}function m(){if(0==h.is_strip_moving)return!1;var b=a.getInnerStripPos();Math.floor(b)==Math.floor(h.strip_finalPos)&&o();var d,c=Math.abs(h.strip_finalPos-b);c<1?d=c:(d=c/4)>0&&d<1&&(d=1),h.strip_finalPos<b&&(d*=-1);var e=b+d;a.positionInnerStrip(e)}function n(){if(1==h.isStripMoving)return!1;h.isStripMoving=!0,h.handle_timeout=setInterval(m,10)}function o(){if(0==h.isStripMoving)return!1;h.isStripMoving=!1,h.handle_timeout=clearInterval(h.handle_timeout)}function p(a){return 0==g?l(a):k(a)}function q(a){var b=p(a);if(null===b)return!1;h.is_strip_moving=!0,h.strip_finalPos=b,n()}var a,b,c,d,e,f,g,h={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){h.isControlEnabled=!0},this.disable=function(){h.isControlEnabled=!1},this.init=function(h){a=h,c=h.getObjects(),b=c.g_gallery,d=c.g_objStrip,e=c.g_objStripInner,f=c.g_options,g=c.isVertical,j()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function C(b,g,h){c=b,h&&(u=h,g=v.convertCustomPrefixOptions(g,u,"slider")),d=jQuery(b);var i=c.getObjects();if(e=i.g_objWrapper,f=i.g_objThumbs,g.hasOwnProperty("slider_progress_indicator_type")&&(y.slider_progress_indicator_type=g.slider_progress_indicator_type),"bar"==y.slider_progress_indicator_type&&(y=jQuery.extend(y,z)),g&&a.setOptions(g),E(),1==y.slider_enable_bullets){s=new UGBullets;var j={bullets_skin:y.slider_bullets_skin,bullets_space_between:y.slider_bullets_space_between};s.init(c,j)}y.slider_enable_text_panel&&(x=new UGTextPanel,x.init(c,y,"slider")),y.slider_enable_zoom_panel&&(p=new UGZoomButtonsPanel,p.init(a,y));var k=c.getGalleryID();t.init(y,!1,k)}function D(){if(1==A.isRunOnce)return!1;if(A.isRunOnce=!0,y.slider_background_color){var b=y.slider_background_color;1!=y.slider_background_opacity&&(b=v.convertHexToRGB(b,y.slider_background_opacity)),g.css("background-color",b)}else 1!=y.slider_background_opacity&&(b=v.convertHexToRGB("#000000",y.slider_background_opacity),g.css("background-color",b));1==y.slider_control_swipe&&(n=new UGTouchSliderControl,n.init(a,y)),1==y.slider_control_zoom&&(o=new UGZoomSliderControl,o.init(a,y)),x&&x.run(),Ba()}function E(){var a=c.getOptions(),b=a.gallery_skin;""==y.slider_bullets_skin&&(y.slider_bullets_skin=b),""==y.slider_arrows_skin&&(y.slider_arrows_skin=b),""==y.slider_zoompanel_skin&&(y.slider_zoompanel_skin=b),""==y.slider_play_button_skin&&(y.slider_play_button_skin=b),""==y.slider_fullscreen_button_skin&&(y.slider_fullscreen_button_skin=b),y.video_enable_closebutton=y.slider_video_enable_closebutton,"zoom"!=a.gallery_mousewheel_role&&(y.slider_zoom_mousewheel=!1)}function F(a,b){var c="ug-type-square";"round"==y.slider_videoplay_button_type&&(c="ug-type-round");var d="";return d+="<div class='ug-slide-wrapper ug-slide"+b+"'>",d+="<div class='ug-item-wrapper'></div>",d+="<div class='ug-slider-preloader "+a+"'></div>",d+="<div class='ug-button-videoplay "+c+"' style='display:none'></div>",d+="</div>"}function G(a){a&&(e=a);var b=Da(),f=(c.getOptions(),"<div class='ug-slider-wrapper'>");if(f+="<div class='ug-slider-inner'>",f+=F(b,1),f+=F(b,2),f+=F(b,3),f+="</div>",1==y.slider_enable_arrows&&(f+="<div class='ug-slider-control ug-arrow-left ug-skin-"+y.slider_arrows_skin+"'></div>",f+="<div class='ug-slider-control ug-arrow-right ug-skin-"+y.slider_arrows_skin+"'></div>"),1==y.slider_enable_play_button&&(f+="<div class='ug-slider-control ug-button-play ug-skin-"+y.slider_play_button_skin+"'></div>"),1==y.slider_enable_fullscreen_button&&(f+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+y.slider_fullscreen_button_skin+"'></div>"),f+="</div>",e.append(f),g=e.children(".ug-slider-wrapper"),h=g.children(".ug-slider-inner"),i=h.children(".ug-slide1"),j=h.children(".ug-slide2"),k=h.children(".ug-slide3"),i.data("slidenum",1),j.data("slidenum",2),k.data("slidenum",3),s&&s.appendHTML(g),1==y.slider_enable_arrows&&(l=g.children(".ug-arrow-left"),m=g.children(".ug-arrow-right")),1==y.slider_enable_play_button&&(q=g.children(".ug-button-play")),1==y.slider_enable_fullscreen_button&&(r=g.children(".ug-button-fullscreen")),1==y.slider_enable_progress_indicator){w=v.initProgressIndicator(y.slider_progress_indicator_type,y,g);"bar"==w.getType()&&"pie"==y.slider_progress_indicator_type&&(y.slider_progress_indicator_type="bar",y=jQuery.extend(y,z)),c.setProgressIndicator(w)}if(1==y.slider_enable_text_panel&&(x.appendHTML(g),0==y.slider_textpanel_always_on)){x.getElement().hide().data("isHidden",!0),A.isTextPanelSaparateHover=!0}1==y.slider_enable_zoom_panel&&p.appendHTML(g),t.setHtml(h)}function H(a){var b=Ga(a);v.placeElementInParentCenter(b);var c=Ha(a);v.placeElementInParentCenter(c)}function I(){if(s&&(objBullets=s.getElement(),v.placeElement(objBullets,y.slider_bullets_align_hor,y.slider_bullets_align_vert,y.slider_bullets_offset_hor,y.slider_bullets_offset_vert),v.placeElement(objBullets,y.slider_bullets_align_hor,y.slider_bullets_align_vert,y.slider_bullets_offset_hor,y.slider_bullets_offset_vert)),1==y.slider_enable_arrows&&(v.placeElement(l,y.slider_arrow_left_align_hor,y.slider_arrow_left_align_vert,y.slider_arrow_left_offset_hor,y.slider_arrow_left_offset_vert),v.placeElement(m,y.slider_arrow_right_align_hor,y.slider_arrow_left_align_vert,y.slider_arrow_right_offset_hor,y.slider_arrow_right_offset_vert)),0==y.slider_controls_always_on&&ia(!0),w){var a=w.getElement();if("bar"==y.slider_progress_indicator_type){var b=g.width();w.setSize(b),v.placeElement(a,"left",y.slider_progress_indicator_align_vert,0,y.slider_progress_indicator_offset_vert)}else v.placeElement(a,y.slider_progress_indicator_align_hor,y.slider_progress_indicator_align_vert,y.slider_progress_indicator_offset_hor,y.slider_progress_indicator_offset_vert)}x&&x.positionPanel(),J(),H(i),H(j),H(k),ga()}function J(){if(q&&v.placeElement(q,y.slider_play_button_align_hor,y.slider_play_button_align_vert,y.slider_play_button_offset_hor,y.slider_play_button_offset_vert),r&&v.placeElement(r,y.slider_fullscreen_button_align_hor,y.slider_fullscreen_button_align_vert,y.slider_fullscreen_button_offset_hor,y.slider_fullscreen_button_offset_vert),p){var a=p.getElement();v.placeElement(a,y.slider_zoompanel_align_hor,y.slider_zoompanel_align_vert,y.slider_zoompanel_offset_hor,y.slider_zoompanel_offset_vert)}}function K(){var e,i,j,k,b=a.getSlidesReference(),d=0,f=0,g=0;j=a.isSlideHasItem(b.objNextSlide),k=a.isSlideHasItem(b.objPrevSlide),k?(g=b.objPrevSlide.outerWidth(),b.objPrevSlide.css("z-index",1)):b.objPrevSlide.hide(),i=g+b.objCurrentSlide.outerWidth(),e=i,j?(e=i+b.objNextSlide.outerWidth(),b.objPrevSlide.css("z-index",2)):b.objNextSlide.hide(),b.objCurrentSlide.css("z-index",3),v.placeElement(b.objCurrentSlide,g,d),h.css({left:-g+"px",width:e+"px"}),k&&(v.placeElement(b.objPrevSlide,f,d),v.showElement(b.objPrevSlide)),j&&(v.showElement(b.objNextSlide),v.placeElement(b.objNextSlide,i,d))}function L(a){var b=a.data("index");if(void 0===b||null==b)return!1;var d=c.getItem(b);if(!d)return!1;S(a,d)}function M(a){a.stop(!0).show(100)}function N(a){a.stop(!0).hide(100)}function O(a,b){var c=y.slider_image_border_width;if(c<=10)return c;var d=v.getElementSize(a),e=d.width,f=d.height;if(b&&(b.hasOwnProperty("imageWidth")&&(e=b.imageWidth),b.hasOwnProperty("imageHeight")&&(f=b.imageHeight)),e<=0)return c;var g=e<f?e:f;if(2*c/g<y.slider_image_border_maxratio)return c;var c=g*y.slider_image_border_maxratio/2;return c=Math.round(c)}function P(a,b,c){var d={};if(1==y.slider_image_border){d["border-style"]="solid";var e=O(a,c);d["border-width"]=e+"px",d["border-color"]=y.slider_image_border_color,d["border-radius"]=y.slider_image_border_radius}"image"!=b&&1==y.slider_video_constantsize&&(d["background-color"]="#000000"),1==y.slider_image_shadow&&(d["box-shadow"]="3px 3px 10px 0px #353535"),a.css(d)}function Q(a,b){var c=y.slider_video_constantsize_width,d=y.slider_video_constantsize_height,e=y.slider_video_constantsize_scalemode;return v.scaleImageExactSizeInParent(a,b.imageWidth,b.imageHeight,c,d,e)}function R(d,e,f){var g=d.children(".ug-item-wrapper"),h=Ga(d);if(void 0===e.urlImage||""==e.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var i=e.urlImage,j=d.data("urlImage");d.data("urlImage",i);var k=a.getScaleMode(d),l=a.getSlideType(d);if(objPadding=a.getObjImagePadding(),j==i&&!0!==f){var m=g.children("img");0!=e.imageWidth&&0!=e.imageHeight||c.checkFillImageSize(m,e);var n={};n="image"!=l&&1==y.slider_video_constantsize?Q(m,e):v.scaleImageFitParent(m,e.imageWidth,e.imageHeight,k,objPadding),P(m,l,n),b.trigger(a.events.AFTER_PUT_IMAGE,d)}else if(m=v.placeImageInsideParent(i,g,e.imageWidth,e.imageHeight,k,objPadding),1==e.isBigImageLoaded){if(m.fadeTo(0,1),N(h),"image"!=l&&1==y.slider_video_constantsize)var n=Q(m,e);else var n=v.getImageInsideParentData(g,e.imageWidth,e.imageHeight,k,objPadding);P(m,l,n),b.trigger(a.events.AFTER_PUT_IMAGE,d)}else m.fadeTo(0,0),M(h),d.data("isLoading",!0),a.isSlideCurrent(d)&&b.trigger(a.events.CURRENTSLIDE_LOAD_START),m.data("itemIndex",e.index),m.on("load",function(){var d=jQuery(this),e=d.data("itemIndex");d.fadeTo(0,1);var f=d.parent().parent(),g=a.getSlideType(f),h=Ga(f),i=a.getObjImagePadding(),j=a.getScaleMode(f);N(h),f.data("isLoading",!1),a.isSlideCurrent(f)&&b.trigger(a.events.CURRENTSLIDE_LOAD_END),c.onItemBigImageLoaded(null,d);var k=c.getItem(e),l={};"image"!=g&&1==y.slider_video_constantsize?Q(d,k):l=v.scaleImageFitParent(d,k.imageWidth,k.imageHeight,j,i),d.fadeTo(0,1),P(d,g,l),b.trigger(a.events.AFTER_PUT_IMAGE,f)})}function S(a,b){try{var d=a.children(".ug-item-wrapper");if(null==b)return d.html(""),a.removeData("index"),a.removeData("type"),a.removeData("urlImage"),!1;a.data("index");a.data("index",b.index),a.data("type",b.type),1==y.slider_enable_links&&"image"==b.type&&(b.link?a.addClass("ug-slide-clickable"):a.removeClass("ug-slide-clickable")),R(a,b);var f=Ha(a);switch(b.type){case"image":f.hide();break;default:f.show()}}catch(a){throw void 0!==a.fileName&&"showbig"==a.fileName&&c.showErrorMessageReplaceGallery(a.message),d.html(""),new Error(a)}}function T(){if(!x)return!1;if(1==V())return!1;var a=x.getElement(),b=0;1!=A.isTextPanelSaparateHover&&1!=y.slider_textpanel_always_on||(b=y.slider_controls_appear_duration),a.stop().fadeTo(b,0),a.data("isHidden",!0)}function U(){if(!x)return!1;if(0==V())return!1;var a=x.getElement(),b=0;1!=A.isTextPanelSaparateHover&&1!=y.slider_textpanel_always_on||(a.show(),x.positionElements(),b=y.slider_controls_appear_duration),a.stop().show().fadeTo(b,1),a.data("isHidden",!1)}function V(){return!1!==x.getElement().data("isHidden")}function W(b,c){if(void 0==c)var c=a.getCurrentSlide();var d=a.getSlideType(c);if(d!=b)throw new Error("Wrong slide type: "+d+", should be: "+b);return!0}function Y(){var b=a.getCurrentSlide(),c=a.getSlideImage(b),d=v.getElementSize(b),e=d.left,f=d.top;if(1==y.slider_video_constantsize){var g=v.getElementSize(c);e+=g.left,f+=g.top}else e+=y.slider_video_padding_left,f+=y.slider_video_padding_top;t.setPosition(e,f)}function Z(){var a=y.slider_video_constantsize_width,b=y.slider_video_constantsize_height;t.setSize(a,b),P(t.getObject(),"video")}function _(c,d,e){b.trigger(a.events.TRANSITION_START);var f=y.slider_transition;switch(e&&(f=e),a.stopSlideAction(null,!0),f){default:case"fade":ca(d);break;case"slide":aa(c,d);break;case"lightbox_open":ca(d,!1,!0)}}function aa(c,d){if(1==a.isAnimating())return A.itemWaiting=d,!0;null!=A.itemWaiting&&(A.itemWaiting=null);var f=a.getSlidesReference();switch(c){case"right":S(f.objPrevSlide,d),K();var g=v.getElementSize(f.objPrevSlide),i=-g.left;a.switchSlideNums("right");break;case"left":S(f.objNextSlide,d),K();var j=v.getElementSize(f.objNextSlide),i=-j.left;a.switchSlideNums("left");break;default:throw new Error("wrong direction: "+c)}var k=y.slider_transition_speed,l=y.slider_transition_easing,m={duration:k,easing:l,queue:!1,always:function(){if(a.stopSlideAction(),t.hide(),null!=A.itemWaiting){aa(Fa(A.itemWaiting),A.itemWaiting)}else a.placeNabourItems(),b.trigger(a.events.TRANSITION_END)}};h.animate({left:i+"px"},m)}function ba(a,b,c){c?a.fadeTo(y.slider_transition_speed,b,c):a.fadeTo(y.slider_transition_speed,b)}function ca(c,d,e){if(!d)var d=!1;var f=a.getSlidesReference();S(f.objNextSlide,c);var g=v.getElementSize(f.objCurrentSlide);v.placeElement(f.objNextSlide,g.left,g.top);var h=A.numCurrent;if(A.numCurrent=A.numNext,A.numNext=h,b.trigger(a.events.ITEM_CHANGED),f.objNextSlide.stop(!0),f.objCurrentSlide.stop(!0),1==d)f.objCurrentSlide.fadeTo(0,0),f.objNextSlide.fadeTo(0,1),a.placeNabourItems(),b.trigger(a.events.TRANSITION_END),!0!==e&&t.hide();else{if(f.objNextSlide.fadeTo(0,0),ba(f.objCurrentSlide,0,function(){a.placeNabourItems(),b.trigger(a.events.TRANSITION_END),!0!==e&&t.hide()}),1==t.isVisible()){ba(t.getObject(),0)}ba(f.objNextSlide,1)}}function ea(){1==y.slider_fullscreen_button_mobilehide&&r&&r.hide(),1==y.slider_play_button_mobilehide&&q&&q.hide(),1==y.slider_zoompanel_mobilehide&&p&&p.getElement().hide()}function fa(){1==y.slider_fullscreen_button_mobilehide&&r&&r.show(),1==y.slider_play_button_mobilehide&&q&&q.show(),1==y.slider_zoompanel_mobilehide&&p&&p.getElement().show()}function ga(){c.isMobileMode()?ea():fa()}function ha(){return g.children(".ug-slider-control")}function ia(a){if(0==v.isTimePassed("sliderControlsToggle"))return!1;if(0==A.isControlsVisible)return!1;if(!a)var a=!1;var b=ha();!0===a?b.stop().fadeTo(0,0).hide():b.stop().fadeTo(y.slider_controls_appear_duration,0,function(){b.hide()}),A.isControlsVisible=!1}function ka(a){if(0==v.isTimePassed("sliderControlsToggle"))return!1;if(1==A.isControlsVisible)return!0;if(!a)var a=!1;var b=ha();!0===a?b.stop().show():(b.stop().show().fadeTo(0,0),b.fadeTo(y.slider_controls_appear_duration,1)),A.isControlsVisible=!0}function la(){0==A.isControlsVisible?ka():ia()}function ma(a){if(a==A.currentControlsMode)return!1;switch(a){case"image":p&&p.getElement().show();break;case"video":p&&p.getElement().hide();break;default:throw new Error("wrong controld mode: "+a)}A.currentControlsMode=a}function oa(b,d,e){var f=c.getSelectedItem();a.setItem(f,!1,e);var g=f.index;s&&s.setActive(g),x&&0==A.isTextPanelSaparateHover&&U(),ma("image"==f.type?"image":"video")}function pa(a,b){c.selectItem(b)}function qa(c){if(n&&0==n.isTapEventOccured(c))return!0;b.trigger(a.events.CLICK,c)}function ra(){var b=a.getCurrentSlide(),c=b.hasClass("ug-slide-clickable"),d=a.getCurrentItem();if(c)return 0==y.slider_links_newpage?location.href=d.link:window.open(d.link,"_blank"),!0;0==y.slider_controls_always_on&&1==y.slider_controls_appear_ontap&&1==a.isCurrentSlideType("image")&&(la(),x&&1==y.slider_textpanel_always_on&&a.isCurrentSlideType("image")&&a.isCurrentSlideImageFit()&&U())}function sa(b){x&&a.isCurrentSlideType("image")&&0==a.isCurrentSlideImageFit()&&T()}function ta(){ka()}function ua(){ia()}function va(b){var c=b.parent();a.startSlideAction(c)}function wa(){c.isPlayMode()&&c.pausePlaying(),b.trigger(a.events.ACTION_START)}function xa(){c.isPlayMode()&&c.continuePlaying(),b.trigger(a.events.ACTION_END)}function ya(a,b,d){i.data("index")==b&&(objItem=c.getItem(b),R(i,objItem,!0)),j.data("index")==b&&(objItem=c.getItem(b),R(j,objItem,!0)),k.data("index")==b&&(objItem=c.getItem(b),R(k,objItem,!0))}function za(b,c){c=jQuery(c);var d=a.getSlideImage(c),e=Ha(c),f=v.getElementSize(d);v.placeElement(e,"center","middle",f.left,f.top,d)}function Aa(a){var b=Ha(a);v.addClassOnHover(b),v.setButtonOnClick(b,va)}function Ba(){d.on(c.events.ITEM_IMAGE_UPDATED,ya),d.on(c.events.ITEM_CHANGE,oa),s&&jQuery(s).on(s.events.BULLET_CLICK,pa),1==y.slider_enable_arrows&&(v.addClassOnHover(m,"ug-arrow-hover"),v.addClassOnHover(l,"ug-arrow-hover"),c.setNextButton(m),c.setPrevButton(l)),0==y.slider_controls_always_on&&g.hover(ta,ua),g.on("touchend click",qa),b.on(a.events.CLICK,ra),x&&1==A.isTextPanelSaparateHover&&g.hover(U,T),q&&(v.addClassOnHover(q,"ug-button-hover"),c.setPlayButton(q)),r&&(v.addClassOnHover(r,"ug-button-hover"),c.setFullScreenToggleButton(r)),o&&b.on(a.events.ZOOM_CHANGE,sa),p&&p.initEvents(),t.initEvents(),jQuery(t).on(t.events.SHOW,wa),jQuery(t).on(t.events.HIDE,xa),Aa(i),Aa(j),Aa(k),b.on(a.events.AFTER_PUT_IMAGE,za),g.delegate(".ug-item-wrapper img","mouseenter",function(c){b.trigger(a.events.IMAGE_MOUSEENTER)}),g.delegate(".ug-item-wrapper img","mouseleave",function(c){0==a.isMouseInsideSlideImage(c)&&b.trigger(a.events.IMAGE_MOUSELEAVE)})}function Da(){var a;switch(y.slider_loader_type){default:case 1:a="ug-loader1";break;case 2:a="ug-loader2";break;case 3:a="ug-loader3";break;case 4:a="ug-loader4";break;case 5:a="ug-loader5";break;case 6:a="ug-loader6";break;case 7:a="ug-loader7";break;case 8:a="ug-loader8";break;case 9:a="ug-loader9"}return"black"==y.slider_loader_color&&(a+=" ug-loader-black"),a}function Ea(a){switch(a){case 1:return i;case 2:return j;case 3:return k;default:throw new Error("wrong num: "+a)}}function Fa(b){var c=a.getSlidesReference(),d=c.objCurrentSlide.data("index"),e=b.index,f="left";return d>e&&(f="right"),f}function Ga(b){if(!b)var b=a.getCurrentSlide();return b.children(".ug-slider-preloader")}function Ha(a){return a.children(".ug-button-videoplay")}function Ia(b){if(!b)var b=a.getCurrentSlide();var d=b.data("index");return void 0==d?null:c.getItem(d)}var d,e,f,g,h,i,j,k,l,m,n,o,p,u,a=this,b=jQuery(a),c=new UniteGalleryMain,q=null,r=null,s=null,t=new UGVideoPlayer,v=new UGFunctions,w=null,x=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var y={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_border_maxratio:.35,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},z={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},A={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(c){switch(b.trigger(a.events.BEFORE_SWITCH_SLIDES),c){case"left":var d=A.numCurrent;A.numCurrent=A.numNext,A.numNext=A.numPrev,A.numPrev=d;break;case"right":var d=A.numCurrent;A.numCurrent=A.numPrev,A.numPrev=A.numNext,A.numNext=d;break;default:throw new Error("wrong direction: "+c)}b.trigger(a.events.ITEM_CHANGED)},this.destroy=function(){b.off(a.events.AFTER_PUT_IMAGE),d.off(c.events.ITEM_IMAGE_UPDATED),d.off(c.events.ITEM_CHANGE),s&&jQuery(s).on(s.events.BULLET_CLICK),g.off("mouseenter"),g.off("mouseleave"),g.off("touchend"),g.off("click"),b.off(a.events.CLICK),o&&b.off(a.events.ZOOM_CHANGE),b.off(a.events.BEFORE_SWITCH_SLIDES),jQuery(t).off(t.events.SHOW),jQuery(t).off(t.events.HIDE),t.destroy(),g.undelegate(".ug-item-wrapper img","mouseenter"),g.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(a,b,c){C(a,b,c)},this.getSlideImage=function(b){if(!b)var b=a.getCurrentSlide();return b.find(".ug-item-wrapper img")},this.setHtml=function(a){G(a)},this.run=function(){D()},this.isInnerInPlace=function(){var b=a.getSlidesReference();return-v.getElementSize(b.objCurrentSlide).left==v.getElementSize(h).left},this.isAnimating=function(){return h.is(":animated")},this.isSlideCurrent=function(a){var b=a.data("slidenum");return A.numCurrent==b},this.isSlideHasItem=function(a){var b=a.data("index");return void 0!==b&&null!==b},this.getObjImagePadding=function(){return{padding_top:y.slider_image_padding_top,padding_bottom:y.slider_image_padding_bottom,padding_left:y.slider_image_padding_left,padding_right:y.slider_image_padding_right}},this.getSlidesReference=function(){return{objPrevSlide:Ea(A.numPrev),objNextSlide:Ea(A.numNext),objCurrentSlide:Ea(A.numCurrent)}},this.getCurrentSlide=function(){return a.getSlidesReference().objCurrentSlide},this.getCurrentItemIndex=function(){var b=a.getSlidesReference(),c=b.objCurrentSlide.data("index");return null!==c&&void 0!==c||(c=-1),c},this.getCurrentItem=function(){var b=a.getCurrentItemIndex();return-1==b?null:c.getItem(b)},this.getSlideType=function(b){return void 0==b&&(b=a.getCurrentSlide()),b.data("type")},this.isMouseInsideSlideImage=function(b){var c=a.getSlideImage(),d=v.getMousePosition(b);void 0===d.pageX&&(d=n.getLastMousePos());var e=v.getMouseElementPoint(d,c),f=v.getElementSize(c);return isMouseInside=v.isPointInsideElement(e,f),isMouseInside},this.isCurrentSlideType=function(b){return a.getSlideType()==b},this.isCurrentSlideLoadingImage=function(){return!0===a.getCurrentSlide().data("isLoading")},this.setItem=function(b,d,e){var f=a.getSlidesReference(),g=f.objCurrentSlide.data("index"),h=b.index;if(h==g)return!0;if(void 0==g)S(f.objCurrentSlide,b),a.placeNabourItems();else{var j="left";c.getNumItems(),"next"==e?j="left":"prev"==e||g>h?j="right":g>h&&(j="right"),_(j,b,d)}},this.placeNabourItems=function(){var b=a.getSlidesReference(),d=b.objCurrentSlide.data("index"),e=c.getPrevItem(d),f=c.getNextItem(d);S(b.objNextSlide,f),S(b.objPrevSlide,e),K()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(b,c){b||(b=a.getCurrentSlide()),!0===c?t.pause():t.hide()},this.startSlideAction=function(b){b||(b=a.getCurrentSlide());var c=Ia(b);if("image"==c.type)return!0;switch(1==y.slider_video_constantsize&&Z(),Y(),t.show(),c.type){case"youtube":t.playYoutube(c.videoid);break;case"vimeo":t.playVimeo(c.videoid);break;case"html5video":t.playHtml5Video(c.videoogv,c.videowebm,c.videomp4,c.urlImage);break;case"soundcloud":t.playSoundCloud(c.trackid);break;case"wistia":t.playWistia(c.videoid)}},this.getScaleMode=function(b){if(!b)var b=a.getCurrentSlide();return"image"!=a.getSlideType(b)?y.slider_scale_mode_media:y.slider_scale_mode==y.slider_scale_mode_fullscreen?y.slider_scale_mode:1==c.isFullScreen()?y.slider_scale_mode_fullscreen:y.slider_scale_mode},this.getObjects=function(){return{g_objSlider:g,g_objInner:h,g_options:y,g_objZoomSlider:o}},this.getObjZoom=function(){return o},this.getOptions=function(){return y},this.getElement=function(){return g},this.getVideoObject=function(){return t},this.isCurrentSlideImageFit=function(){var b=a.getCurrentSlide();a.getSlideType(b);W("image",b);var d=a.getSlideImage(b);return 0!=d.length&&v.isImageFitParent(d)},this.isCurrentImageInPlace=function(){var b=a.getSlideImage();if(0==b.length)return!1;var c=a.getScaleMode(),d=a.getObjImagePadding(),e=Ia(),f=b.parent(),g=v.getImageInsideParentData(f,e.imageWidth,e.imageHeight,c,d),h=v.getElementSize(b);return g.imageWidth==h.width},this.isSlideActionActive=function(){return t.isVisible()},this.isSwiping=function(){return!!n&&n.isTouchActive()},this.isPreloading=function(){return!!Ga().is(":visible")},this.setOptions=function(a){u&&(a=v.convertCustomPrefixOptions(a,u,"slider")),y=jQuery.extend(y,a)},this.setSize=function(b,c){if(b<0||c<0)return!0;var d={};d.width=b+"px",d.height=c+"px",g.css(d);var e={};e.height=c+"px",e.top="0px",e.left="0px",h.css(e);var f={};f.height=c+"px",f.width=b+"px",i.css(f),j.css(f),k.css(f);var l=b-y.slider_item_padding_left-y.slider_item_padding_right,m=c-y.slider_item_padding_top-y.slider_item_padding_bottom,n={};if(n.width=l+"px",n.height=m+"px",n.top=y.slider_item_padding_top+"px",n.left=y.slider_item_padding_left+"px",g.find(".ug-item-wrapper").css(n),x&&x.setSizeByParent(),I(),L(i),L(j),L(k),K(),"image"!=a.getSlideType()&&1==y.slider_video_constantsize)Z();else{var p=b-y.slider_video_padding_left-y.slider_video_padding_right,q=c-y.slider_video_padding_top-y.slider_video_padding_bottom;t.setSize(p,q)}Y()},this.refreshSlideItems=function(){if(1==a.isAnimating())return!0;L(i),L(j),L(k),K()},this.isMouseOver=function(){return g.ismouseover()},this.setPosition=function(a,b){v.placeElement(g,a,b)},this.zoomIn=function(){if(!o)return!0;o.zoomIn()},this.zoomOut=function(){if(!o)return!0;o.zoomOut()},this.zoomBack=function(){if(!o)return!0;o.zoomBack()}}function UGTextPanel(){function m(a,b){if(!b)var b=k.textpanel_padding_top;var c=b;if(d){var f=c;i.placeElement(d,0,f);var g=i.getElementSize(d),c=g.bottom}var h="";if(e&&(h=jQuery.trim(e.text())),""!=h){var j=c;d&&(j+=k.textpanel_padding_title_description),i.placeElement(e,0,j);c=i.getElementSize(e).bottom}if(!k.textpanel_height&&1==l.setInternalHeight){q(c+k.textpanel_padding_bottom,a)}}function n(){var a=0;if(d&&(a+=d.outerHeight()),e){var b="";e&&(b=jQuery.trim(e.text())),""!=b&&(d&&(a+=k.textpanel_padding_title_description),a+=e.outerHeight())}return a}function o(){var a=n();m(!1,(g.height()-a)/2)}function p(){var a=n();m(!1,g.height()-a-k.textpanel_padding_bottom)}function q(a,c){if(!c)var c=!1;if(1==c){if(f){a>f.height()&&f.height(a)}var e={height:a+"px"};b.add(g).animate(e,k.textpanel_fade_duration)}else f&&f.height(a),b.add(g).height(a)}function r(){if(1==k.textpanel_enable_bg){f=b.children(".ug-textpanel-bg"),f.fadeTo(0,k.textpanel_bg_opacity);var a={"background-color":k.textpanel_bg_color};a=jQuery.extend(a,k.textpanel_bg_css),f.css(a)}if(1==k.textpanel_enable_title){d=g.children(".ug-textpanel-title");var c={};null!==k.textpanel_title_color&&(c.color=k.textpanel_title_color),null!==k.textpanel_title_font_family&&(c["font-family"]=k.textpanel_title_font_family),null!==k.textpanel_title_text_align&&(c["text-align"]=k.textpanel_title_text_align),null!==k.textpanel_title_font_size&&(c["font-size"]=k.textpanel_title_font_size+"px"),null!==k.textpanel_title_bold&&(!0===k.textpanel_title_bold?c["font-weight"]="bold":c["font-weight"]="normal"),k.textpanel_css_title&&(c=jQuery.extend(c,k.textpanel_css_title)),d.css(c)}if(1==k.textpanel_enable_description){e=g.children(".ug-textpanel-description");var h={};null!==k.textpanel_desc_color&&(h.color=k.textpanel_desc_color),null!==k.textpanel_desc_font_family&&(h["font-family"]=k.textpanel_desc_font_family),null!==k.textpanel_desc_text_align&&(h["text-align"]=k.textpanel_desc_text_align),null!==k.textpanel_desc_font_size&&(h["font-size"]=k.textpanel_desc_font_size+"px"),null!==k.textpanel_desc_bold&&(!0===k.textpanel_desc_bold?h["font-weight"]="bold":h["font-weight"]="normal"),k.textpanel_css_title&&(h=jQuery.extend(h,k.textpanel_css_description)),e.css(h)}}function s(){var b=h.getSelectedItem();a.setText(b.title,b.description)}function t(){jQuery(h).on(h.events.ITEM_CHANGE,s)}var b,c,d,e,f,g,h,a=this,i=new UGFunctions,j="",k={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},l={isFirstTime:!0,setInternalHeight:!0};this.positionElements=function(a){if(!k.textpanel_height||"top"==k.textpanel_text_valign)return m(a),!1;switch(k.textpanel_text_valign){default:case"top":m(!1);break;case"bottom":p();break;case"center":case"middle":o()}},this.init=function(a,b,c){if(h=a,c&&(j=c,b=i.convertCustomPrefixOptions(b,j,"textpanel")),b&&(k=jQuery.extend(k,b)),0==k.textpanel_enable_title&&0==k.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");k.textpanel_height&&k.textpanel_height<0&&(k.textpanel_height=null),1==k.textpanel_desc_style_as_title&&(k.textpanel_desc_color||(k.textpanel_desc_color=k.textpanel_title_color),k.textpanel_desc_bold||(k.textpanel_desc_bold=k.textpanel_title_bold),k.textpanel_desc_font_family||(k.textpanel_desc_font_family=k.textpanel_title_font_family),k.textpanel_desc_font_size||(k.textpanel_desc_font_size=k.textpanel_title_font_size),k.textpanel_desc_text_align||(k.textpanel_desc_text_align=k.textpanel_title_text_align))},this.appendHTML=function(a,d){c=a,d=d?" "+d:"";var e="<div class='ug-textpanel"+d+"'>";1==k.textpanel_enable_bg&&(e+="<div class='ug-textpanel-bg"+d+"'></div>"),e+="<div class='ug-textpanel-textwrapper"+d+"'>",1==k.textpanel_enable_title&&(e+="<div class='ug-textpanel-title"+d+"'></div>"),1==k.textpanel_enable_description&&(e+="<div class='ug-textpanel-description"+d+"'></div>"),e+="</div></div>",a.append(e),b=a.children(".ug-textpanel"),g=b.children(".ug-textpanel-textwrapper"),r()},this.destroy=function(){jQuery(h).off(h.events.ITEM_CHANGE)},this.run=function(){a.setSizeByParent(),t()},this.setPanelSize=function(c,h){if(l.setInternalHeight=!0,h)l.setInternalHeight=!1;else var h=80;k.textpanel_height&&(h=k.textpanel_height),b.width(c),b.height(h),f&&(f.width(c),f.height(h));var j=c-k.textpanel_padding_left-k.textpanel_padding_right,m=k.textpanel_padding_left;i.setElementSizeAndPosition(g,m,0,j,h),d&&d.width(j),e&&e.width(j),0==l.isFirstTime&&a.positionElements(!1)},this.setSizeByParent=function(){var b=i.getElementSize(c);a.setPanelSize(b.width)},this.setTextPlain=function(a,b){d&&d.html(a),e&&e.html(b)},this.setText=function(b,c){1==l.isFirstTime?(a.setTextPlain(b,c),l.isFirstTime=!1,a.positionElements(!1)):g.stop().fadeTo(k.textpanel_fade_duration,0,function(){a.setTextPlain(b,c),a.positionElements(!0),jQuery(this).fadeTo(k.textpanel_fade_duration,1)})},this.positionPanel=function(a,c){var d={};if(void 0!==a&&null!==a)d.top=a,d.bottom="auto";else switch(k.textpanel_align){case"top":d.top=k.textpanel_margin+"px";break;case"bottom":d.top="auto",d.bottom=k.textpanel_margin+"px";break;case"middle":d.top=i.getElementRelativePos(b,"middle",k.textpanel_margin)}void 0!==c&&null!==c&&(d.left=c),b.css(d)},this.setOptions=function(a){j&&(a=i.convertCustomPrefixOptions(a,j,"textpanel")),k=jQuery.extend(k,a)},this.getElement=function(){return b},this.getSize=function(){return i.getElementSize(b)},this.refresh=function(b,c,d,e){r(),d?a.setPanelSize(d,e):a.setSizeByParent(),a.positionElements(!1),!0!==c&&a.positionPanel(),!0===b&&a.show()},this.hide=function(){b.hide()},this.show=function(){b.show()},this.getOptions=function(){return k},this.getOption=function(a){return 0==k.hasOwnProperty(a)?null:k[a]}}function UGZoomButtonsPanel(){function k(a){return!a||!!a.hasClass("ug-zoompanel-button-disabled")}function l(a){a&&a.addClass("ug-zoompanel-button-disabled")}function m(a){a&&a.removeClass("ug-zoompanel-button-disabled")}function n(){if(0==g.isCurrentSlideType("image"))return!0;1==g.isCurrentSlideImageFit()?0==k(e)&&(l(e),l(f)):1==k(e)&&(m(e),m(f))}var b,c,d,e,f,a=this,g=new UGSlider,h=new UGFunctions,i={slider_zoompanel_skin:""};this.init=function(a,b){g=a,b&&(i=jQuery.extend(i,b))},this.appendHTML=function(a){c=a;var g="<div class='ug-slider-control ug-zoompanel ug-skin-"+i.slider_zoompanel_skin+"'>";g+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",g+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",g+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",g+="</div>",a.append(g),b=a.children(".ug-zoompanel"),d=b.children(".ug-zoompanel-plus"),e=b.children(".ug-zoompanel-minus"),f=b.children(".ug-zoompanel-return")},this.setObjects=function(a,b,c){d=a,e=b,f=c,e&&e.addClass("ug-zoompanel-button-disabled"),f&&f.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return b},a.initEvents=function(){h.addClassOnHover(d,"ug-button-hover"),h.addClassOnHover(e,"ug-button-hover"),h.addClassOnHover(f,"ug-button-hover"),h.setButtonOnClick(d,function(){if(1==k(d))return!0;g.zoomIn()}),h.setButtonOnClick(e,function(){if(1==k(e))return!0;g.zoomOut()}),h.setButtonOnClick(f,function(){if(1==k(f))return!0;g.zoomBack()}),jQuery(g).on(g.events.ZOOM_CHANGE,n),jQuery(g).on(g.events.ITEM_CHANGED,n)}}function UGBullets(){function k(){var a="",c="";-1!=j.bullets_space_between&&(c=" style='margin-left:"+j.bullets_space_between+"px'");for(var e=0;e<b;e++)a+=0==e?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+c+"></div>";if(d.html(a),!g){var f=d.find(".ug-bullet:first-child");f.length&&(g=f.width())}}function l(b){if(1==a.isActive(b))return!0;var c=b.index();jQuery(a).trigger(a.events.BULLET_CLICK,c)}function m(){var a=d.children(".ug-bullet");h.setButtonOnClick(a,l),a.on("mousedown mouseup",function(a){return!1})}function n(a){if(a<0||a>=b)throw new Error("wrong bullet index: "+a)}function o(){if(1==i.isInited)return!0;throw new Error("The bullets are not inited!")}var d,e,g,a=this,b=0,c=new UniteGalleryMain,f=-1,h=new UGFunctions,i={isInited:!1},j={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(a,d,e){c=a,b=e||c.getNumItems(),i.isInited=!0,j=jQuery.extend(j,d),""==j.bullets_skin&&(j.bullets_skin=j.gallery_skin)},this.getBulletsWidth=function(){return 0==b?0:g?b*g+(b-1)*j.bullets_space_between:0},this.appendHTML=function(a){e=a,o();var b="";""!=j.bullets_addclass&&(b=" "+j.bullets_addclass);var c="<div class='ug-slider-control ug-bullets ug-skin-"+j.bullets_skin+b+"'>";c+="</div>",d=jQuery(c),a.append(d),k(),m()},this.updateNumBullets=function(a){b=a,k(),m()},this.getElement=function(){return d},this.setActive=function(a){o(),n(a);var b=d.children(".ug-bullet");b.removeClass("ug-bullet-active"),jQuery(b[a]).addClass("ug-bullet-active"),f=a},this.isActive=function(a){if(n(a),"number"!=typeof a)var b=a;else var b=d.children(".ug-bullet")[a];return!!b.hasClass("ug-bullet-active")},this.getNumBullets=function(){return b}}function UGProgressBar(){var d,e,a=this,c=0,f=new UGFunctions,g={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(a,b){b&&(g=jQuery.extend(g,b)),a.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),d=a.children(".ug-progress-bar"),e=d.children(".ug-progress-bar-inner"),e.css("background-color",g.slider_progressbar_color),d.height(g.slider_progressbar_line_width),e.height(g.slider_progressbar_line_width),e.width("0%");var c=g.slider_progressbar_opacity,f=e[0];f.style.opacity=c,f.style.filter="alpha(opacity="+100*c+")"},this.putHidden=function(b,c){a.put(b,c),d.hide()},this.getElement=function(){return d},this.setSize=function(b){d.width(b),e.width(b),a.draw()},this.setPosition=function(a,b,c,e){f.placeElement(d,a,b,c,e)},this.draw=function(){var a=100*c;e.width(a+"%")},this.setProgress=function(b){c=f.normalizePercent(b),a.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function g(a){if(!a)var a=0;var c=Math.min(f.slider_progresspie_width,f.slider_progresspie_height)/2,e=d[0].getContext("2d");0==b&&(b=!0,e.rotate(1.5*Math.PI),e.translate(-2*c,0)),e.clearRect(0,0,f.slider_progresspie_width,f.slider_progresspie_height);var g=f.slider_progresspie_width/2,h=f.slider_progresspie_height/2,i=0,j=a*Math.PI*2;if(1==f.slider_progresspie_type_fill)e.beginPath(),e.moveTo(g,h),e.arc(g,h,c,i,j),e.lineTo(g,h),e.fillStyle=f.slider_progresspie_color1,e.fill(),e.closePath();else{e.globalCompositeOperation="source-over",e.beginPath(),e.moveTo(g,h),e.arc(g,h,c,i,j),e.lineTo(g,h),e.fillStyle=f.slider_progresspie_color1,e.fill(),e.closePath(),e.globalCompositeOperation="destination-out";var k=c-f.slider_progresspie_stroke_width;e.beginPath(),e.moveTo(g,h),e.arc(g,h,k,i,j),e.lineTo(g,h),e.fillStyle=f.slider_progresspie_color1,e.fill(),e.closePath()}1==f.slider_progresspie_type_fill&&(i=j,j=2*Math.PI,e.beginPath(),e.arc(g,h,c,i,j),e.lineTo(g,h),e.fillStyle=f.slider_progresspie_color2,e.fill(),e.closePath())}var c,d,a=this,b=!1,e=new UGFunctions,f={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(a,b){b&&(f=jQuery.extend(f,b)),a.append("<canvas class='ug-canvas-pie' width='"+f.slider_progresspie_width+"' height='"+f.slider_progresspie_height+"'></canvas>"),d=a.children(".ug-canvas-pie")},this.putHidden=function(b,c){a.put(b,c),g(.1),d.hide()},this.getElement=function(){return d},this.setPosition=function(a,b){e.placeElement(d,a,b)},this.getSize=function(){return{width:f.slider_progresspie_width,height:f.slider_progresspie_height}},this.setProgress=function(a){a=e.normalizePercent(a),c=a,g(a)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function i(a){if(!a)var a=c.getSlidesReference();return-g.getElementSize(a.objCurrentSlide).left-g.getElementSize(b).left}function j(){var a=c.getSlidesReference(),b=i(a),d=Math.round(3*a.objCurrentSlide.width()/8);if(Math.abs(b)>=d)return!0;var e=Math.abs(h.lastMouseX-h.startMouseX);Math.abs(h.lastMouseY-h.startMouseY);return!(e<20)&&jQuery.now()-h.startTime<500}function k(a){if(1==c.isInnerInPlace())return!1;if(d.trigger(c.events.BEFORE_RETURN),!a)var a=c.getSlidesReference();var f=g.getElementSize(a.objCurrentSlide),i=-f.left;b.animate({left:i+"px"},{duration:e.slider_transition_return_speed,easing:e.slider_transition_continuedrag_easing,queue:!1,progress:function(a,c,d){if(1==h.isDragVideo){var e=g.getElementSize(b),f=e.left,j=f-i,k=h.videoStartX+j;h.videoObject.css("left",k)}},complete:function(){d.trigger(c.events.AFTER_RETURN)}})}function l(a){c.getVideoObject().hide(),c.switchSlideNums(a),c.placeNabourItems()}function m(){var a=c.getSlidesReference(),f=i(a);if(0==f)return!1;var j=f>0?"left":"right",m=!1;switch(j){case"right":if(c.isSlideHasItem(a.objPrevSlide))var n=g.getElementSize(a.objPrevSlide),o=-n.left;else m=!0;break;case"left":if(c.isSlideHasItem(a.objNextSlide))var p=g.getElementSize(a.objNextSlide),o=-p.left;else m=!0}1==m?k(a):b.stop().animate({left:o+"px"},{duration:e.slider_transition_continuedrag_speed,easing:e.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==h.isDragVideo){var a=g.getElementSize(b),c=a.left,d=c-h.startPosx,e=h.videoStartX+d;h.videoObject.css("left",e)}},always:function(){l(j),d.trigger(c.events.AFTER_DRAG_CHANGE)}})}function n(e){var f=h.lastMouseX-h.startMouseX;if(0==f)return!0;var g=f<0?"left":"right",i=c.getObjZoom();if(i){if(1==i.isPanEnabled(e,g))return h.isInitDataValid=!1,!0;if(0==h.isInitDataValid)return o(e),!0}var k=h.startPosx+f;if(f>0&&k>0)k/=3;else if(f<0){var l=k+b.width(),m=a.width();l<m&&(k=h.startPosx+f/3)}if(0==h.isDragging&&(h.isDragging=!0,d.trigger(c.events.START_DRAG)),b.css("left",k+"px"),1==h.isDragVideo){var n=k-h.startPosx,p=h.videoStartX+n;h.videoObject.css("left",p)}}function o(a){var c=g.getMousePosition(a);h.startMouseX=c.pageX,h.startMouseY=c.pageY,h.lastMouseX=h.startMouseX,h.lastMouseY=h.startMouseY,h.startTime=jQuery.now();var d=g.getArrTouches(a);h.startArrTouches=g.getArrTouchPositions(d);var e=g.getElementSize(b);h.startPosx=e.left,h.isInitDataValid=!0,h.isDragVideo=!1,g.storeEventData(a,h.storedEventID)}function p(a){h.touch_active=!1}function q(a,b){h.touch_active=!0,o(b)}function r(a){return a.preventDefault(),h.isDragging=!1,1==c.isAnimating()&&b.stop(!0,!0),g.getArrTouches(a).length>1?(1==h.touch_active&&p("1"),!0):1==h.touch_active||void q("1",a)}function s(a){if(0==h.touch_active)return!0;if(0==a.buttons)return p("2"),m(),!0;g.updateStoredEventData(a,h.storedEventID),a.preventDefault();var b=g.getMousePosition(a);h.lastMouseX=b.pageX,h.lastMouseY=b.pageY;var c=null;1==e.slider_vertical_scroll_ondrag&&(c=g.handleScrollTop(h.storedEventID)),"vert"!==c&&n(a)}function t(a){var b=g.getArrTouches(a),d=b.length;if(1==c.isInnerInPlace()&&0==h.touch_active&&0==d)return!0;if(0==d&&1==h.touch_active){p("3");var f=!1;0==g.wasVerticalScroll(h.storedEventID)&&(f=j()),1==f?m():k()}else 1==d&&0==h.touch_active&&q("2",a)}function u(){a.bind("mousedown touchstart",r),jQuery("body").bind("mousemove touchmove",s),jQuery(window).add("body").bind("mouseup touchend",t)}var a,b,d,e,c=new UGSlider,g=new UGFunctions,e={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},h={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(a){var b=g.getArrTouches(a),d=b.length;if(0!=d||0!=h.lastNumTouches)return h.lastNumTouches=d,!1;h.lastNumTouches=d;var e=c.getSlidesReference(),j=(i(e),Math.abs(h.lastMouseX-h.startMouseX)),k=Math.abs(h.lastMouseY-h.startMouseY),l=jQuery.now(),m=l-h.startTime;return j<20&&k<50&&m<500},this.init=function(f,g){c=f,d=jQuery(c),g_objects=f.getObjects(),a=g_objects.g_objSlider,b=g_objects.g_objInner,e=jQuery.extend(e,g),u()},this.getLastMousePos=function(){return{pageX:h.lastMouseX,pageY:h.lastMouseY}},this.isTouchActive=function(){return h.touch_active}}function UGZoomSliderControl(){function i(e,f){c=e,d=jQuery(c),g_objects=e.getObjects(),a=g_objects.g_objSlider,b=g_objects.g_objInner,g=jQuery.extend(g,f),F()}function j(){var a=c.getScaleMode();return"down"!=a&&(a="fit"),a}function k(){var a=jQuery.now();if(a-h.storeImageLastTime<20)return!1;var d=c.getSlidesReference();if(h.objSlide=d.objCurrentSlide,h.objImage=d.objCurrentSlide.find("img"),0==h.objImage.length)return!1;h.objImageSize=e.getElementSize(h.objImage),h.objParent=h.objImage.parent(),h.objParentSize=e.getElementSize(h.objParent);var f=j();objPadding=c.getObjImagePadding(),h.objFitImageSize=e.getImageInsideParentDataByImage(h.objImage,f,objPadding);var a=jQuery.now();return h.storeImageLastTime=a,!0}function l(a,b){var f=c.getSlidesReference(),h=f.objCurrentSlide.find("img"),i=j();d.trigger(c.events.ZOOM_START);var k=!0,l=c.getObjImagePadding();if("back"==a){var m=e.getImageOriginalSize(h);e.scaleImageFitParent(h,m.width,m.height,i,l)}else{var n="in"==a;k=e.zoomImageInsideParent(h,n,g.slider_zoom_step,b,i,g.slider_zoom_max_ratio,l)}1==k&&(d.trigger(c.events.ZOOMING),d.trigger(c.events.ZOOM_CHANGE),d.trigger(c.events.ZOOM_END))}function n(a,b,c){var d=e.getArrTouches(b);if(!0===c){if(1!=d.length)return!1}else if(d.length>1)return!1;return!!e.isElementBiggerThenParent(a)}function o(a){var b=e.getMousePosition(a);h.startMouseX=b.pageX,h.startMouseY=b.pageY,h.lastMouseX=h.startMouseX,h.lastMouseY=h.startMouseY,h.startImageX=h.objImageSize.left,h.startImageY=h.objImageSize.top,h.panXActive=h.objImageSize.width>h.objParentSize.width,h.panYActive=h.objImageSize.height>h.objParentSize.height}function p(a){h.isPanActive=!0,o(a)}function q(a){if(void 0==h.objImage||0==h.objImage.length)return!0;var b=e.getMousePosition(a),g=(b.pageX,h.startMouseX,b.pageY,h.startMouseY,b.pageX-h.lastMouseX),i=b.pageY-h.lastMouseY,j=g<0?"left":"right",k=i<0?"up":"down";h.lastMouseX=b.pageX,h.lastMouseY=b.pageY;var l=e.getElementSize(h.objImage);0==h.panYActive?i=0:"down"==k&&l.top>0?i/=3:"up"==k&&l.bottom<h.objParentSize.height&&(i/=3),0==h.panXActive||0==c.isInnerInPlace()?g=0:"right"==j&&l.left>0?g/=3:"left"==j&&l.right<h.objParentSize.width&&(g/=3);var m=l.left+g,n=l.top+i;e.placeElement(h.objImage,m,n)}function r(){var a=!1,b=!1,d=0,f=0,i=e.getElementSize(h.objImage),j=c.getObjImagePadding(),k=e.getElementCenterPosition(h.objImage,j);h.panXActive=h.objImageSize.width>h.objParentSize.width,h.panYActive=h.objImageSize.height>h.objParentSize.height,1==h.panYActive?i.top>0?(f=0,b=!0):i.bottom<h.objParentSize.height&&(f=h.objParentSize.height-i.height,b=!0):i.top!=k.top&&(b=!0,f=k.top),1==h.panXActive?i.left>0?(d=0,a=!0):i.right<h.objParentSize.width&&(d=h.objParentSize.width-i.width,a=!0):i.left!=k.left&&(a=!0,d=k.left);var l={};1==b&&(l.top=f+"px"),1==a&&(l.left=d+"px"),1!=b&&1!=a||h.objImage.animate(l,{duration:g.slider_zoom_return_pan_duration,easing:g.slider_zoom_return_pan_easing,queue:!1})}function s(){return!(!h.objImage||!h.objImage.is(":animated"))}function v(a){h.isZoomActive=!0,h.startDistance=e.getDistance(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),0==h.startDistance&&(h.startDistance=1),h.startMiddlePoint=e.getMiddlePoint(a[0].pageX,a[0].pageY,a[1].pageX,a[1].pageY),h.objImageSize=e.getElementSize(h.objImage),h.startImageX=h.objImageSize.left,h.startImageY=h.objImageSize.top,h.imageOrientPoint=e.getElementLocalPoint(h.startMiddlePoint,h.objImage),0==e.isPointInsideElement(h.imageOrientPoint,h.objImageSize)&&(h.imageOrientPoint=e.getElementCenterPoint(h.objImage)),d.trigger(c.events.ZOOM_START)}function w(a){if(0==h.isZoomActive)return!1;2!=e.getArrTouches(a).length&&(h.isZoomActive=!1,d.trigger(c.events.ZOOM_END))}function x(a){if(1==h.isZoomActive)return!0;var b=e.getArrTouches(a);if(2!=b.length)return!0;v(b)}function y(a){var b=e.getArrTouches(a),f=e.getDistance(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),i=f/h.startDistance,j=e.getMiddlePoint(b[0].pageX,b[0].pageY,b[1].pageX,b[1].pageY),k=h.objImageSize.width*i,l=h.objImageSize.height*i,m=e.getImageOriginalSize(h.objImage),n=1;if(m.width>0&&(n=k/m.width),n>g.slider_zoom_max_ratio)return!0;panX=-(h.imageOrientPoint.x*i-h.imageOrientPoint.x),panY=-(h.imageOrientPoint.y*i-h.imageOrientPoint.y);var o=j.x-h.startMiddlePoint.x,p=j.y-h.startMiddlePoint.y,q=h.startImageX+panX+o,r=h.startImageY+panY+p;e.setElementSizeAndPosition(h.objImage,q,r,k,l),d.trigger(c.events.ZOOMING),d.trigger(c.events.ZOOM_CHANGE)}function z(){if(void 0==h.objImage||0==h.objImage.length)return!0;if(e.getElementSize(h.objImage).width<h.objFitImageSize.imageWidth){h.objImage.css({position:"absolute",margin:"none"});var b={top:h.objFitImageSize.imageTop+"px",left:h.objFitImageSize.imageLeft+"px",width:h.objFitImageSize.imageWidth+"px",height:h.objFitImageSize.imageHeight+"px"};h.objImage.animate(b,{duration:g.slider_zoom_return_pan_duration,easing:g.slider_zoom_return_pan_easing,queue:!1})}else r()}function B(a){if(0==c.isCurrentSlideType("image"))return!0;k();if(void 0==h.objImage||0==h.objImage.length)return!0;a.preventDefault(),1==s()&&h.objImage.stop(!0),1==h.isZoomActive?w(a):x(a),1==h.isZoomActive?h.isPanActive=!1:1==n(h.objImage,a)&&1==h.isZoomedOnce&&p(a)}function C(a){if(0==c.isCurrentSlideType("image"))return!0;if(1==jQuery(a.target).data("ug-button"))return!1;k();if(void 0==h.objImage||0==h.objImage.length)return!0;var e=h.isPanActive,f=h.isZoomActive;if(0==c.isInnerInPlace())return h.isZoomActive=!1,h.isPanActive=!1,!0;if(1==h.isZoomActive?w(a):x(a),1==h.isZoomActive)h.isPanActive=!1;else{var g=n(h.objImage,a,!0);1==h.isPanActive?h.isPanActive=!1:1==g&&p(a)}(e||f)&&0==h.isZoomActive&&0==h.isPanActive&&z()}function D(a){if(0==c.isCurrentSlideType("image"))return!0;1==h.isZoomActive?y(a):1==h.isPanActive&&q(a)}function E(a,b,d,f){if(0==g.slider_zoom_mousewheel)return!0;if(0==c.isCurrentSlideType("image"))return!0;a.preventDefault();var h=b>0,i=e.getMousePosition(a);l(1==h?"in":"out",i)}function F(){a.on("mousewheel",E),a.bind("mousedown touchstart",B),jQuery("body").bind("mousemove touchmove",D),jQuery(window).add("body").bind("mouseup touchend",C),d.bind(c.events.BEFORE_RETURN,function(){z()}),d.bind(c.events.ITEM_CHANGED,function(){h.isZoomedOnce=!1}),d.bind(c.events.ZOOM_CHANGE,function(){h.isZoomedOnce=!0})}var a,b,d,c=new UGSlider,e=new UGFunctions,g={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},h={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(a,b){if(k(),void 0==h.objImage||0==h.objImage.length)return!1;if(0==h.isZoomedOnce)return!1;if(0==n(h.objImage,a))return!1;if(0==c.isInnerInPlace())return!1;if("left"==b){if(h.objImageSize.right<=h.objParentSize.width)return!1}else if(h.objImageSize.left>=0)return!1;return!0},this.init=function(a,b){i(a,b)},this.zoomIn=function(){l("in")},this.zoomOut=function(){l("out")},this.zoomBack=function(){l("back")}}function UGWistiaAPI(){function f(){return"undefined"!=typeof Wistia}function g(a,b,c,f,g){d=null,e=!1;var i=a+"_video",j="<div id='"+i+"' class='wistia_embed' style='width:"+c+";height:"+f+";' data-video-width='"+c+"' data-video-height='"+f+"'>&nbsp;</div>";jQuery("#"+a).html(j),d=Wistia.embed(b,{version:"v1",videoWidth:c,videoHeight:f,container:i,autoPlay:g}),e=!0,h()}function h(){d.bind("play",function(){b.trigger(a.events.START_PLAYING)}),d.bind("pause",function(){b.trigger(a.events.STOP_PLAYING)}),d.bind("end",function(){b.trigger(a.events.STOP_PLAYING),b.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var c,d,a=this,b=jQuery(this),e=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded||(f()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0)))},this.doCommand=function(a){if(null==d)return!1;if(0==e)return!1;switch(a){case"play":d.play();break;case"pause":d.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.putVideo=function(a,b,d,e,h){if(f())return g(a,b,d,e,h),!0;this.loadAPI(),c=setInterval(function(){f()&&(g(a,b,d,e,h),clearInterval(c))},500)},this.isPlayerReady=function(){return!(!e||!d)}}function UGSoundCloudAPI(){function f(){return"undefined"!=typeof SC}function g(a,b,c,f,g){d=null,g_isPlayerReady=!1;var i=a+"_iframe",j=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+b;j+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",j+=!0===g?"&amp;auto_play=true":"&amp;auto_play=false";var k="<iframe id='"+i+"' src="+j+" width='"+c+"' height='"+f+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k),d=SC.Widget(i),d.bind(SC.Widget.Events.READY,function(){d&&(g_isPlayerReady=!0,h())}),e=a}function h(){d.bind(SC.Widget.Events.PLAY,function(){b.trigger(a.events.START_PLAYING)}),d.bind(SC.Widget.Events.PAUSE,function(){b.trigger(a.events.STOP_PLAYING)}),d.bind(SC.Widget.Events.FINISH,function(){b.trigger(a.events.STOP_PLAYING),b.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var c,d,e,a=this,b=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded||(f()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0)))},this.putSound=function(a,b,d,e,h){if(f())return g(a,b,d,e,h),!0;this.loadAPI(),c=setInterval(function(){f()&&(g(a,b,d,e,h),clearInterval(c))},500)},this.doCommand=function(a){if(null==d)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":d.play();break;case"pause":d.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,d=null,e&&(jQuery("#"+e).html(""),e=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function f(a,b,c,e,f){d=null,g_isPlayerReady=!1;var h=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",i=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",j=a+"_video",k="";f&&!0===f&&(k="autoplay='autoplay'");var l="";b.posterImage&&(l="poster='"+b.posterImage+"'");var m="<video id='"+j+"' width='"+c+"' height='"+e+"'  controls='controls' preload='none' "+k+" "+l+">";""!=b.mp4&&(m+="<source type='video/mp4' src='"+b.mp4+"' />"),""!=b.webm&&(m+="<source type='video/webm' src='"+b.webm+"' />"),""!=b.ogv&&(m+="<source type='video/ogg' src='"+b.ogv+"' />"),m+="<object width='"+c+"' height='"+e+"' type='application/x-shockwave-flash' data='"+h+"'>",m+="<param name='movie' value='"+h+"' />",m+="<param name='flashvars' value='controls=true&file="+b.mp4+"' />",m+="</object>",m+="</video>",jQuery("#"+a).html(m),new MediaElement(j,{enablePluginDebug:!1,flashName:h,silverlightName:i,success:function(a,b){g_isPlayerReady=!0,d=a,0==f&&d.pause(),g()},error:function(a){trace(a)}})}function g(){g_ugFunctions.addEvent(d,"play",function(){b.trigger(a.events.START_PLAYING)}),g_ugFunctions.addEvent(d,"pause",function(){b.trigger(a.events.STOP_PLAYING)}),g_ugFunctions.addEvent(d,"ended",function(){b.trigger(a.events.STOP_PLAYING),b.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var c,d,a=this,b=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded||(e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0)))},this.putVideo=function(a,b,d,g,h){if(e())return f(a,b,d,g,h),!0;this.loadAPI(),c=setInterval(function(){e()&&(f(a,b,d,g,h),clearInterval(c))},500)},this.doCommand=function(a){if(null==d)return!1;if(0==g_isPlayerReady)return!1;switch(a){case"play":d.play();break;case"pause":d.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")}}function UGVimeoAPI(){function h(){return"undefined"!=typeof Froogaloop}function i(a,b,c,g,h){d=null,e=!1;var i=location.protocol+"//player.vimeo.com/video/"+b+"?api=1";!0===h&&(i+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var k="<iframe src="+i+" width='"+c+"' height='"+g+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+a).html(k);var l=jQuery("#"+a+" iframe")[0];d=Froogaloop(l),d.addEvent("ready",function(){d&&(e=!0,j())}),f=a}function j(){if(!d)return!1;d.addEvent("cuechange",function(){1==g&&a.play()}),d.addEvent("play",function(){b.trigger(a.events.START_PLAYING)}),d.addEvent("pause",function(){b.trigger(a.events.STOP_PLAYING)}),d.addEvent("finish",function(){b.trigger(a.events.STOP_PLAYING),b.trigger(a.events.VIDEO_ENDED)})}this.isAPILoaded=!1;var c,f,a=this,b=jQuery(this),d=null,e=!1,g=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded||(h()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0)))},this.doCommand=function(a){return null!=d&&(0!=e&&void d.api(a))},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){d&&(d.api("unload"),d=null,e=!1),f&&jQuery("#"+f).html("")},this.putVideo=function(a,b,d,e,f){if(h())return i(a,b,d,e,f),!0;this.loadAPI(),c=setInterval(function(){h()&&(i(a,b,d,e,f),clearInterval(c))},500)},this.isPlayerReady=function(){return!(!e||!d)},this.changeVideo=function(b,c){if(0==a.isPlayerReady())return!1;g=c,d.api("loadVideo",b)},this.getVideoImages=function(a,b,c){var d=location.protocol+"//vimeo.com/api/v2/video/"+a+".json";jQuery.get(d,{},function(a){var d={};d.preview=a[0].thumbnail_large,d.thumb=a[0].thumbnail_medium,c(b,d)})}}function UGYoutubeAPI(){function i(a,c,e,f,i){b&&d&&b.destroy();var j={controls:2,showinfo:h.video_youtube_showinfo,rel:0};!0===i&&(j.autoplay=1),d=!1,b=new YT.Player(a,{height:f,width:e,videoId:c,playerVars:j,events:{onReady:k,onStateChange:l}}),g=a}function j(){return"undefined"!=typeof YT&&void 0!==YT.Player}function k(){d=!0}function l(){if("function"!=typeof b.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var c=b.getPlayerState();switch(c){case YT.PlayerState.PLAYING:e.trigger(a.events.START_PLAYING);break;case YT.PlayerState.ENDED:e.trigger(a.events.STOP_PLAYING),e.trigger(a.events.VIDEO_ENDED);break;default:f==YT.PlayerState.PLAYING&&e.trigger(a.events.STOP_PLAYING)}f=c}this.isAPILoaded=!1;var c,g,a=this,b=null,d=!1,e=jQuery(this),f=-1,h={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing",VIDEO_ENDED:"video_ended"},this.setOptions=function(a){h=jQuery.extend(h,a)},this.putVideo=function(a,b,d,e,f){if(j())return i(a,b,d,e,f),!0;this.loadAPI(),c=setInterval(function(){j()&&(i(a,b,d,e,f),clearInterval(c))},500)},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded||("undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("https://www.youtube.com/player_api",!1),void(g_ugYoutubeAPI.isAPILoaded=!0)))},this.doCommand=function(a,c){if(!b)return!0;if(0==d)return!1;switch(a){case"play":if("function"!=typeof b.playVideo)return!1;b.playVideo();break;case"pause":if("function"!=typeof b.pauseVideo)return!1;b.pauseVideo();break;case"seek":if("function"!=typeof b.seekTo)return!1;b.seekTo(c);break;case"stopToBeginning":var e=b.getPlayerState();switch(b.pauseVideo(),e){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:b.seekTo(0)}}},this.play=function(){a.doCommand("play")},this.pause=function(){a.doCommand("pause")},this.destroy=function(){try{b&&(d=!1,b.clearVideo(),b.destroy())}catch(a){jQuery("#"+g).html("")}},this.stopToBeginning=function(){a.doCommand("stopToBeginning")},this.changeVideo=function(c,d){if(0==a.isPlayerReady())return!1;d&&1==d?b.loadVideoById(c,0,"large"):b.cueVideoById(c,0,"large")},this.isPlayerReady=function(){return!(!d||!b)},this.getVideoImages=function(a){var b={};return b.preview="https://i.ytimg.com/vi/"+a+"/sddefault.jpg",b.thumb="https://i.ytimg.com/vi/"+a+"/default.jpg",b}}function UGVideoPlayer(){function u(){a.hide()}function v(){c.trigger(a.events.PLAY_START),n&&n.hide()}function w(){c.trigger(a.events.PLAY_STOP),n&&n.show()}function x(){c.trigger(a.events.VIDEO_ENDED)}function y(){n&&(d.setButtonMobileReady(n),d.setButtonOnClick(n,u)),jQuery(e).on(e.events.START_PLAYING,v),jQuery(e).on(e.events.STOP_PLAYING,w),jQuery(e).on(e.events.VIDEO_ENDED,x),jQuery(f).on(f.events.START_PLAYING,v),jQuery(f).on(f.events.STOP_PLAYING,w),jQuery(f).on(f.events.VIDEO_ENDED,x),jQuery(g).on(g.events.START_PLAYING,v),jQuery(g).on(g.events.STOP_PLAYING,w),jQuery(g).on(g.events.VIDEO_ENDED,x),jQuery(h).on(h.events.START_PLAYING,v),jQuery(h).on(h.events.STOP_PLAYING,w),jQuery(h).on(h.events.VIDEO_ENDED,x),jQuery(i).on(i.events.START_PLAYING,v),jQuery(i).on(i.events.STOP_PLAYING,w),jQuery(i).on(i.events.VIDEO_ENDED,x)}function z(a){var b=["youtube","vimeo","html5","soundcloud","wistia"];for(var c in b){var d=b[c];if(d!=a)switch(d){case"youtube":e.pause(),e.destroy(),k.hide();break;case"vimeo":f.pause(),f.destroy(),l.hide();break;case"html5":g.pause(),m.hide();break;case"soundcloud":h.pause(),h.destroy(),o.hide();break;case"wistia":i.pause(),p.hide()}}}var b,j,k,l,m,n,o,p,a=this,c=jQuery(this),d=new UGFunctions,e=new UGYoutubeAPI,f=new UGVimeoAPI,g=new UGHtml5MediaAPI,h=new UGSoundCloudAPI,i=new UGWistiaAPI,q=null,r={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop",VIDEO_ENDED:"video_ended"};var s={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(a,c,d){if(!(b=d))throw new Error("missing gallery ID for video player, it's a must!");r=jQuery.extend(r,a),e.setOptions(r),c&&1==c&&(s.standAloneMode=!0)},this.setHtml=function(a){s.youtubeInnerID=b+"_youtube_inner",s.vimeoPlayerID=b+"_videoplayer_vimeo",s.html5PlayerID=b+"_videoplayer_html5",s.wistiaPlayerID=b+"_videoplayer_wistia",s.soundCloudPlayerID=b+"_videoplayer_soundcloud";var c="<div class='ug-videoplayer' style='display:none'>";c+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+s.youtubeInnerID+"'></div></div>",c+="<div id='"+s.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",c+="<div id='"+s.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",c+="<div id='"+s.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",c+="<div id='"+s.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==s.standAloneMode&&1==r.video_enable_closebutton&&(c+="<div class='ug-videoplayer-button-close'></div>"),c+="</div>",a.append(c),j=a.children(".ug-videoplayer"),k=j.children(".ug-videoplayer-youtube"),l=j.children(".ug-videoplayer-vimeo"),m=j.children(".ug-videoplayer-html5"),o=j.children(".ug-videoplayer-soundcloud"),p=j.children(".ug-videoplayer-wistia"),0==s.standAloneMode&&1==r.video_enable_closebutton&&(n=j.children(".ug-videoplayer-button-close"))},this.destroy=function(){n&&(n.off("click"),n.off("touchend")),jQuery(e).off(e.events.START_PLAYING),jQuery(e).off(e.events.STOP_PLAYING),jQuery(f).off(f.events.START_PLAYING),jQuery(f).off(f.events.STOP_PLAYING),jQuery(g).off(g.events.START_PLAYING),jQuery(g).off(g.events.STOP_PLAYING),jQuery(h).off(h.events.START_PLAYING,v),jQuery(h).off(h.events.STOP_PLAYING,w),jQuery(i).off(i.events.START_PLAYING,v),jQuery(i).off(i.events.STOP_PLAYING,w),q=null},this.initEvents=function(){y()},this.setSize=function(a,b){d.setElementSize(j,a,b),n&&d.placeElement(n,"right","top")},this.setPosition=function(a,b){d.placeElement(j,a,b)},this.getObject=function(){return j},this.show=function(){if(1==a.isVisible())return!0;j.show(),j.fadeTo(0,1),n&&n.show(),c.trigger(a.events.SHOW)},this.hide=function(){if(0==a.isVisible())return!0;z(),q=null,j.hide(),c.trigger(a.events.HIDE)},this.getActiveAPI=function(){switch(q){case"youtube":return e;case"vimeo":return f;case"wistia":return i;case"soundcloud":return h;case"html5":return g;default:return null}},this.pause=function(){var b=a.getActiveAPI();if(null==b)return!1;"function"==typeof b.pause&&b.pause()},this.isVisible=function(){return j.is(":visible")},this.playYoutube=function(a,b){if(void 0===b)var b=!0;z("youtube"),k.show(),0==k.children("#"+s.youtubeInnerID).length&&k.append("<div id='"+s.youtubeInnerID+"'></div>"),1==e.isPlayerReady()&&1==s.standAloneMode?e.changeVideo(a,b):e.putVideo(s.youtubeInnerID,a,"100%","100%",b),q="youtube"},this.playVimeo=function(a,b){if(void 0===b)var b=!0;z("vimeo"),l.show(),f.putVideo(s.vimeoPlayerID,a,"100%","100%",b),q="vimeo"},this.playHtml5Video=function(a,b,c,d,e){if(void 0===e)var e=!0;z("html5"),m.show();var f={ogv:a,webm:b,mp4:c,posterImage:d};g.putVideo(s.html5PlayerID,f,"100%","100%",e),q="html5"},this.playSoundCloud=function(a,b){if(void 0===b)var b=!0;z("soundcloud"),o.show(),h.putSound(s.soundCloudPlayerID,a,"100%","100%",b),q="soundcloud"},this.playWistia=function(a,b){if(void 0===b)var b=!0;z("wistia"),p.show(),i.putVideo(s.wistiaPlayerID,a,"100%","100%",b),q="wistia"}}function ugCheckForMinJQueryVersion(){if(0==g_ugFunctions.checkMinJqueryVersion("1.8.0"))throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(a,b){function c(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}function d(){if("function"==typeof jQuery.fn.unitegallery)return!0;var a="You have some jquery.js library include that comes after the gallery files js include.";throw a+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==b?(a+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",a+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):a+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(a)}try{"jquery"==b?(c(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),d())}catch(c){var e=c.message;if(e="Unite Gallery Error: "+e,e="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+e+"</div>","jquery"==b){var f=document.getElementById(a);f.innerHTML=e,f.style.display="block"}else jQuery(a).show().html(e);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(a){var b=a;return-1==b.indexOf("UGTheme_")&&(b="UGTheme_"+b),b}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(a){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(a){throwErrorShowMessage(a.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(a,b,c,d){var e="object"==typeof b;if(e&&(g_temp.objCustomOptions=b),1==g_temp.isRunFirstTime){if(g_galleryID=a,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),e&&(g_options=jQuery.extend(g_options,b)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid),t.setSizeClass();var f=g_objWrapper.children();fillItemsArray(f),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),c){if(d&&1==g_options.gallery_enable_cache&&cacheItems(d,c),"noitems"==c)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(c);var f=g_objWrapper.children();fillItemsArray(f),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),e&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties(),0==g_objWrapper.width()?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(a,b){if(void 0===b)var b="<b>Unite Gallery Error: </b>";a=b+a;var c="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+a+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(c),g_objWrapper.show()}function throwErrorShowMessage(a){throw showErrorMessage(a),new Error(a)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var a=t.getSize();g_temp.lastWidth=a.width,g_temp.lastHeight=a.height}function setHeightByOriginalRatio(){var a=t.getSize();if(a.width/a.height!=a.orig_ratio){var c=a.width/a.orig_ratio;c=Math.round(c),c<g_options.gallery_min_height&&(c=g_options.gallery_min_height),g_objWrapper.height(c)}}function setHtmlObjectsProperties(){var a=g_functions.getCssSizeParam(g_options.gallery_width),b={"max-width":a,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var c=g_functions.getCssSizeParam(g_options.gallery_height);b.height=c}else b.overflow="visible";g_options.gallery_background_color&&(b["background-color"]=g_options.gallery_background_color),g_objWrapper.css(b)}function fillItemsArray(a){g_arrItems=[];for(var b=t.isMobileMode(),c=0,d=0;d<a.length;d++){var e=jQuery(a[d]),f=e.prop("tagName").toLowerCase(),g="";if("a"==f){g=e.attr("href"),e=e.children();var f=e.prop("tagName").toLowerCase()}var h=e.data("type");void 0==h&&(h="image");var i={};if(i.type=h,"img"==f){var j=e.data("lazyload-src");j&&""!=j&&(e.attr("src",j),jQuery.removeData(e,"lazyload-src"));var k=e.attr("src"),l=e.data("thumb");void 0!==l&&""!=l?(i.urlThumb=l,i.urlImage=k,e.attr("src",l)):(i.urlThumb=k,i.urlImage=e.data("image")),i.title=e.attr("alt"),i.objThumbImage=e}else{if("image"==h)throw new Error("The item should not be image type");i.urlThumb=e.data("thumb"),i.title=e.data("title"),i.objThumbImage=null,i.urlImage=e.data("image")}if(1==b){var m=e.data("thumb-mobile");void 0!==m&&""!=m&&(i.urlThumb=m,"img"==f&&e.attr("src",i.urlThumb));var n=e.data("image-mobile");void 0!==n&&""!=n&&(i.urlImage=n)}i.link=g,i.description=e.attr("title"),i.description||(i.description=e.data("description")),i.description||(i.description=""),i.isLoaded=!1,i.isThumbImageLoaded=!1,i.objPreloadImage=null,i.isBigImageLoadStarted=!1,i.isBigImageLoaded=!1,i.isBigImageLoadError=!1,i.imageWidth=0,i.imageHeight=0,i.thumbWidth=0,i.thumbHeight=0,i.thumbRatioByWidth=0,i.thumbRatioByHeight=0;var o=e.data("width"),p=e.data("height");o&&"number"==typeof o&&p&&"number"==typeof p&&(i.thumbWidth=o,i.thumbHeight=p,i.thumbRatioByWidth=o/p,i.thumbRatioByHeight=p/o),i.addHtml=null;var q=void 0==i.urlImage||""==i.urlImage,r=void 0==i.urlThumb||""==i.urlThumb;switch(i.type){case"youtube":if(i.videoid=e.data("videoid"),q||r){var s=g_ugYoutubeAPI.getVideoImages(i.videoid);q&&(i.urlImage=s.preview),r&&(i.urlThumb=s.thumb,"img"==f&&e.attr("src",i.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":i.videoid=e.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":i.videoogv=e.data("videoogv"),i.videowebm=e.data("videowebm"),i.videomp4=e.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":i.trackid=e.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":i.videoid=e.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var u=e.children("img");u.length&&(u=jQuery(u[0]),i.urlThumb=u.attr("src"),i.title=u.attr("alt"),i.objThumbImage=u);var v=e.children().not("img:first-child");v.length&&(i.addHtml=v.clone())}i.objThumbImage&&(i.objThumbImage.removeAttr("data-description",""),i.objThumbImage.removeAttr("data-image",""),i.objThumbImage.removeAttr("data-thumb",""),i.objThumbImage.removeAttr("title","")),i.index=c,g_arrItems.push(i),c++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var a=this;1==g_objThumbs.isItemThumbVisible(a)&&preloadItemImage(a)})}}function checkPreloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(a);break;case"visible":1==g_objThumbs.isItemThumbVisible(a)&&preloadItemImage(a)}}function preloadItemImage(a){if(1==a.isBigImageLoadStarted||1==a.isBigImageLoaded||1==a.isBigImageLoadError)return!0;var b=a.urlImage;if(""==b||void 0==b)return a.isBigImageLoadError=!0,!1;a.isBigImageLoadStarted=!0,a.objPreloadImage=jQuery("<img/>").attr("src",b),a.objPreloadImage.data("itemIndex",a.index),a.objPreloadImage.on("load",t.onItemBigImageLoaded),a.objPreloadImage.on("error",function(){var a=jQuery(this),b=a.data("itemIndex"),c=g_arrItems[b];c.isBigImageLoadError=!0,c.isBigImageLoaded=!1;var d=jQuery(this).attr("src");console.log("Can't load image: "+d),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[b,c.urlImage]),c.objThumbImage.attr("src",c.urlThumb)}),checkAllItemsStartedPreloading()}function preloadNearBigImages(a){if(1==g_temp.isAllItemsPreloaded)return!1;if(!a)var a=g_selectedItem;if(!a)return!0;var b=a.index,c=b-1,d=b+1;c>0&&preloadItemImage(g_arrItems[c]),d<g_numItems&&preloadItemImage(g_arrItems[d])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var a in g_arrItems)if(0==g_arrItems[a].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(a){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(a){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){0==g_objSlider.isCurrentSlideLoadingImage()&&t.continuePlaying()}}function onKeyPress(a){var b=jQuery(a.target);if(b.is("textarea")||b.is("select")||b.is("input"))return!0;var c=a.charCode?a.charCode:a.keyCode?a.keyCode:a.which?a.which:0;switch(c){case 39:t.nextItem(),a.preventDefault();break;case 37:t.prevItem(),a.preventDefault()}g_objGallery.trigger(t.events.GALLERY_KEYPRESS,c)}function onGalleryResized(){var a=t.getSize();if(0==a.width)return!0;t.setSizeClass();var a=t.getSize();if(a.width!=g_temp.lastWidth||a.height!=g_temp.lastHeight){var b=!1;if(g_temp.funcCustomHeight){var c=g_temp.funcCustomHeight(a);c&&(g_objWrapper.height(c),b=!0)}0==b&&1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE)}}function onThumbsChange(a){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var a=g_functions.isFullScreen(),b=a?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,c=g_functions.getGlobalData("fullscreenID");if(g_galleryID!==c)return!0;a?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(b),onGalleryResized()}function onItemImageUpdated(a,b){checkPreloadItemImage(t.getItem(b))}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(a){a.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var a=g_objSlider.getCurrentItemIndex();-1!=a&&t.selectItem(a)}),1==g_options.gallery_pause_on_mouseover){g_objSlider.getElement().hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(a,b){if(b){var c=b;"noitems"!=c&&(c=jQuery(b).clone())}else var c=g_objWrapper.children().clone();g_objCache[a]=c}function removeAllSizeClasses(a){a||(a=g_objWrapper),a.removeClass("ug-under-480"),a.removeClass("ug-under-780"),a.removeClass("ug-under-960")}function retriggerEvent(a,b,c){jQuery(a).on(b,function(a){g_objGallery.trigger(c,[this])})}function advanceNextStep(){var a=jQuery.now(),b=a-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=b,g_temp.playTimeLastStep=a,g_temp.objProgress){var c=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(c)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){if(null==g_selectedItem)return!0;g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,g_selectedItemIndex=-1}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items",OPEN_LIGHTBOX:"open_lightbox",CLOSE_LIGHTBOX:"close_lightbox"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{},funcCustomHeight:null};this.onItemBigImageLoaded=function(a,b){if(!b)var b=jQuery(this);var c=b.data("itemIndex"),d=g_arrItems[c];d.isBigImageLoaded=!0;var e=g_functions.getImageOriginalSize(b);d.imageWidth=e.width,d.imageHeight=e.height},this.checkFillImageSize=function(a,b){if(!b){var c=a.data("itemIndex");if(void 0===c)throw new Error("Wrong image given to gallery.checkFillImageSize");var b=g_arrItems[c]}var d=g_functions.getImageOriginalSize(a);b.imageWidth=d.width,b.imageHeight=d.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(a,b){g_temp.thumbsType=a,g_objThumbs=b},this.initSlider=function(a,b){if(!a)var a={};a=jQuery.extend(g_temp.objCustomOptions,a),g_objSlider=new UGSlider,g_objSlider.init(t,a,b)},this.onGalleryMouseWheel=function(a,b,c,d){a.preventDefault(),b>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var a=g_objSlider.getElement();a.off("mouseenter"),a.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){return{g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems}},this.getObjSlider=function(){return g_objSlider},this.getItem=function(a){if(a<0)throw new Error("item with index: "+a+" not found");if(a>=g_numItems)throw new Error("item with index: "+a+" not found");return g_arrItems[a]},this.getWidth=function(){return t.getSize().width},this.getHeight=function(){return t.getSize().height},this.getSize=function(){var a=g_functions.getElementSize(g_objWrapper);return a.orig_width=g_options.gallery_width,a.orig_height=g_options.gallery_height,a.orig_ratio=a.orig_width/a.orig_height,a},this.getGalleryID=function(){return g_galleryID.replace("#","")},this.getNextItem=function(a,b){"object"==typeof a&&(a=a.index);var c=a+1;if(!0!==b&&1==g_numItems)return null;if(c>=g_numItems){if(1!=g_options.gallery_carousel&&!0!==b)return null;c=0}return g_arrItems[c]},this.getPrevItem=function(a){"object"==typeof a&&(a=a.index);var b=a-1;if(b<0){if(1!=g_options.gallery_carousel&&!0!==forceCarousel)return null;b=g_numItems-1}return g_arrItems[b]},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1},this.isFirstItem=function(){return 0==g_selectedItemIndex},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.nextItem)},this.setPrevButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.prevItem)},this.setFullScreenToggleButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){a.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){a.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(a){a.data("ug-button",!0),g_functions.setButtonOnClick(a,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){a.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){a.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(a){g_functions.destroyButton(a),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(a){g_temp.objProgress=a},this.setTextContainers=function(a,b){g_objGallery.on(t.events.ITEM_CHANGE,function(){var c=t.getSelectedItem();a.html(c.title),b.html(c.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var a=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),a.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){if(0==g_temp.isPlayMode)return!0;g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now()},this.pausePlaying=function(){if(1==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),g_objGallery.trigger(t.events.PAUSE_PLAYING)},this.continuePlaying=function(){if(0==g_temp.isPlayModePaused)return!0;g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){g_temp.objProgress.getElement().hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var a in g_arrItems)g_arrItems[a].index=parseInt(a)},this.setOptions=function(a){g_options=jQuery.extend(g_options,a)},this.selectItem=function(a,b){"number"==typeof a&&(a=t.getItem(a));var c=a.index;if(c==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=a,g_selectedItemIndex=c,g_objGallery.trigger(t.events.ITEM_CHANGE,[a,b]),1==g_temp.isPlayMode){t.resetPlaying();1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()}},this.nextItem=function(){var a=g_selectedItemIndex+1;return 0==g_numItems||(0==g_options.gallery_carousel&&a>=g_numItems||(a>=g_numItems&&(a=0),void t.selectItem(a,"next")))},this.prevItem=function(){var a=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(a=0),0==g_numItems||(0==g_options.gallery_carousel&&a<0||(a<0&&(a=g_numItems-1),void t.selectItem(a,"prev")))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen||1==g_functions.isFullScreen()},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var a=g_objWrapper.get(0);0==g_functions.toFullscreen(a)&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(a,b,c){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",a+"px"),b&&g_objWrapper.height(b),c||!0===c||onGalleryResized()},this.setSizeClass=function(a,b){if(!a)var a=g_objWrapper;if(!b)var c=t.getSize(),b=c.width;if(0==b)var b=jQuery(window).width();var d="";if(b<=480?d="ug-under-480":b<=780?d="ug-under-780":b<960&&(d="ug-under-960"),1==a.hasClass(d))return!0;removeAllSizeClasses(a),""!=d&&a.addClass(d)},this.isMobileMode=function(){return!!g_objWrapper.hasClass("ug-under-480")},this.changeItems=function(a,b){if(!a)var a="noitems";runGallery(g_galleryID,"nochange",a,b)},this.showErrorMessageReplaceGallery=function(a){showErrorMessage(a)},this.setFuncCustomHeight=function(a){g_temp.funcCustomHeight=a},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(a,b,c,d){if(1==c&&"json",!d||"function"!=typeof d)throw new Error("ajaxRequest error: success function should be passed");if(""==g_options.gallery_urlajax)throw new Error("ajaxRequest error: Ajax url don't passed");if(void 0===b)var b={};var g={action:"unitegallery_ajax_action",client_action:a,galleryID:g_galleryID,data:b};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:g,success:function(a){return a?-1==a||0===a?(showErrorMessage("ajax error!!!"),!1):void 0===a.success?(showErrorMessage("The 'success' param is a must!"),!1):0==a.success?(showErrorMessage(a.message),!1):void d(a):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(a,b,c){console.log("Ajax Error!!! "+b)}})},this.requestNewItems=function(a,b,c){var d=g_options.gallery_enable_cache;if(c||(c=a),1==b&&(d=!1),1==d&&g_objCache.hasOwnProperty(c)){var e=g_objCache[c];t.changeItems(e,c)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:a},!0,function(a){var b=a.html;t.changeItems(b,c)})},this.run=function(a,b){g_options.gallery_debug_errors;if(b&&b.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=b.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(a,b)}catch(a){if("object"==typeof a){var d=a.message,e=a.lineNumber,f=a.fileName;a.stack;d+=" <br><br> in file: "+f,d+=" <b> line "+e+"</b>",trace(a)}else var d=a;d=d.replace("Error:",""),showErrorMessage(d)}else runGallery(a,b)}}function UGLightbox(){function t(a,b){c=a,d=jQuery(a),o=jQuery.extend(o,q),o=jQuery.extend(o,b),p.originalOptions=jQuery.extend({},o),"compact"==o.lightbox_type&&(p.isCompact=!0,o=jQuery.extend(o,r),o=jQuery.extend(o,b)),u(),1==p.putSlider?(c.initSlider(o,"lightbox"),g_objects=a.getObjects(),f=g_objects.g_objSlider):f=null,1==o.lightbox_show_textpanel?l.init(c,o,"lightbox"):l=null}function u(){1==p.isCompact&&1==o.lightbox_show_textpanel&&(o.lightbox_slider_image_padding_bottom=p.initTextPanelHeight),1==p.isCompact&&"inside"==o.lightbox_arrows_position&&(p.isArrowsInside=!0),1==p.isArrowsInside&&0==o.lightbox_arrows_inside_alwayson&&(p.isArrowsOnHoverMode=!0),0==o.lightbox_show_textpanel&&(p.isTopPanelEnabled=!1,p.topPanelHeight=0,o.lightbox_slider_image_padding_top=0)}function v(){var a="",b="";1==p.isCompact&&(b=" ug-lightbox-compact"),a+="<div class='ug-gallery-wrapper ug-lightbox"+b+"'>",a+="<div class='ug-lightbox-overlay'></div>",0==p.isCompact&&p.isTopPanelEnabled?(a+="<div class='ug-lightbox-top-panel'>",a+="<div class='ug-lightbox-top-panel-overlay'></div>",o.lightbox_show_numbers&&(a+="<div class='ug-lightbox-numbers'></div>"),a+="</div>"):o.lightbox_show_numbers&&(a+="<div class='ug-lightbox-numbers'></div>"),a+="<div class='ug-lightbox-button-close'></div>",a+="<div class='ug-lightbox-arrow-left'></div>",a+="<div class='ug-lightbox-arrow-right'></div>",a+="</div>",e=jQuery(a),jQuery("body").append(e),f&&f.setHtml(e),g=e.children(".ug-lightbox-overlay"),0==p.isCompact&&1==p.isTopPanelEnabled&&(n=e.children(".ug-lightbox-top-panel"),0==n.length&&(n=null)),j=e.find(".ug-lightbox-button-close"),o.lightbox_show_numbers&&(m=e.find(".ug-lightbox-numbers")),h=e.children(".ug-lightbox-arrow-left"),i=e.children(".ug-lightbox-arrow-right"),l&&(n?l.appendHTML(n):l.appendHTML(e))}function w(){if(null!==o.lightbox_overlay_color&&g.css("background-color",o.lightbox_overlay_color),null!==o.lightbox_overlay_opacity&&g.fadeTo(0,o.lightbox_overlay_opacity),n&&null!==o.lightbox_top_panel_opacity&&n.children(".ug-lightbox-top-panel-overlay").fadeTo(0,o.lightbox_top_panel_opacity),m){var a={};null!==o.lightbox_numbers_size&&(a["font-size"]=o.lightbox_numbers_size+"px"),o.lightbox_numbers_color&&(a.color=o.lightbox_numbers_color),null!==o.lightbox_numbers_padding_right&&(a["padding-right"]=o.lightbox_numbers_padding_right+"px"),null!==o.lightbox_numbers_padding_top&&(a["padding-top"]=o.lightbox_numbers_padding_top+"px"),m.css(a)}}function x(a){if(!f)return!0;var b={slider_image_padding_top:a};f.setOptions(b),f.refreshSlideItems()}function z(a){if(!n)return!1;if(!l)return!1;var b=n.height();if(0==b)return!1;if(0==n.is(":visible"))return!1;var c=b,d=l.getSize(),e=d.height;b!=p.topPanelHeight&&(c=p.topPanelHeight),e>c&&(c=e),b!=c&&(n.height(c),f&&0==f.isAnimating()&&x(c))}function A(a){var b={},c=o.lightbox_textpanel_width,d=47,e=40;c>a.width-d-e?(b.textpanel_padding_left=d,b.textpanel_padding_right=e,b.textpanel_title_text_align="center",b.textpanel_desc_text_align="center"):(b.textpanel_padding_left=Math.floor((a.width-c)/2),b.textpanel_padding_right=b.textpanel_padding_left,b.textpanel_title_text_align="left",b.textpanel_desc_text_align="left",o.lightbox_textpanel_title_text_align&&(b.textpanel_title_text_align=o.lightbox_textpanel_desc_text_align),o.lightbox_textpanel_desc_text_align&&(b.textpanel_desc_text_align=o.lightbox_textpanel_desc_text_align)),l.setOptions(b),l.refresh(!0,!0),z("positionTextPanelWide"),l.positionPanel()}function B(){if(!n)return!1;n.hide()}function C(){if(!n)return!1;n.show()}function E(a){if(0==p.isOpened)return!1;if(!l)return!1;if(!f)return!1;var b=k.getElementSize(e),c=l.getSize();if(0==c.width||c.height>120)return!1;if(!a)var d=f.getSlideImage(),a=k.getElementSize(d);if(0==a.height||0==a.width)return!1;if(a.bottom+c.height<b.height)return!1;var h=f.getOptions(),i=c.height;if(i!=h.slider_image_padding_bottom){var j={slider_image_padding_bottom:i};if(0==f.isAnimating())return f.setOptions(j),f.refreshSlideItems(),!0}return!1}function F(a,b){if(!a)var c=f.getSlideImage(),a=k.getElementSize(c);p.textPanelTop=a.bottom,!0===b&&l.positionPanel(p.textPanelTop,p.textPanelLeft)}function G(a){var c=(k.getElementSize(e),f.getSlideImage()),d=k.getElementSize(c);if(0==d.width)return!1;p.textPanelLeft=d.left,p.textPanelTop=d.bottom;var g=d.width;if(m){var h=k.getElementSize(m);g-=h.width;var i=d.right-h.width;k.placeElement(m,i,p.textPanelTop)}l&&(l.show(),l.refresh(!0,!0,g),F(d)),0==E(d)&&(p.positionFrom="handleCompactTextpanelSizes",l&&(l.positionPanel(p.textPanelTop,p.textPanelLeft),!0===a&&(a(),Y())))}function H(){return 0==f.isCurrentSlideType("image")||1==f.isCurrentImageInPlace()}function I(a,b){if(0==p.isArrowsInside)return!1;if(!h)return!1;var c=H();if(h.show(),i.show(),p.positionFrom="positionArrowsInside",1==p.isArrowsOnHoverMode&&1==c&&0==Q()&&R(!0),0==c)var d=k.getElementRelativePos(h,"left",o.lightbox_arrows_offset),e=k.getElementRelativePos(h,"middle"),g=k.getElementRelativePos(i,"right",o.lightbox_arrows_offset),j=e;else var l=f.getSlideImage(),m=k.getElementSize(l),d=(k.getElementSize(f.getElement()),k.getElementRelativePos(h,"left",0,l)+m.left+o.lightbox_arrows_inside_offset),e=k.getElementRelativePos(h,"middle",0,l)+m.top,g=k.getElementRelativePos(h,"right",0,l)+m.left-o.lightbox_arrows_inside_offset,j=e;if(!0===b){var q={left:d,top:e},r={left:g,top:j};h.stop().animate(q,{duration:p.fadeDuration}),i.stop().animate(r,{duration:p.fadeDuration})}else h.stop(),i.stop(),k.placeElement(h,d,e),k.placeElement(i,g,j);1==a&&T(b)}function J(a,b){p.positionFrom=null;var c=H(),d=2,g=k.getElementRelativePos(j,"right",2,e);if(0==c)var h=d,i=g;else{var l=f.getSlideImage(),m=k.getElementSize(l),n=k.getElementSize(f.getElement()),q=k.getElementSize(j);n.top==n.height&&(n.top=0);var i=n.left+m.right-q.width/2+o.lightbox_compact_closebutton_offsetx,h=n.top+m.top-q.height/2-o.lightbox_compact_closebutton_offsety;h<d&&(h=d),i>g&&(i=g)}if(!0===b){var r={left:i,top:h};j.stop().animate(r,{duration:p.fadeDuration})}else j.stop(),k.placeElement(j,i,h);!0===a&&U(b)}function K(){j&&j.stop().fadeTo(p.fadeDuration,0),O(),P(),p.positionFrom="hideCompactElements",1==p.isArrowsInside&&R()}function L(){j&&j.hide(),h&&1==p.isArrowsInside&&(h.hide(),i.hide()),m&&m.hide(),l&&l.hide()}function N(){var a=k.getElementSize(e);n&&k.setElementSizeAndPosition(n,0,0,a.width,p.topPanelHeight),h&&0==p.isArrowsInside&&(1==o.lightbox_hide_arrows_onvideoplay&&(h.show(),i.show()),k.placeElement(h,"left","middle",o.lightbox_arrows_offset),k.placeElement(i,"right","middle",o.lightbox_arrows_offset)),0==p.isCompact&&k.placeElement(j,"right","top",2,2),l&&(p.positionFrom="positionElements",0==p.isCompact?A(a):(X(),Y()));var b=a.width,c=a.height;if(f){if(n){var m=n.height(),q={slider_image_padding_top:m};f.setOptions(q)}f.setSize(b,c),f.setPosition(0,0)}}function O(){l&&l.getElement().stop().fadeTo(p.fadeDuration,0)}function P(){m&&m.stop().fadeTo(p.fadeDuration,0)}function Q(){if(!p.lastMouseX)return!0;var a={pageX:p.lastMouseX,pageY:p.lastMouseY};return f.isMouseInsideSlideImage(a)}function R(a,b){return!!h&&(1==p.isArrowsOnHoverMode&&!1===b?(Q(),!0):void(!0===a?(h.stop().fadeTo(0,0),i.stop().fadeTo(0,0)):(h.stop().fadeTo(p.fadeDuration,0),i.stop().fadeTo(p.fadeDuration,0))))}function S(){return!h||(0==h.is(":visible")||1!=h.css("opacity"))}function T(a,b){return!!h&&(1==p.isArrowsOnHoverMode&&!0!==b&&1==H()||(1==f.isSwiping()||(!0!==a&&(h.stop(),i.stop()),h.fadeTo(p.fadeDuration,1),void i.fadeTo(p.fadeDuration,1))))}function U(a){!0!==a&&j.stop(),j.fadeTo(p.fadeDuration,1)}function V(a){if(!l)return!1;if(!a)var a=f.getCurrentItem();l.setTextPlain(a.title,a.description)}function W(a){if(!m)return!1;if(!a)var a=f.getCurrentItem();var b=c.getNumItems(),d=a.index+1;m.html(d+" / "+b)}function X(){if(!l)return!1;l.getElement().show().stop().fadeTo(p.fadeDuration,1)}function Y(){m&&m.stop().fadeTo(p.fadeDuration,1)}function $(){if(0==p.isCompact)return!0;K()}function _(){if(0==p.isCompact)return!0;if(p.positionFrom="onZoomChange",J(!1,!0),I(!1,!0),1==p.isCompact){0==(f.isCurrentSlideType("image")&&1==f.isCurrentImageInPlace())?(O(),P()):(p.positionFrom="onZoomChange",X(),Y())}}function aa(){if(0==p.isCompact)return!0;p.positionFrom="onSliderAfterReturn",J(!0),I(!0),0==E()&&G(),X(),Y()}function ba(a,b){return b=jQuery(b),0==p.isCompact||(0==f.isSlideCurrent(b)||(p.positionFrom="onSliderAfterPutImage",J(!0),I(!0),void G()))}function ca(){var a=f.getOptions(),b=a.slider_image_padding_top;if(n){var c=n.height();c!=b&&x(c)}if(1==p.isCompact){if(V(),W(),p.positionFrom="onSliderTransitionEnd",J(!0),I(!0),0==f.isSlideActionActive()){0==E()&&G()}X(),Y()}}function da(c,d){0==p.isCompact?(m&&W(d),l&&(V(d),0==p.isRightNowOpened&&(l.positionElements(!1),z("onchange"),l.positionPanel()))):0==f.isAnimating()&&(l&&V(d),m&&W(d)),0==p.isSliderChangedOnce&&(p.isSliderChangedOnce=!0,b.trigger(a.events.LIGHTBOX_INIT))}function ea(b,c){if("image"!=f.getSlideType()&&0==p.isCompact&&f.isSlideActionActive())return!0;if(1==f.isPreloading())return a.close("slider"),!0;if(1==o.lightbox_close_on_emptyspace){0==f.isMouseInsideSlideImage(c)&&a.close("slider_inside")}}function fa(){N()}function ga(){n?B():m&&m.hide(),h&&1==o.lightbox_hide_arrows_onvideoplay&&(h.hide(),i.hide())}function ha(){n?(C(),z("onStopVideo")):m&&m.show(),h&&1==o.lightbox_hide_arrows_onvideoplay&&(h.show(),i.show())}function ia(b,c){switch(c){case 27:1==p.isOpened&&a.close("keypress")}}function ja(){1==p.isArrowsOnHoverMode&&T(!1,!0)}function ka(a){p.positionFrom="hideCompactElements",1==p.isArrowsOnHoverMode&&1==H()&&R(!1,!0)}function la(a){p.lastMouseX=a.pageX,p.lastMouseY=a.pageY,1==S()&&Q()&&0==f.isAnimating()&&(p.positionFrom="onMouseMove",h&&0==h.is(":animated")&&T(!1,!0))}function ma(a,b,d,e){if(0==p.isOpened)return!0;switch(o.gallery_mousewheel_role){default:case"zoom":"image"!=f.getSlideType()&&a.preventDefault();break;case"none":a.preventDefault();break;case"advance":c.onGalleryMouseWheel(a,b,d,e)}}function na(){if(g.on("touchstart",function(a){a.preventDefault()}),g.on("touchend",function(b){a.close("overlay")}),k.addClassOnHover(i,"ug-arrow-hover"),k.addClassOnHover(h,"ug-arrow-hover"),k.addClassOnHover(j),c.setNextButton(i),c.setPrevButton(h),j.click(function(){a.close("button")}),d.on(c.events.ITEM_CHANGE,da),f){jQuery(f).on(f.events.TRANSITION_END,ca),jQuery(f).on(f.events.CLICK,ea);var b=f.getVideoObject();jQuery(b).on(b.events.PLAY_START,ga),jQuery(b).on(b.events.PLAY_STOP,ha),jQuery(f).on(f.events.START_DRAG,$),jQuery(f).on(f.events.TRANSITION_START,$),jQuery(f).on(f.events.AFTER_DRAG_CHANGE,aa),jQuery(f).on(f.events.AFTER_RETURN,aa),jQuery(f).on(f.events.AFTER_PUT_IMAGE,ba),jQuery(f).on(f.events.ZOOM_CHANGE,_),jQuery(f).on(f.events.IMAGE_MOUSEENTER,ja),jQuery(f).on(f.events.IMAGE_MOUSELEAVE,ka)}jQuery(window).resize(function(){if(0==p.isOpened)return!0;k.whenContiniousEventOver("lightbox_resize",fa,100)}),d.on(c.events.GALLERY_KEYPRESS,ia),1==p.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",la),e.on("mousewheel",ma)}function oa(){p.isCompact=!1,u(),o=jQuery.extend({},p.originalOptions),f.setOptions(o)}var d,e,g,h,i,j,m,n,a=this,b=jQuery(this),c=new UniteGalleryMain,f=new UGSlider,k=new UGFunctions,l=new UGTextPanel,o={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var p={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,isRightNowOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},q={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:p.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},r={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),g.off("touchstart"),g.off("touchend"),j.off("click"),d.off(c.events.ITEM_CHANGE),f){jQuery(f).off(f.events.TRANSITION_END),jQuery(f).off(f.events.CLICK),jQuery(f).off(f.events.START_DRAG),jQuery(f).off(f.events.TRANSITION_START),jQuery(f).off(f.events.AFTER_DRAG_CHANGE),jQuery(f).off(f.events.AFTER_RETURN);var a=f.getVideoObject();jQuery(a).off(a.events.PLAY_START),jQuery(a).off(a.events.PLAY_STOP),jQuery(f).on(f.events.IMAGE_MOUSEENTER,ja),jQuery(f).on(f.events.IMAGE_MOUSELEAVE,ka),f.destroy()}jQuery(window).unbind("resize"),d.off(c.events.GALLERY_KEYPRESS,ia),e.off("mousewheel"),e.remove()},this.open=function(a){var b=c.getItem(a);if(p.isOpened=!0,p.isRightNowOpened=!0,setTimeout(function(){p.isRightNowOpened=!1},100),f&&f.setItem(b,"lightbox_open"),l&&l.setTextPlain(b.title,b.description),g.stop().fadeTo(0,0),e.show(),e.fadeTo(0,1),g.stop().fadeTo(p.fadeDuration,o.lightbox_overlay_opacity),N(),1==p.isCompact){1==f.isPreloading()?L():1==p.isArrowsInside&&(h.hide(),i.hide())}f&&f.startSlideAction(),d.trigger(c.events.OPEN_LIGHTBOX,b)},this.close=function(a){p.isOpened=!1,1==p.isCompact&&K(),f&&f.stopSlideAction(),"image"!=f.getSlideType()?e.hide():e.fadeTo(p.fadeDuration,0,function(){e.hide()}),d.trigger(c.events.CLOSE_LIGHTBOX)},this.init=function(a,b){t(a,b)},this.putHtml=function(){c.isMobileMode()&&1==p.isCompact&&oa(),v()},this.run=function(){w(),f&&f.run(),na()}}function UGCarousel(){function p(a,b){g_objects=a.getObjects(),c=a,d=jQuery(a),e=g_objects.g_objWrapper,g=g_objects.g_arrItems,m=jQuery.extend(m,b),h.setFixedMode(),h.setApproveClickFunction(_),h.init(a,m),i=h.getObjThumbs(),m=h.getOptions(),n.initTileWidth=m.tile_width,n.initTileHeight=m.tile_height,n.tileWidth=m.tile_width}function q(a){if(!a)var a=e;e.append("<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>"),j=e.children(".ug-carousel-wrapper"),k=j.children(".ug-carousel-inner"),h.setHtml(k),i.getThumbs().fadeTo(0,1)}function r(a,b){if(!b)var b=n.initTileHeight/n.initTileWidth*a;n.tileWidth=a;var c={tile_width:a,tile_height:b};h.setOptions(c),m.tile_width=a,m.tile_height=b,h.resizeAllTiles(a),I(!0)}function s(){if(null===n.carouselMaxWidth)throw new Error("The carousel width not set");if(n.tileWidth<n.initTileWidth){var b=n.carouselMaxWidth-2*m.carousel_padding;b>n.initTileWidth&&(b=n.initTileWidth),r(b);var c=f.getNumItemsInSpace(n.carouselMaxWidth,b,m.carousel_space_between_tiles)}else{var c=f.getNumItemsInSpace(n.carouselMaxWidth,n.tileWidth,m.carousel_space_between_tiles);if(c<=0){c=1;var b=n.carouselMaxWidth-2*m.carousel_padding;r(b)}}var d=f.getSpaceByNumItems(c,n.tileWidth,m.carousel_space_between_tiles);d+=2*m.carousel_padding,j.width(d),1==n.isFirstTimeRun?($(),h.run(),jQuery.each(g,function(a,b){b.objThumbWrapper.data("index",a),e.trigger(n.eventSizeChange,[b.objThumbWrapper,!0]),b.objTileOriginal=b.objThumbWrapper.clone(!0,!0)}),I(!0),1==m.carousel_autoplay&&a.startAutoplay()):(1==m.carousel_autoplay&&a.pauseAutoplay(),N(0,!1),1==m.carousel_autoplay&&a.startAutoplay()),R(),n.isFirstTimeRun=!1}function u(){return f.getElementSize(k).left}function v(a){return f.getMousePosition(a).pageX}function w(){return k.children(".ug-thumb-wrapper")}function x(a){return f.getNumItemsInSpace(a,n.tileWidth,m.carousel_space_between_tiles)}function y(){return w().length}function z(a){J(a);var b=w();return jQuery(b[a])}function A(){return k.children(".ug-thumb-wrapper").first()}function B(){return k.children(".ug-thumb-wrapper").last()}function C(a,b,d){var e=a.data("index");if(void 0==e)throw new Error("every tile should have index!");for(var f=[],g=0;g<b;g++){if("prev"==d)var h=c.getPrevItem(e,!0);else var h=c.getNextItem(e,!0);if(!h)throw new Error("the item to add is empty");var i=h.objTileOriginal.clone(!0,!0);e=h.index,i.addClass("cloned"),f.push(i)}return f}function D(){var a=f.getElementSize(j),b=f.getElementSize(k),c=b.width-a.width+b.left;return n.sideSpace-c}function E(){var a=-u();return n.sideSpace-a}function F(){return f.getElementSize(j).width}function G(){return x(F())}function I(a){if(!a)var a=!1;var e,b=w(),c=0,d=0;return jQuery.each(b,function(a,g){g=jQuery(g),f.placeElement(g,c,0);var h=f.getElementSize(g);c+=h.width+m.carousel_space_between_tiles,d=Math.max(d,h.height),a==b.length-1&&(e=h.right)}),k.width(e),d+=2*m.carousel_padding,!0===a&&(k.height(d),j.height(d)),N(n.numCurrent,!1),e}function J(a){if(a>w().length-1)throw new Error("Wrogn tile number: "+a)}function K(a,b){if("left"==b)var c=A();else var c=B();var d="left"==b?"prev":"next",f=C(c,a,d);jQuery.each(f,function(a,c){"left"==b?k.prepend(c):k.append(c),e.trigger(n.eventSizeChange,c),h.loadTileImage(c)})}function L(a,b){J(d);for(var c=w(),d=c.length,e=0;e<a;e++)"left"==b?jQuery(c[e]).remove():jQuery(c[d-1-e]).remove()}function M(a){var b={left:a+"px"};k.css(b)}function N(a,b,c){if(void 0===b){var b=!0;if(k.is(":animated"))return!0}var d=z(a),e=f.getElementSize(d),g=-e.left+m.carousel_padding,h={left:g+"px"};if(!0===b){var i=m.carousel_scroll_duration,j=m.carousel_scroll_easing;!0===c&&(i=n.scrollShortDuration,j=n.scrollShortEasing),k.stop(!0).animate(h,{duration:i,easing:j,queue:!1,complete:function(){n.numCurrent=a,Q(!0)}})}else n.numCurrent=a,k.css(h)}function O(){var a=-u(),b=x(a),c=f.getElementSize(z(b)).left,d=f.getElementSize(z(b+1)).left;return Math.abs(c-a)<Math.abs(d-a)?b:b+1}function P(){N(O(),!0,!0)}function Q(){var a=E(),b=D(),c=0,d=0,e=0,f=0,g=y();if(a>n.spaceActionSize)c=x(a),K(c,"left"),n.numCurrent+=c;else if(a<-n.spaceActionSize){var e=x(Math.abs(a));L(e,"left"),n.numCurrent-=e}if(b>n.spaceActionSize?(d=x(b),K(d,"right")):b<-n.spaceActionSize&&(f=x(Math.abs(b)),L(f,"right")),f>g)throw new Error("Can't remove more then num tiles");var h=!1;return(c||d||e||f)&&(I(),h=!0),h}function R(a){f.placeElement(k,0,m.carousel_padding),Q()}function T(){"left"==m.carousel_autoplay_direction?a.scrollRight(1):a.scrollLeft(1)}function V(b){if(1==n.touchActive)return!0;n.touchActive=!0,a.pauseAutoplay(),n.startTime=jQuery.now(),n.startMousePos=v(b),n.startInnerPos=u(),n.lastTime=n.startTime,n.lastMousePos=n.startMousePos,f.storeEventData(b,n.storedEventID)}function W(a){if(0==n.touchActive)return!0;f.updateStoredEventData(a,n.storedEventID),a.preventDefault();var b=null;if(1==m.carousel_vertical_scroll_ondrag&&(b=f.handleScrollTop(n.storedEventID)),"vert"===b)return!0;n.lastMousePos=v(a);var c=n.lastMousePos-n.startMousePos,d=n.startInnerPos+c,e=c>0?"prev":"next",g=f.getElementSize(k).width;d>0&&"prev"==e&&(d/=3),d<-g&&"next"==e&&(d=n.startInnerPos+c/3),M(d)}function X(b){if(0==n.touchActive)return!0;n.touchActive=!1,P(),a.unpauseAutoplay()}function Y(b){if(0==m.carousel_autoplay_pause_onhover)return!0;1==n.isPlayMode&&0==n.isPaused&&a.pauseAutoplay()}function Z(b){if(0==m.carousel_autoplay_pause_onhover)return!0;a.unpauseAutoplay()}function $(){h.initEvents(),j.bind("mousedown touchstart",V),jQuery("body").bind("mousemove touchmove",W),jQuery(window).add("body").bind("mouseup touchend",X),j.hover(Y,Z)}function _(){var a=n.lastTime-n.startTime,b=Math.abs(n.lastMousePos-n.startMousePos);return!(a>300)&&!(b>30)}var d,e,g,j,k,a=this,b=jQuery(this),c=new UniteGalleryMain,f=new UGFunctions,h=new UGTileDesign,i=new UGThumbsGeneral,m={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var n={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){n.isPlayMode=!0,n.isPaused=!1,b.trigger(a.events.START_PLAY),n.handle&&clearInterval(n.handle),n.handle=setInterval(T,m.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==n.isPlayMode||(0==n.isPaused||void a.startAutoplay())},this.pauseAutoplay=function(){if(0==n.isPlayMode)return!0;n.isPaused=!0,n.handle&&clearInterval(n.handle),b.trigger(a.events.PAUSE_PLAY)},this.stopAutoplay=function(){if(0==n.isPlayMode)return!0;n.isPaused=!1,n.isPlayMode=!1,n.handle&&clearInterval(n.handle),b.trigger(a.events.STOP_PLAY)},this.destroy=function(){n.handle&&clearInterval(n.handle),b.off(a.events.START_PLAY),b.off(a.events.STOP_PLAY),j.unbind("mousedown"),j.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),j.off("mouseenter").off("mouseleave"),h.destroy()},this.init=function(a,b,c){c&&this.setMaxWidth(c),p(a,b)},this.setMaxWidth=function(a){n.carouselMaxWidth=a},this.setHtml=function(a){q(a)},this.getElement=function(){return j},this.getObjTileDesign=function(){return h},this.getEstimatedHeight=function(){return m.tile_height+2*m.carousel_padding},this.run=function(){s()},this.scrollRight=function(a){if(!a||"object"==typeof a)var a=m.carousel_navigation_numtiles;var b=G();a>b&&(a=b);var c=n.numCurrent-a;c<=0&&(c=0),N(c)},this.scrollLeft=function(a){if(!a||"object"==typeof a)var a=m.carousel_navigation_numtiles;var b=G();a>b&&(a=b);var c=y(),d=n.numCurrent+a;d>=c&&(d=c-1),N(d)},this.setScrollLeftButton=function(b){f.setButtonMobileReady(b),f.setButtonOnClick(b,a.scrollLeft)},this.setScrollRightButton=function(b){f.setButtonMobileReady(b),f.setButtonOnClick(b,a.scrollRight)},this.setPlayPauseButton=function(c){f.setButtonMobileReady(c),1==n.isPlayMode&&0==n.isPaused&&c.addClass("ug-pause-icon"),b.on(a.events.START_PLAY,function(){c.addClass("ug-pause-icon")}),b.on(a.events.STOP_PLAY,function(){c.removeClass("ug-pause-icon")}),f.setButtonOnClick(c,function(){0==n.isPlayMode||1==n.isPaused?a.startAutoplay():a.stopAutoplay()})}}function UGTabs(){function i(a,b){d=a,c=jQuery(d),h=jQuery.extend(h,b),"select"==h.tabs_type?g=jQuery(h.tabs_container):f=jQuery(h.tabs_container+" .ug-tab")}function j(){n()}function k(a){d.requestNewItems(a)}function l(){var a=h.tabs_class_selected,b=jQuery(this);if(b.hasClass(a))return!0;f.not(b).removeClass(a),b.addClass(a);var c=b.data("catid");if(!c)return!0;k(c)}function m(){var a=jQuery(this),b=a.val();if(!b)return!0;k(b)}function n(){"select"==h.tabs_type?g.change(m):f.click(l)}var c,f,g,d=(jQuery(this),new UniteGalleryMain),h=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){g&&g.off("change"),f&&f.off("click")},this.init=function(a,b){i(a,b)},this.run=function(){j()}}function UG_API(a){function g(a){var b={index:a.index,title:a.title,description:a.description,urlImage:a.urlImage,urlThumb:a.urlThumb},c=a.objThumbImage.data();for(var d in c){switch(d){case"image":case"description":continue}b[d]=c[d]}return b}var e,b=this,d=(jQuery(b),new UniteGalleryMain),f=[];d=a,e=jQuery(a),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(a,c,h){switch(!0!==h&&f.push({event:a,func:c}),a){case"item_change":e.on(d.events.ITEM_CHANGE,function(){var a=d.getSelectedItem(),b=g(a);c(b.index,b)});break;case"resize":e.on(d.events.SIZE_CHANGE,c);break;case"enter_fullscreen":e.on(d.events.ENTER_FULLSCREEN,c);break;case"exit_fullscreen":e.on(d.events.EXIT_FULLSCREEN,c);break;case"play":e.on(d.events.START_PLAY,c);break;case"stop":e.on(d.events.STOP_PLAY,c);break;case"pause":e.on(d.events.PAUSE_PLAYING,c);break;case"continue":e.on(d.events.CONTINUE_PLAYING,c);break;case"open_lightbox":e.on(d.events.OPEN_LIGHTBOX,c);break;case"close_lightbox":e.on(d.events.CLOSE_LIGHTBOX,c);break;default:console&&console.log("wrong api event: "+a)}e.trigger(b.events.API_ON_EVENT,[a,c])},this.play=function(){d.startPlayMode()},this.stop=function(){d.stopPlayMode()},this.togglePlay=function(){d.togglePlayMode()},this.enterFullscreen=function(){d.toFullScreen()},this.exitFullscreen=function(){d.exitFullScreen()},this.toggleFullscreen=function(){d.toggleFullscreen()},this.resetZoom=function(){var a=d.getObjSlider();if(!a)return!1;a.zoomBack()},this.zoomIn=function(){var a=d.getObjSlider();if(!a)return!1;a.zoomIn()},this.zoomOut=function(){var a=d.getObjSlider();if(!a)return!1;a.zoomOut()},this.nextItem=function(){d.nextItem()},this.prevItem=function(){d.prevItem()},this.selectItem=function(a){d.selectItem(a)},this.resize=function(a,b){b?d.resize(a,b):d.resize(a)},this.getItem=function(a){return g(d.getItem(a))},this.getNumItems=function(){return d.getNumItems()},this.reloadGallery=function(a){if(!a)var a={};d.run(null,a),f.map(function(a){b.on(a.event,a.func,!0)})},this.destroy=function(){d.destroy()},e.trigger(b.events.API_INIT_FUNCTIONS,b)}var g_ugFunctions=new UGFunctions;!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,k=0,l=0,m=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(l=-1*g.detail),"wheelDelta"in g&&(l=g.wheelDelta),"wheelDeltaY"in g&&(l=g.wheelDeltaY),"wheelDeltaX"in g&&(k=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(k=-1*l,l=0),j=0===l?k:l,"deltaY"in g&&(l=-1*g.deltaY,j=l),"deltaX"in g&&(k=g.deltaX,0===l&&(j=-1*k)),0!==l||0!==k){if(1===g.deltaMode){var n=a.data(this,"mousewheel-line-height");j*=n,l*=n,k*=n}else if(2===g.deltaMode){var o=a.data(this,"mousewheel-page-height");j*=o,l*=o,k*=o}return m=Math.max(Math.abs(l),Math.abs(k)),(!f||f>m)&&(f=m,d(g,m)&&(f/=40)),d(g,m)&&(j/=40,k/=40,l/=40),j=Math[j>=1?"floor":"ceil"](j/f),k=Math[k>=1?"floor":"ceil"](k/f),l=Math[l>=1?"floor":"ceil"](l/f),b.deltaX=k,b.deltaY=l,b.deltaFactor=f,b.deltaMode=0,h.unshift(b,j,k,l),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var a=h.length;a;)this.removeEventListener(h[--a],b,!1);else this.onmousewheel=null},getLineHeight:function(b){return parseInt(a(b)["offsetParent"in a.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(1-Math.pow(2,-10*b/e))+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(2-Math.pow(2,-10*--b))+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*((1+(f*=1.525))*b-f)+c:d/2*((b-=2)*b*((1+(f*=1.525))*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}if(void 0===a.cssHooks)return!1;var f,h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e))&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1)),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(a){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(a){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(a){function b(){var c=this===document?a(this):a(this).contents();c.mousemove(function(b){a.mlp={x:b.pageX,y:b.pageY}}),c.find("iframe").load(b)}a.mlp={x:0,y:0},a(b),a.fn.ismouseover=function(){var b=!1;return this.eq(0).each(function(){var c=a(this).is("iframe")?a(this).contents().find("body"):a(this),d=c.offset();b=d.left<=a.mlp.x&&d.left+c.outerWidth()>a.mlp.x&&d.top<=a.mlp.y&&d.top+c.outerHeight()>a.mlp.y}),b}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(a){var b=jQuery(this),c="#"+b.attr("id");if(!a)var a={};var d=new UniteGalleryMain;return d.run(c,a),new UG_API(d)};